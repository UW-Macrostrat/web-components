import{m as u}from"./index.modern-CqpcyjV2.js";import{r as l}from"./index-BBkUAzwr.js";import{c as f}from"./index-DtBkkNk_.js";import{u as se,N as ie,D as y,A as g,v as le,a as ce,w as $,x as ue,y as de,z as fe,b as B,I as pe,E as me}from"./buttons-CKwIiXPX.js";import{_ as N,a as b,b as w}from"./tslib.es6-ChmHIYM0.js";import{B as he}from"./buttonGroup-Dyi9Gksa.js";import"./iconSvgPaths-uSutIUG7.js";var ve=function(){function e(t,n){var r=this;this.container=t,this.className=n,this.isRunning=!1,this.handleKeyDown=function(a){a.key==="Tab"&&(r.reset(),r.container.addEventListener("mousedown",r.handleMouseDown))},this.handleMouseDown=function(){r.reset(),r.container.classList.add(r.className),r.container.addEventListener("keydown",r.handleKeyDown)}}return e.prototype.isActive=function(){return this.isRunning},e.prototype.start=function(){this.container.addEventListener("mousedown",this.handleMouseDown),this.isRunning=!0},e.prototype.stop=function(){this.reset(),this.isRunning=!1},e.prototype.reset=function(){this.container.classList.remove(this.className),this.container.removeEventListener("keydown",this.handleKeyDown),this.container.removeEventListener("mousedown",this.handleMouseDown)},e}(),ye={isActive:function(){return!0},start:function(){return!0},stop:function(){return!0}},_=typeof document<"u"?new ve(document.documentElement,se):ye,ge={alwaysShowFocus:function(){return _.stop()},isActive:function(){return _.isActive()},onlyShowFocusOnTabs:function(){return _.start()}},Ne=function(e){N(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){var n=this.props,r=n.className,a=b(n,["className"]);return l.createElement("div",w({className:f(ie,r)},a))},t.displayName="".concat(y,".NavbarDivider"),t}(g),U=function(e){N(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){var n=this.props,r=n.align,a=n.children,o=n.className,i=b(n,["align","children","className"]),d=f(le,ce(r),o);return l.createElement("div",w({className:d},i),a)},t.displayName="".concat(y,".NavbarGroup"),t.defaultProps={align:$.LEFT},t}(g),be=function(e){N(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){var n=this.props,r=n.children,a=n.className,o=b(n,["children","className"]);return l.createElement("div",w({className:f(ue,a)},o),r)},t.displayName="".concat(y,".NavbarHeading"),t}(g),D=function(e){N(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){var n,r=this.props,a=r.children,o=r.className,i=r.fixedToTop,d=b(r,["children","className","fixedToTop"]),x=f(de,(n={},n[fe]=i,n),o);return l.createElement("div",w({className:x},d),a)},t.displayName="".concat(y,".Navbar"),t.Divider=Ne,t.Group=U,t.Heading=be,t}(g),J=typeof window>"u",we=!J&&"ResizeObserver"in window,C=function(){},xe={observe:C,unobserve:C},A=we?new ResizeObserver(function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],a=r.target,o=a.getBoundingClientRect(),i=a.$$useElementDimensionsSet;i&&i(Object.assign(o,r))}}):xe,Ee=J?l.useEffect:l.useLayoutEffect,X=function(){function e(){this.bottom=0,this.height=0,this.left=0,this.right=0,this.top=0,this.width=0,this.x=0,this.y=0}return e.prototype.toJSON=function(){return JSON.stringify(this)},e}(),Pe=new X,Se=new X,I={inlineSize:0,blockSize:0},Re=Object.assign(Se,{contentBoxSize:I,borderBoxSize:I,contentRect:Pe,target:null}),F=function(){var e=l.useRef(null),t=l.useState(Re),n=t[0],r=t[1],a=l.useCallback(function(o){e.current&&A.unobserve(e.current),o instanceof Element&&(o.$$useElementDimensionsSet=r,A.observe(o))},[]);return Ee(function(){return function(){e.current&&A.unobserve(e.current)}},[]),[n,a]};const _e="_spacer_187rs_11",De="_expanded_187rs_34",Ae={"user-interface":"_user-interface_187rs_1",spacer:_e,"three-column":"_three-column_187rs_15","main-column":"_main-column_187rs_30","context-column":"_context-column_187rs_34",expanded:De},s=u.styled(Ae);var Y=(e=>(e.Context="context",e.Detail="detail",e))(Y||{});function q(e){const t=Object.keys(e);return new Set(t.filter(n=>e[n]))}const Te=l.createContext(e=>e);function Le(e,t){let n,r;switch(t.type){case"set-is-reduced":return{...e,isReduced:t.value};case"show-panel":r=t.shouldShow;case"toggle-panel":n=t.panel,r??(r=!e.panelState[n]);const a={...e.panelState,[n]:r};let o=e.keyPanel;r?o=n:e.keyPanel==n&&(o=null);const i=q(a);return i.size==1&&(o=i.values().next().value),{...e,panelState:a,keyPanel:o}}}function M(e,t,n,r){const a=t[e],o=a&&a==n[e];return{active:a,minimal:!0,intent:o?pe.PRIMARY:null,onClick(){r({type:"show-panel",panel:e,shouldShow:!o})}}}function T(e){const{contextPanel:t,detailPanel:n,title:r="User interface",children:a,footer:o,panelState:i={},twoPanelBreakpoint:d=800,preferredMainWidth:x,expandedContext:L=!1,headerActions:Z=null,contextButtonPlacement:k=me.LEFT,...ee}=e;let E=null;i.detail?E="detail":i.context&&(E="context");const[P,p]=l.useReducer(Le,{panelState:{context:!0,...i},keyPanel:E,isReduced:!1},void 0),[S,te]=F(),[m,ne]=F(),R={...P.panelState,...i};let c={...R};const re=P.keyPanel=="context"?"detail":"context",ae=x??Math.max(((S==null?void 0:S.width)??0)*.5,d*.66);P.isReduced&&(c[re]=!1),L&&(c.context=!0,c.detail=!1),l.useEffect(()=>{if(q(c).size<=1)return;const oe=(m==null?void 0:m.width)<ae;p({type:"set-is-reduced",value:oe})},[m]);const O=s.if(t!=null)(B,{icon:"projects",...M("context",R,c,p)});return s(Te.Provider,{value:p},s("div.user-interface",{ref:te,...ee},[s(D,[s(D.Group,[s.if(k=="left")([O,s("div.spacer")]),s(D.Heading,null,r)]),s(U,{align:$.RIGHT},[Z,s("div.spacer"),s(he,{minimal:!0},[s.if(k=="right")([O]),s.if(n!=null)(B,{icon:"properties",...M("detail",R,c,p)})])])]),s("div.three-column",[s.if(t!=null&&c.context)("div.column.context-column",{className:f({expanded:L??!1})},t),s.if(a!=null)("div.column.main-column",{ref:ne},a),s.if(n!=null&&c.detail)("div.column.detail-column",null,n)]),s.if(o!=null)("footer",null,o)]))}T.Panels=Y;ge.onlyShowFocusOnTabs();function z({color:e,children:t,width:n="100%"}){return u("div.colored-panel",{style:{backgroundColor:e,width:n,height:"100%"}},t)}const ze={title:"Layout/Three-column user interface",component:T,args:{contextPanel:u(z,{color:"dodgerblue",width:300}),children:u("div.main",[u("div","Hello, world!")]),detailPanel:u(z,{color:"goldenrod",width:300}),footer:null},parameters:{layout:"fullscreen",docs:{inlineStories:!1,iframeHeight:345}}},Q=e=>u(T,{...e}),h=Q.bind({}),v=Q.bind({footer:u("p",null,"This is a really excellent footer")});var G,H,V;h.parameters={...h.parameters,docs:{...(G=h.parameters)==null?void 0:G.docs,source:{originalSource:`args => h(ThreeColumnLayout, {
  ...args
})`,...(V=(H=h.parameters)==null?void 0:H.docs)==null?void 0:V.source}}};var j,K,W;v.parameters={...v.parameters,docs:{...(j=v.parameters)==null?void 0:j.docs,source:{originalSource:`Template.bind({
  footer: h("p", null, "This is a really excellent footer")
})`,...(W=(K=v.parameters)==null?void 0:K.docs)==null?void 0:W.source}}};const Ge=["ThreePanelLayout","WithFooter"];export{h as ThreePanelLayout,v as WithFooter,Ge as __namedExportsOrder,ze as default};
