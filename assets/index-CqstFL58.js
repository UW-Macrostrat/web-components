import{r as p,R as mt}from"./index-BBkUAzwr.js";import{n as $,o as oe,l as sn,h as M,v as Br,p as zi,e as zs,a as pu,b as fu,r as mu,c as vu,d as ze,D as qs,s as Tt,f as gu,g as yu,t as Eu,j as Vr,P as Gs,k as _u,S as Cu,q as qi,u as Do,w as Io,x as bu,y as Xs,z as xu,A as wu,B as Pu,C as Qn,E as an,T as Nu,m as Tu}from"./index-C9bLEcPW.js";import{m as w,b as Gt,y as Su,p as Ru}from"./index.modern-CqpcyjV2.js";import{P as N}from"./index-_4_hgnnR.js";import{S as Ws,c as Du,E as Ks,R as Iu,P as Mu,M as Ou,i as ku,j as Au,b as Lu}from"./index-BQakYib5.js";import{u as De,a as Fu,i as Uu,J as Hu,_ as Bu,m as Vu,d as Mo}from"./toaster-CUxSLCcg.js";import{c as B}from"./index-DtBkkNk_.js";import{r as ee,R as dn}from"./index-PqR-_bA4.js";import{E as Yu,a as $u,c as zu,D as qu,A as Gu,_ as js,B as Xu}from"./buttons-ClSVyNZf.js";import{_ as W,b as k,a as vt,c as ye}from"./tslib.es6-ChmHIYM0.js";import{J as Wu,r as Ku,D as ju,K as Zu,P as Qu,Q as Ju,T as tc,U as ec,I as nc}from"./classes-BP-FkMqc.js";import{c as Zs}from"./chroma-Bi8DEGLa.js";import{a as ic}from"./Google-cn5MAfvL.js";import"./isUndefined-CmGWwQE3.js";import{a as Qs}from"./index-DwtI8WR9.js";import{I as rc,a as oc,i as sc}from"./iconSvgPaths-uSutIUG7.js";import{_ as Yr,a as Js,b as ac}from"./assertThisInitialized-CtXiITI_.js";import{_ as $r,a as lc,r as uc}from"./removeClass-BFK1mqj1.js";import{R as cc}from"./ResizeObserver-CGzHS_VR.js";import"./axios-Bqepj0vs.js";import{g as hc}from"./group-Bf4Jec6Z.js";var Ei=typeof navigator<"u"?navigator.userAgent:"",_i={isEdge:/Edge/.test(Ei),isInternetExplorer:/Trident|rv:11/.test(Ei),isWebkit:/AppleWebKit/.test(Ei)},dc={isEdge:function(){return _i.isEdge},isInternetExplorer:function(){return _i.isInternetExplorer},isWebkit:function(){return _i.isWebkit}},pc=5,fc=30,mc=function(n){W(e,n);function e(t,i){var r=n.call(this,t,i)||this;r.inputElement=null,r.valueElement=null,r.refHandlers={content:function(s){r.valueElement=s},input:function(s){if(s!=null&&(r.inputElement=s,r.props.alwaysRenderInput||r.inputElement.focus(),r.state!=null&&r.state.isEditing)){var a=yc(s);if(a){var l=s.value.length;s.setSelectionRange(r.props.selectAllOnFocus?0:l,l)}(!a||!r.props.selectAllOnFocus)&&(s.scrollLeft=s.scrollWidth)}}},r.cancelEditing=function(){var s,a,l,u,c=r.state,h=c.lastValue,d=c.value;r.setState({isEditing:!1,value:h}),d!==h&&((a=(s=r.props).onChange)===null||a===void 0||a.call(s,h)),(u=(l=r.props).onCancel)===null||u===void 0||u.call(l,h)},r.toggleEditing=function(){var s,a;if(r.state.isEditing){var l=r.state.value;r.setState({isEditing:!1,lastValue:l}),(a=(s=r.props).onConfirm)===null||a===void 0||a.call(s,l)}else r.props.disabled||r.setState({isEditing:!0})},r.handleFocus=function(){var s=r.props,a=s.alwaysRenderInput,l=s.disabled,u=s.selectAllOnFocus;if(l||r.setState({isEditing:!0}),a&&u&&r.inputElement!=null){var c=r.inputElement.value.length;r.inputElement.setSelectionRange(0,c)}},r.handleTextChange=function(s){var a,l,u=s.target.value;r.props.value==null&&r.setState({value:u}),(l=(a=r.props).onChange)===null||l===void 0||l.call(a,u)},r.handleKeyEvent=function(s){var a=s.altKey,l=s.ctrlKey,u=s.metaKey,c=s.shiftKey,h=s.which;if(h===Yu){r.cancelEditing();return}var d=a||l||u||c;h===$u&&((a||c)&&s.preventDefault(),r.props.confirmOnEnterKey&&r.props.multiline?s.target!=null&&d?(gc(s.target,`
`),r.handleTextChange(s)):r.toggleEditing():(!r.props.multiline||d)&&r.toggleEditing())};var o=t.value==null?t.defaultValue:t.value;return r.state={inputHeight:0,inputWidth:0,isEditing:t.isEditing===!0&&t.disabled===!1,lastValue:o,value:o},r}return e.prototype.render=function(){var t,i,r=this.props,o=r.alwaysRenderInput,s=r.disabled,a=r.multiline,l=r.contentId,u=(i=this.props.value)!==null&&i!==void 0?i:this.state.value,c=u!=null&&u!=="",h=B(Wu,Ku(this.props.intent),(t={},t[ju]=s,t[Zu]=this.state.isEditing,t[Qu]=!c,t[Ju]=a,t),this.props.className),d;a?d={height:this.state.isEditing?void 0:this.state.inputHeight}:d={height:this.state.inputHeight,lineHeight:this.state.inputHeight!=null?"".concat(this.state.inputHeight,"px"):void 0,minWidth:this.props.minWidth};var f=o||this.state.isEditing||s?void 0:0,m=o&&!this.state.isEditing,g=l!=null?{id:l}:{};return p.createElement("div",{className:h,onFocus:this.handleFocus,tabIndex:f},o||this.state.isEditing?this.renderInput(u):void 0,m?void 0:p.createElement("span",k({},g,{className:tc,ref:this.refHandlers.content,style:d}),c?u:this.props.placeholder))},e.prototype.componentDidMount=function(){this.updateInputDimensions()},e.prototype.componentDidUpdate=function(t,i){var r,o,s={};this.props.value!==t.value&&(t.value!=null||this.props.value!=null)&&(s.value=this.props.value),this.props.isEditing!=null&&this.props.isEditing!==t.isEditing&&(s.isEditing=this.props.isEditing),(this.props.disabled||this.props.disabled==null&&t.disabled)&&(s.isEditing=!1),this.setState(s),this.state.isEditing&&!i.isEditing&&((o=(r=this.props).onEdit)===null||o===void 0||o.call(r,this.state.value)),(this.state.value!==i.value||this.props.alwaysRenderInput!==t.alwaysRenderInput||this.props.maxLines!==t.maxLines||this.props.minLines!==t.minLines||this.props.minWidth!==t.minWidth||this.props.multiline!==t.multiline)&&this.updateInputDimensions()},e.prototype.renderInput=function(t){var i=this.props,r=i.disabled,o=i.maxLength,s=i.multiline,a=i.type,l=i.placeholder,u={className:ec,disabled:r,maxLength:o,onBlur:this.toggleEditing,onChange:this.handleTextChange,onKeyDown:this.handleKeyEvent,placeholder:l,value:t},c=this.state,h=c.inputHeight,d=c.inputWidth;return h!==0&&d!==0&&(u.style={height:h,lineHeight:!s&&h!=null?"".concat(h,"px"):void 0,width:s?"100%":d}),s?p.createElement("textarea",k({ref:this.refHandlers.input},u)):p.createElement("input",k({ref:this.refHandlers.input,type:a},u))},e.prototype.updateInputDimensions=function(){if(this.valueElement!=null){var t=this.props,i=t.maxLines,r=t.minLines,o=t.minWidth,s=t.multiline,a=this.valueElement,l=a.parentElement,u=a.textContent,c=this.valueElement,h=c.scrollHeight,d=c.scrollWidth,f=Oo(this.valueElement);s&&this.state.isEditing&&/\n$/.test(u??"")&&(h+=f),f>0&&(h=zu(h,r*f,i*f)),h=Math.max(h,vc(this.valueElement)+1,Oo(l)),d+=dc.isInternetExplorer()?fc:pc,this.setState({inputHeight:h,inputWidth:Math.max(d,o)}),s&&this.state.isEditing&&this.setTimeout(function(){return l.style.height="".concat(h,"px")})}},e.displayName="".concat(qu,".EditableText"),e.defaultProps={alwaysRenderInput:!1,confirmOnEnterKey:!1,defaultValue:"",disabled:!1,maxLines:1/0,minLines:1,minWidth:80,multiline:!1,placeholder:"Click to Edit",type:"text"},e}(Gu);function vc(n){var e=getComputedStyle(n).fontSize;return e===""?0:parseInt(e.slice(0,-2),10)}function Oo(n){var e=parseInt(getComputedStyle(n).lineHeight.slice(0,-2),10);if(isNaN(e)){var t=document.createElement("span");t.innerHTML="<br>",n.appendChild(t);var i=n.offsetHeight;t.innerHTML="<br><br>";var r=n.offsetHeight;n.removeChild(t),e=r-i}return e}function gc(n,e){var t=n.selectionEnd,i=n.selectionStart,r=n.value;if(i>=0){var o=r.substring(0,i),s=r.substring(t,r.length),a=e.length;n.value="".concat(o).concat(e).concat(s),n.selectionStart=i+a,n.selectionEnd=i+a}}function yc(n){switch(n.type){case"textarea":return!0;case"text":case"search":case"tel":case"url":case"password":return!0;default:return!1}}function ta(){for(var n=$,e;e=n.sourceEvent;)n=e;return n}function ea(n,e){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}var r=n.getBoundingClientRect();return[e.clientX-r.left-n.clientLeft,e.clientY-r.top-n.clientTop]}function xe(n){var e=ta();return e.changedTouches&&(e=e.changedTouches[0]),ea(n,e)}function Gi(n,e,t){arguments.length<3&&(t=e,e=ta().changedTouches);for(var i=0,r=e?e.length:0,o;i<r;++i)if((o=e[i]).identifier===t)return ea(n,o);return null}function we(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,o=new Array(r);++i<r;)o[i]=n+i*t;return o}function na(n){for(var e=n.length,t,i=-1,r=0,o,s;++i<e;)r+=n[i].length;for(o=new Array(r);--e>=0;)for(s=n[e],t=s.length;--t>=0;)o[--r]=s[t];return o}var ko=180/Math.PI,Xi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ia(n,e,t,i,r,o){var s,a,l;return(s=Math.sqrt(n*n+e*e))&&(n/=s,e/=s),(l=n*t+e*i)&&(t-=n*l,i-=e*l),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,l/=a),n*i<e*t&&(n=-n,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,n)*ko,skewX:Math.atan(l)*ko,scaleX:s,scaleY:a}}var He,Ci,Ao,pn;function Ec(n){return n==="none"?Xi:(He||(He=document.createElement("DIV"),Ci=document.documentElement,Ao=document.defaultView),He.style.transform=n,n=Ao.getComputedStyle(Ci.appendChild(He),null).getPropertyValue("transform"),Ci.removeChild(He),n=n.slice(7,-1).split(","),ia(+n[0],+n[1],+n[2],+n[3],+n[4],+n[5]))}function _c(n){return n==null||(pn||(pn=document.createElementNS("http://www.w3.org/2000/svg","g")),pn.setAttribute("transform",n),!(n=pn.transform.baseVal.consolidate()))?Xi:(n=n.matrix,ia(n.a,n.b,n.c,n.d,n.e,n.f))}function ra(n,e,t,i){function r(u){return u.length?u.pop()+" ":""}function o(u,c,h,d,f,m){if(u!==h||c!==d){var g=f.push("translate(",null,e,null,t);m.push({i:g-4,x:oe(u,h)},{i:g-2,x:oe(c,d)})}else(h||d)&&f.push("translate("+h+e+d+t)}function s(u,c,h,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:h.push(r(h)+"rotate(",null,i)-2,x:oe(u,c)})):c&&h.push(r(h)+"rotate("+c+i)}function a(u,c,h,d){u!==c?d.push({i:h.push(r(h)+"skewX(",null,i)-2,x:oe(u,c)}):c&&h.push(r(h)+"skewX("+c+i)}function l(u,c,h,d,f,m){if(u!==h||c!==d){var g=f.push(r(f)+"scale(",null,",",null,")");m.push({i:g-4,x:oe(u,h)},{i:g-2,x:oe(c,d)})}else(h!==1||d!==1)&&f.push(r(f)+"scale("+h+","+d+")")}return function(u,c){var h=[],d=[];return u=n(u),c=n(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,d),s(u.rotate,c.rotate,h,d),a(u.skewX,c.skewX,h,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,d),u=c=null,function(f){for(var m=-1,g=d.length,E;++m<g;)h[(E=d[m]).i]=E.x(f);return h.join("")}}}var Cc=ra(Ec,"px, ","px)","deg)"),bc=ra(_c,", ",")",")"),Be=Math.SQRT2,bi=2,Lo=4,xc=1e-12;function Fo(n){return((n=Math.exp(n))+1/n)/2}function wc(n){return((n=Math.exp(n))-1/n)/2}function Pc(n){return((n=Math.exp(2*n))-1)/(n+1)}function Nc(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],l=o-t,u=s-i,c=l*l+u*u,h,d;if(c<xc)d=Math.log(a/r)/Be,h=function(x){return[t+x*l,i+x*u,r*Math.exp(Be*x*d)]};else{var f=Math.sqrt(c),m=(a*a-r*r+Lo*c)/(2*r*bi*f),g=(a*a-r*r-Lo*c)/(2*a*bi*f),E=Math.log(Math.sqrt(m*m+1)-m),b=Math.log(Math.sqrt(g*g+1)-g);d=(b-E)/Be,h=function(x){var C=x*d,_=Fo(E),S=r/(bi*f)*(_*Pc(Be*C+E)-wc(E));return[t+S*l,i+S*u,r*_/Fo(Be*C+E)]}}return h.duration=d*1e3,h}var Jn=(n=>(n.AGE="age",n.HEIGHT="height",n.DEPTH="depth",n))(Jn||{});const nt=p.createContext({scale:sn(),divisions:[],scaleClamped:sn().clamp(!0),pixelsPerMeter:1,zoom:1});function Tc(n){let{children:e,pixelsPerMeter:t=20,zoom:i=1,height:r,range:o,divisions:s=[],width:a=150,axisType:l="height",...u}=n;const c=JSON.stringify(u),h=mt.useRef(null);c!==h.current&&(h.current=c,Object.keys(u).length>0&&console.warn("Passing extra properties to ColumnProvider is deprecated:",u));const d=p.useMemo(()=>{o!=null?r=Math.abs(o[1]-o[0]):o=[0,r];const f=r*t*i,m=sn().domain(o).range([f,0]),g=m.copy().clamp(!0);return{pixelsPerMeter:t,pixelHeight:f,zoom:i,range:o,height:r,scale:m,scaleClamped:g,divisions:s,width:a,axisType:l,...u}},[l,r,t,o,i,s,a,h.current]);return M(nt.Provider,{value:d},e)}const zr=()=>p.useContext(nt),Xt=p.createContext({scale:null,width:0,divisions:[],grainSizes:[],grainsizeScale:n=>40});function qr({children:n,width:e,grainSizes:t=[],grainsizeScale:i=r=>40}){const r=p.useContext(nt);return w(Xt.Provider,{value:{...r,width:e,grainSizes:t,grainsizeScale:i}},n)}const jn=class jn extends p.Component{render(){let{domain:e,range:t,width:i,children:r}=this.props;t==null&&(t=[0,i]);const o=sn().domain(e).range(t);return w(qr,{xScale:o,width:i,children:r})}};jn.propTypes={width:N.number.isRequired,domain:N.arrayOf(N.number).isRequired,range:N.arrayOf(N.number)},jn.contextType=nt;let Wi=jn;Wi.__docgenInfo={description:"",methods:[],displayName:"CrossAxisLayoutProvider",props:{width:{description:"",type:{name:"number"},required:!0},domain:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!0},range:{description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1}}};const ti=p.createContext({facies:[],onColorChanged(){}});class Sc extends Ws{constructor(e){super(e),this.state={facies:e.initialFacies||[],__colorMap:{}},this.getFaciesColor=this.getFaciesColor.bind(this),this.setFaciesColor=this.setFaciesColor.bind(this)}getFaciesColor(e){const{__colorMap:t}=this.state;return t[e]||null}setFaciesColor(e,t){const i=this.state.facies.findIndex(r=>r.id===e);return this.updateState({facies:{[i]:{color:{$set:t}}}})}render(){const{facies:e}=this.state,{children:t,...i}=this.props,o={facies:e,...this,...i};return M(ti.Provider,{value:o},t)}}Sc.__docgenInfo={description:"",methods:[{name:"getFaciesColor",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:null}],returns:null},{name:"setFaciesColor",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:null},{name:"color",optional:!1,type:null}],returns:null}],displayName:"FaciesProvider"};Du({});p.createContext({lithologies:[]});const oa=p.createContext({resolveSymbol(){}});N.func.isRequired;const Gr=p.createContext(null),sa=function(n){let{model:e,logUpdates:t=!1,children:i,alwaysConfirm:r=!1}=n;console.warn(`Using the ModelEditorContext from
    @macrostrat/column-components is deprecated.
    Please use the equivalent class from
    @macrostrat/ui-components instead.`);const[o,s]=p.useState(e),a=()=>n.onConfirmChanges(o),l=p.useCallback(()=>{e!=o&&(r&&o!=null&&(console.log("Confirming model changes"),a()),s(e))},[e]);p.useEffect(()=>{l()},[e]);const u=p.useCallback(function(f){const m=De(o,f);return t&&console.log(m),s(m)},[t,o]),d={model:e,editedModel:o,updateModel:u,deleteModel:function(){return s(null),n.onDelete(e)},hasChanges:()=>e===o,revertChanges:l,confirmChanges:a};return M(Gr.Provider,{value:d},i)};sa.propTypes={onConfirmChanges:N.func.isRequired,onDelete:N.func.isRequired};const ei=()=>p.useContext(Gr);class Ae extends p.Component{constructor(e){super(e),this.UUID=Br()}}const aa=p.createContext(null),la=()=>p.useContext(aa)??Br();function Rc({children:n}){const e=p.useRef(Br());return M(aa.Provider,{value:e.current,children:n})}class hn extends p.Component{static initClass(){this.contextType=Xt,this.propTypes={id:N.string.isRequired}}render(){const{pixelHeight:e,width:t}=this.context;let{id:i}=this.props;return i.startsWith("#")&&(i=i.slice(1)),M("rect",{id:i,x:0,y:0,width:t,height:e,key:i})}}hn.initClass();class Xr extends p.Component{static initClass(){this.contextType=Xt}render(){let e;const{scale:t,divisions:i,grainsizeScale:r}=this.context;let{id:o}=this.props;if(o.startsWith("#")&&(o=o.slice(1)),i.length===0)return null;const[s,a]=t.domain(),l=function(f){let{top:m}=f;return m>a&&(m=a),t(m)},u=function(f){let{bottom:m}=f;return m<s&&(m=s),t(m)},c=i.filter(function(f){return!(f.top<=s||f.bottom>a)});let h=null,d="m";for(e of Array.from(c)){h==null&&(h=zi(),h.moveTo(0,u(e))),e.grainsize!=null&&(d=e.grainsize);const f=r(d);h.lineTo(f,u(e)),h.lineTo(f,l(e))}return h.lineTo(0,l(e)),h.closePath(),M("path",{id:o,key:o,d:h.toString()})}}Xr.initClass();const ua=function(n){let{id:e,children:t,...i}=n;return e.startsWith("#")&&(e=e.slice(1)),p.createElement("clipPath",{id:e,key:e,...i},t)},Uo=function(n){const{id:e,...t}=n;return M("use.frame",{xlinkHref:e,fill:"transparent",key:"frame",...t})},Dc=function(n,e){const t={};for(let i of Array.from(e))t[i+"ID"]=`#${n}-${i}`;return t},Ho=function(n,e){const{width:t,frame:i}=n,r=t!=null,o=i!=null;if(!(r||o))return new Error("Provide either 'width' or 'frame' props")};class Wr extends Ae{constructor(...e){super(...e),this.computeTransform=this.computeTransform.bind(this)}static initClass(){this.defaultProps={onClick:null,shiftY:0},this.propTypes={left:N.number,shiftY:N.number,onClick:N.func,frame:Ho,width:Ho}}computeTransform(){const{left:e,shiftY:t}=this.props;return e==null?null:`translate(${e} ${t})`}render(){let{children:e,frame:t,className:i,onClick:r}=this.props;if(t==null){const{width:l}=this.props;t=u=>M(hn,{width:l,...u})}const o=this.computeTransform(),{frameID:s,clipID:a}=Dc(this.UUID,["frame","clip"]);return M("g",{className:i,transform:o,onClick:r},[M("defs",{key:"defs"},[M(t,{id:s}),M(ua,{id:a},M(Uo,{id:s}))]),M("g.inner",{clipPath:`url(${a})`},e),M(Uo,{id:s})])}}Wr.initClass();hn.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"SimpleFrame"};Xr.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"GrainsizeFrame"};ua.__docgenInfo={description:"",methods:[],displayName:"ClipPath"};Ae.__docgenInfo={description:"",methods:[],displayName:"UUIDComponent"};Wr.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"computeTransform",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ClipToFrame"};const Ic=function(n,e){const t={},i={};for(let r in e){const o=e[r];n.includes(r)?t[r]=o:i[r]=o}return[t,i]};class ca extends p.Component{constructor(...e){super(...e),this.scrollTo=this.scrollTo.bind(this)}static initClass(){this.contextType=nt,this.propTypes={scrollToHeight:N.number,alignment:N.oneOf(["center","top","bottom"]),animated:N.bool,onScrolled:N.func,paddingTop:N.number,scrollContainer:N.func.isRequired},this.defaultProps={animated:!0,alignment:"center",onScrolled(e){return console.log(`Scrolled to ${e} m`)},scrollContainer(){return document.querySelector(".panel-container")}}}render(){const e=Object.keys(this.constructor.propTypes),[t,i]=Ic(e,this.props),{pixelHeight:r}=this.context;return w(js,{height:r,position:"absolute",...i})}scrollTo(e,t={}){let i=ee.findDOMNode(this);const{paddingTop:r}=this.props,{scale:o}=this.context,s=o(e),{top:a}=i.getBoundingClientRect();i=this.props.scrollContainer();let l=s+a+r;const u=window.innerHeight;return this.props.alignment==="center"?l-=u/2:this.props.alignment==="bottom"&&(l-=u),i.scrollTop=l}componentDidMount(){const{scrollToHeight:e,alignment:t}=this.props;if(e!=null)return this.scrollTo(e,{alignment:t,animated:!1}),this.props.onScrolled(e)}componentDidUpdate(e){const{scrollToHeight:t,animated:i,alignment:r}=this.props;if(t!=null&&e.scrollToHeight!==t)return this.scrollTo(t,{alignment:r,animated:i}),this.props.onScrolled(t)}}ca.initClass();ca.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"scrollTo",docblock:null,modifiers:[],params:[{name:"height",optional:!1,type:null},{name:"opts",optional:!0,type:null}],returns:null}],displayName:"ColumnScroller"};const Mc={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},ha=p.forwardRef(function(n,e){const{innerRef:t,children:i,style:r,...o}=zs(n);t!=null&&(e=t);const{paddingLeft:s,paddingTop:a}=pu(n),l=fu(n),u=mu(vu(o));return w("svg",{ref:e,style:{...l,...r},...u,...Mc},w("g",{transform:`translate(${s},${a})`},i))}),ni=n=>p.createElement("foreignObject",n),da=function(n){const{children:e,className:t,innerRef:i,style:r,...o}=n,{pixelHeight:s}=p.useContext(nt),a=zs({innerHeight:s,...o}),{paddingLeft:l,paddingTop:u,innerHeight:c,innerWidth:h,height:d,width:f,...m}=a;return w(ha,{className:B(t,"section"),height:d,width:f,innerRef:i,...m,style:r},w("g.backdrop",{transform:`translate(${l},${u})`},e))};ha.__docgenInfo={description:"",methods:[],displayName:"SVG"};ni.__docgenInfo={description:"",methods:[],displayName:"ForeignObject"};const Oc="_handle_m6xcw_16",kc="_note_m6xcw_5",Ac="_link_m6xcw_60",Lc="_new_arrow_start_m6xcw_1",Fc="_new_arrow_end_m6xcw_1",Uc="_frame_m6xcw_109",Hc="_lithology_m6xcw_109",Bc="_definite_m6xcw_119",Vc="_y_m6xcw_134",Yc="_axis_m6xcw_134",$c="_overlay_m6xcw_155",zc="_grainsize_m6xcw_159",qc="_rotated_m6xcw_159",Gc="_top_m6xcw_26",Xc="_bottom_m6xcw_27",Wc="_error_m6xcw_197",Kc="_samples_m6xcw_205",jc="_sample_m6xcw_205",Zc={"column-notes":"_column-notes_m6xcw_1","col-note-label":"_col-note-label_m6xcw_1","note-editor":"_note-editor_m6xcw_5","bp4-editable-text":"_bp4-editable-text_m6xcw_5","position-editor":"_position-editor_m6xcw_16",handle:Oc,"add-span-handle":"_add-span-handle_m6xcw_21","top-handle":"_top-handle_m6xcw_26","bottom-handle":"_bottom-handle_m6xcw_27","note-connector":"_note-connector_m6xcw_32","height-range":"_height-range_m6xcw_45",note:kc,link:Ac,"new-note":"_new-note_m6xcw_67",new_arrow_start:Lc,new_arrow_end:Fc,"column-image":"_column-image_m6xcw_83","interval-editor-title":"_interval-editor-title_m6xcw_89","lithology-column":"_lithology-column_m6xcw_109",frame:Uc,lithology:Hc,definite:Bc,"covered-area":"_covered-area_m6xcw_123","covered-column":"_covered-column_m6xcw_129",y:Vc,axis:Yc,"section-outer":"_section-outer_m6xcw_149",overlay:$c,grainsize:zc,rotated:qc,top:Gc,bottom:Xc,error:Wc,samples:Kc,sample:jc,"photo-dialog":"_photo-dialog_m6xcw_216","image-gallery-image":"_image-gallery-image_m6xcw_222","symbol-column-area":"_symbol-column-area_m6xcw_226","triangle-bars":"_triangle-bars_m6xcw_230","Select-menu-outer":"_Select-menu-outer_m6xcw_236","edit-overlay":"_edit-overlay_m6xcw_240","cursor-container":"_cursor-container_m6xcw_240","bp4-popover-wrapper":"_bp4-popover-wrapper_m6xcw_244"},D=Gt(Zc),pa=n=>n.top_height!=null,ce=N.shape({height:N.number.isRequired,note:N.string,top_height:N.number,symbol:N.string});class Kr{constructor(e,t,i){this.allowedRange=e,this.centerPos=(this.allowedRange[0]+this.allowedRange[1])/2,this.currentPos=this.centerPos,this.width=t,this.data=i,this.layerIndex=0}get idealPos(){const[e,t]=this.allowedRange;return this.currentPos<t?t:this.currentPos>e?e:this.currentPos}distanceFrom(e){const t=this.width/2,i=e.width/2;return Math.max(this.currentPos-t,e.currentPos-i)-Math.min(this.currentPos+t,e.currentPos+i)}moveToIdealPosition(){return this.currentPos=this.idealPos,this}displacement(){return this.idealPos-this.currentPos}overlapWithNode(e,t=0){return this.distanceFrom(e)-t<0}overlapWithPoint(e){const t=this.width/2;return e>=this.currentPos-t&&e<=this.currentPos+t}positionBefore(e,t=0){return e.currentLeft()-this.width/2-t}positionAfter(e,t=0){return e.currentRight()+this.width/2+t}currentRight(){return this.currentPos+this.width/2}currentLeft(){return this.currentPos-this.width/2}idealRight(){return this.idealPos+this.width/2}idealLeft(){return this.idealPos-this.width/2}createStub(e){const t=new ze.Node(this.idealPos,e,this.data);return t.currentPos=this.currentPos,t.child=this,this.parent=t,t}removeStub(){return this.parent&&(this.parent.child=null,this.parent=null),this}isStub(){return!!this.child}getPathToRoot(){const e=[];let t=this;for(;t;)e.push(t),t=t.parent;return e}getPathFromRoot(){return this.getPathToRoot().reverse()}getPathToRootLength(){let e=0,t=this;for(;t;){const i=t.parent?t.parent.currentPos:t.idealPos;e+=Math.abs(t.currentPos-i),t=t.parent}return e}getRoot(){let e=this,t=this;for(;t;)e=t,t=t.parent;return e}getLayerIndex(){return this.layerIndex}clone(){const e=new Kr(this.allowedRange,this.width,this.data);return e.currentPos=this.currentPos,e.layerIndex=this.layerIndex,e}}const dt=p.createContext(null),Qc=function(){const n=[];return function(e){let t=0;const i=n.length+1;for(let r=0,o=i,s=0<=o;s?r<=o:r>=o;s?r++:r--)if(n[r]==null&&(n[r]=e.height),n[r]<e.height){const a=e.top_height||e.height;n[r]=a,t=r;break}return t}},Jc=n=>function(e){const[t,i]=n.domain(),r=e.top_height||e.height;return t<i?r>=t&&e.height<=i:r<=t&&e.height>=i};class ii extends Ws{static initClass(){this.propTypes={notes:N.arrayOf(ce).isRequired,width:N.number.isRequired,paddingLeft:N.number,noteComponent:N.func.isRequired,forceOptions:N.object},this.defaultProps={paddingLeft:60,estimatedTextHeight(e,t){return e.note,12}},this.contextType=nt}constructor(e){super(e),this.computeContextValue=this.computeContextValue.bind(this),this.savedRendererForWidth=this.savedRendererForWidth.bind(this),this.generatePath=this.generatePath.bind(this),this.createNodeForNote=this.createNodeForNote.bind(this),this.computeForceLayout=this.computeForceLayout.bind(this),this.registerHeight=this.registerHeight.bind(this),this.updateNotes=this.updateNotes.bind(this),this.componentDidMount=this.componentDidMount.bind(this),this.componentDidUpdate=this.componentDidUpdate.bind(this);const{noteComponent:t}=this.props;this.state={notes:[],elementHeights:{},columnIndex:{},nodes:{},generatePath:this.generatePath,createNodeForNote:this.createNodeForNote,noteComponent:t}}render(){const{children:e,width:t}=this.props;return w(dt.Provider,{value:this.state},w(qr,{width:t},e))}computeContextValue(){const{width:e,paddingLeft:t}=this.props,{pixelHeight:i,scaleClamped:r}=this.context,o={paddingLeft:t,scale:r,width:e,registerHeight:this.registerHeight,generatePath:this.generatePath},s=new ze.Renderer({direction:"right",layerGap:t,nodeHeight:5});return this.setState({renderer:s,...o})}savedRendererForWidth(e){return this._rendererIndex==null&&(this._rendererIndex={}),this._rendererIndex[e]==null&&(this._rendererIndex[e]=new ze.Renderer({direction:"right",layerGap:e,nodeHeight:5})),this._rendererIndex[e]}generatePath(e,t){const{paddingLeft:i}=this.props,r=this.savedRendererForWidth(i-t);try{return r.generatePath(e)}catch{return null}}createNodeForNote(e){const{notes:t,elementHeights:i}=this.state;let{pixelHeight:r,scaleClamped:o}=this.context;const{id:s}=e;r=i[s]||10;const a=5,l=o(e.height);if(pa(e)){const u=o(e.top_height),c=[l-a,u+a];if(c[0]-c[1]>0)return new Kr(c,r)}return new ze.Node(l,r)}computeForceLayout(e,t){let{notes:i,nodes:r,elementHeights:o}=this.state;const{pixelHeight:s,scale:a}=this.context,{width:l,paddingLeft:u,forceOptions:c}=this.props;if(i.length===0)return;const h=Object.keys(r).length===i.length;t==null&&(t={});const d=o===t.elementHeights||[];if(h&&d)return;const f=new ze.Force({minPos:0,maxPos:s,nodeSpacing:0,...c}),m=i.map(this.createNodeForNote);f.nodes(m).compute(),r=f.nodes()||[];const g={};for(let E=0;E<r.length;E++){const b=r[E],x=i[E];g[x.id]=b}return this.updateState({nodes:{$set:g}})}registerHeight(e,t){if(t==null)return;const{elementHeights:i}=this.state;return i[e]=t,this.updateState({elementHeights:{$set:i}})}updateNotes(){const{scaleClamped:e}=this.context,t=this.props.notes.filter(Jc(e)).sort((r,o)=>r.height-o.height),i=t.map(Qc());return this.setState({notes:t,columnIndex:i})}componentDidMount(){return this._previousContext=null,this.updateNotes(),this.computeContextValue()}componentDidUpdate(e,t){this.props.notes!==e.notes&&this.updateNotes();const{noteComponent:i}=this.props;if(i!==e.noteComponent&&this.setState({noteComponent:i}),this.computeForceLayout.call(...arguments),this.props.notes!==e.notes&&this.context!==this._previousContext)return this.computeContextValue(),this._previousContext=this.context}}ii.initClass();const jr=function(n){let{padding:e,width:t,...i}=n;e==null&&(e=5);const{pixelHeight:r}=p.useContext(nt);return t==null&&({width:t}=p.useContext(dt)),isNaN(t)?null:w("rect",{width:t+2*e,height:r,transform:`translate(${-e},${-e})`,...i})},th=function({fill:n,...e}){return n==null&&(n="transparent"),w(jr,{className:"underlay",fill:n,...e})};ii.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"computeContextValue",docblock:null,modifiers:[],params:[],returns:null},{name:"savedRendererForWidth",docblock:null,modifiers:[],params:[{name:"width",optional:!1,type:null}],returns:null},{name:"generatePath",docblock:null,modifiers:[],params:[{name:"node",optional:!1,type:null},{name:"pixelOffset",optional:!1,type:null}],returns:null},{name:"createNodeForNote",docblock:null,modifiers:[],params:[{name:"note",optional:!1,type:null}],returns:null},{name:"computeForceLayout",docblock:null,modifiers:[],params:[{name:"prevProps",optional:!1,type:null},{name:"prevState",optional:!1,type:null}],returns:null},{name:"registerHeight",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:null},{name:"height",optional:!1,type:null}],returns:null},{name:"updateNotes",docblock:null,modifiers:[],params:[],returns:null}],displayName:"NoteLayoutProvider"};const ri=function(n){const{scale:e}=p.useContext(dt),{height:t,top_height:i,offsetX:r,color:o,lineInset:s=2.5,...a}=n,l=e(t);let u=0;i!=null&&(u=Math.abs(e(i)-l));const c=l-u,h=u>2*s,d=`translate(${r},${c})`;return D("g.height-range",{transform:d,...a},[D.if(h)("line",{x1:0,x2:0,y1:s,y2:u-s}),D.if(!h)("circle",{r:2,transform:`translate(0,${u/2})`})])};ri.propTypes={height:N.number.isRequired,top_height:N.number,offsetX:N.number};ri.defaultProps={offsetX:0};const oi=p.forwardRef(function(n,e){let{offsetY:t,noteHeight:i,children:r}=n;const{width:o,paddingLeft:s}=p.useContext(dt);i==null&&(i=0);const a=5;let l=t-i/2-a;return navigator.userAgent.includes("Safari")&&(l+=5),D(ni,{width:o-s+2*a,x:s-a,y:l,height:i+2*a,style:{overflowY:"visible"}},[D("div.note-inner",{ref:e,style:{margin:a}},r)])}),eh=function(n){const{notes:e}=p.useContext(dt);return e.indexOf(n)},fa=function(n){let{note:e,node:t,index:i}=n;i==null&&(i=eh(e));const{nodes:r,columnIndex:o,generatePath:s}=p.useContext(dt),{height:a,top_height:l}=e;t==null&&(t=r[e.id]);const u=(o[i]||0)*5;return D([D(ri,{offsetX:u,height:a,top_height:l}),D("path.link.col-note-link",{d:s(t,u),transform:`translate(${u})`})])};oi.__docgenInfo={description:"",methods:[],displayName:"NotePositioner"};const me=p.createContext({inEditMode:!1}),ma=function(n){const{updateModel:e}=ei(),{note:t}=n;return D(mc,{multiline:!0,className:"col-note-label note-editing",defaultValue:t.note,isEditing:!0,onConfirm(i){return e({note:{$set:i}})}})};ma.propTypes={note:ce.isRequired};function va(n){let{children:e,inEditMode:t=!1,noteEditor:i}=n;const{notes:r}=p.useContext(dt),[o,s]=p.useState(null),a=function(){const h=o;return s(null),n.onDeleteNote(h)},u={editingNote:o,setEditingNote:s,deleteNote:a,inEditMode:t,noteEditor:i,onCreateNote:function(h){const{height:d,top_height:f}=h;return s({height:d,top_height:f,note:null,symbol:null})}},c=function(h){if((h==null?void 0:h.note)==null&&h==o){console.log("No changes to note");return}if(!r.includes(h))return n.onUpdateNote(h)};return D(me.Provider,{value:u},[D(sa,{model:o,onDelete:a,onConfirmChanges:c,logUpdates:!0,alwaysConfirm:!0},e)])}va.propTypes={inEditMode:N.bool,noteEditor:N.elementType.isRequired,onUpdateNote:N.func.isRequired,onDeleteNote:N.func.isRequired};const nh=function(n){const{d:e,offsetX:t,className:i}=n;return D("path",{d:e,className:i,transform:`translate(${t})`,fill:"transparent"})},ih=function(n){const{notes:e,nodes:t,columnIndex:i,generatePath:r,createNodeForNote:o}=p.useContext(dt);let{note:s,node:a,index:l}=n;s.id!=null&&(a=t[s.id]),a==null&&(a=o(s));const u=i[s.id]*5||0,c=r(a,u);return D([D(nh,{className:"note-connector",d:c,offsetX:u}),D(ni,{width:30,x:u,y:0,height:1,style:{overflowY:"visible"}},D(rh,{note:s}))])},Bo=function(n){let{height:e,size:t,className:i,...r}=n;return i=B("handle point-handle",i),t==null&&(t=10),D(qs,{position:{x:0,y:e},axis:"y",...r},D("div.handle",{style:{height:t,width:t,marginLeft:-t/2,marginTop:-t/2,position:"absolute"},className:i}))};var rh=function(n){let e,{note:t,margin:i}=n;i==null&&(i=3);const{scaleClamped:r}=p.useContext(nt);if({updateModel:e,editedModel:t}=ei(),t==null)return null;const o=pa(t),s=r(t.height);let a=s,l=0;o&&(a=r(t.top_height),l=Math.abs(a-s));const u=function(d,f){const{y:m}=f,g={height:{$set:r.invert(m+l)}};return o&&(g.top_height={$set:r.invert(m)}),e(g)},c=function(d,f){const m={top_height:{$set:r.invert(f.y)}};return Math.abs(f.y-s)<2&&(m.top_height={$set:null}),e(m)},h=function(d,f){const m={height:{$set:r.invert(f.y)}};return Math.abs(f.y-a)<2&&(m.top_height={$set:null}),e(m)};return D(Ks,null,D("div.position-editor",[D(qs,{handle:".handle",position:{x:0,y:a},onDrag:u,axis:"y"},D("div",[D("div.handle",{className:"handle",style:{height:l,width:2*i,marginLeft:-i,marginTop:-i,position:"absolute"}})])),D(Bo,{height:o?a:a-15,onDrag:c,className:B("top-handle",{"add-span-handle":!o}),bounds:{bottom:s}}),D(Bo,{height:s,onDrag:h,className:"bottom-handle",bounds:o?{top:a}:null})]))};const oh=function({padding:n}){return p.useContext(dt),p.useContext(me),D(jr,{fill:"rgba(255,255,255,0.8)",style:{pointerEvents:"none"},className:"underlay"})},sh=function(n){const{allowPositionEditing:e}=n,{noteEditor:t}=p.useContext(me),{notes:i,nodes:r,elementHeights:o,createNodeForNote:s}=p.useContext(dt),{editedModel:a}=ei();if(a==null)return null;const l=i.indexOf(a),{id:u}=a;let c=r[u]||s(a);const h=o[u]||20;if(a.height!=null){const d=s(a);d.currentPos=c.currentPos;const f=d.centerPos||d.idealPos,m=f-c.currentPos;m>50&&(d.currentPos=f-50),m<-50&&(d.currentPos=f+50),c=d}return D(Ks,[D("g.note-editor.note",[D(oh),D.if(!e)(fa,{note:a}),D.if(e)(ih,{note:a,node:c}),D(oi,{offsetY:c.currentPos,noteHeight:h},[D(t,{note:a,key:l})])])])},ah=function(n){const{note:e}=n,{setEditingNote:t,editingNote:i}=p.useContext(me),{noteComponent:r}=p.useContext(dt);return D(r,{visibility:i===e?"hidden":"inherit",note:e,onClick:()=>t(e)})},lh=p.forwardRef(function(n,e){const{note:t,offsetY:i,noteHeight:r}=n,{editingNote:o}=p.useContext(me);return o===t?null:D("g.note",[D(fa,{note:t}),D(oi,{offsetY:i,noteHeight:r,ref:e},[D(ah,{note:t})])])});class Zr extends p.Component{static initClass(){this.propTypes={editable:N.bool,note:ce.isRequired,editHandler:N.func},this.contextType=dt}constructor(e){super(e),this.updateHeight=this.updateHeight.bind(this),this.componentDidMount=this.componentDidMount.bind(this),this.componentDidUpdate=this.componentDidUpdate.bind(this),this.element=p.createRef(),this.state={height:null}}render(){const{style:e,note:t,editHandler:i,editable:r}=this.props,{scale:o,nodes:s,columnIndex:a,width:l,paddingLeft:u}=this.context,c=s[t.id];let h=o(t.height);c!=null&&(h=c.currentPos);const d=this.state.height||0;return D(lh,{offsetY:h,note:t,noteHeight:d,ref:this.element})}updateHeight(e){const t=this.element.current;if(t==null)return;const i=t.offsetHeight;if(i!=null&&!(e!=null&&e.note===this.props.note))return this.setState({height:i}),this.context.registerHeight(this.props.note.id,i)}componentDidMount(){return this.updateHeight.apply(this,arguments)}componentDidUpdate(){return this.updateHeight.apply(this,arguments)}}Zr.initClass();const ga=function(n){let{inEditMode:e,...t}=n;e==null&&(e=!1);const{notes:i}=p.useContext(dt);return D("g",i.map(r=>D(Zr,{key:r.id,note:r,editable:e,...t})))};Zr.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"updateHeight",docblock:null,modifiers:[],params:[{name:"prevProps",optional:!1,type:null}],returns:null}],displayName:"Note"};oi.__docgenInfo={description:"",methods:[],displayName:"NotePositioner"};const Vo=function({id:n,orient:e,size:t,fill:i}){return i==null&&(i="black"),t==null&&(t=4),M("marker",{id:n,orient:e,markerHeight:t,markerWidth:t,markerUnits:"strokeWidth",refX:"0",refY:"0",viewBox:`-${t} -${t} ${t*2} ${t*2}`},[M("path",{d:`M 0,0 m -${t},-${t} L ${t},0 L -${t},${t} Z`,fill:i})])},uh=function({id:n,fill:e,size:t}){return e==null&&(e="black"),t==null&&(t=4),M("marker",{id:n,markerHeight:2,markerWidth:t*2,markerUnits:"strokeWidth",refX:0,refY:0,viewBox:`-${t} -1 ${t*2} 1`},[M("path",{d:`M -${t},0 L ${t},0`,fill:"transparent",stroke:e})])},Qr=function({fill:n,prefix:e}){return e==null&&(e=""),M("defs",[M(Vo,{id:e+"arrow_start",orient:270,fill:n}),M(Vo,{id:e+"arrow_end",orient:90,fill:n}),M(uh,{id:e+"tick",fill:n})])},ya=function(n,e=.1){let{startHeight:t,dragHeight:i,...r}=n;i==null&&(i=t);let o=[t,i];o.sort();let[s,a]=o;return a-s<e&&(a=null),{height:s,top_height:a,...r}},ch=function(n){let{position:e,tolerance:t}=n;if(!e)return null;t==null&&(t=.1);const i=ya(e,t);return D(ri,i)},Ea=function(n){const{paddingLeft:e,scale:t}=p.useContext(dt),{onCreateNote:i}=p.useContext(me);if(i==null)return null;const[r,o]=p.useState(null),{model:s}=p.useContext(Gr);if(s!=null)return null;const a=l=>t.invert(l.nativeEvent.offsetY);return D("g.new-note",[D(Qr,{fill:"dodgerblue",sz:4,prefix:"new_"}),D(jr,{width:e,fill:"transparent",padding:0,style:{cursor:"drag"},onMouseDown(l){if(r==null)return o({startHeight:a(l),offsetX:l.nativeEvent.offsetX})},onMouseMove(l){if(r!=null)return o({...r,dragHeight:a(l)})},onMouseUp(l){const u=a(l),c=ya({...r,dragHeight:u});return o(null),i(c)}}),D(ch,{position:r})])};Ea.defaultProps={tolerance:.1};const Jr=function(n){const{visibility:e,note:t,onClick:i}=n,r=t.note;return D("p.col-note-label",{style:{visibility:e},onClick:i},r)};Jr.propTypes={onClick:N.func,note:ce.isRequired};const hh=function(){const{setEditingNote:n}=p.useContext(me);return ei(),D(th,{onClick(){return console.log("Clicked to cancel note editing"),n(null)}})};function _a(n){const{width:e,paddingLeft:t=60,transform:i,notes:r,inEditMode:o=!1,onUpdateNote:s,onDeleteNote:a,onCreateNote:l,noteComponent:u=Jr,noteEditor:c=ma,allowPositionEditing:h=!1,forceOptions:d}=n,f=e-t;return D(ii,{notes:r,width:f,paddingLeft:t,noteComponent:u,forceOptions:d},[D(va,{inEditMode:o,noteEditor:c,onCreateNote:l,onUpdateNote:s,onDeleteNote:a},[D("g.section-log",{transform:i},[D(Qr),D(hh),D(ga,{editHandler:o?s:null,inEditMode:o}),D(Ea),D(sh,{allowPositionEditing:h})])])])}_a.propTypes={notes:N.arrayOf(ce).isRequired,width:N.number.isRequired,paddingLeft:N.number,onUpdateNote:N.func,onCreateNote:N.func,onDeleteNote:N.func,editingNote:ce,onEditNote:N.func,inEditMode:N.bool,noteComponent:N.elementType,noteEditor:N.elementType,allowPositionEditing:N.bool,forceOptions:N.object};function Ca(n){const{width:e,paddingLeft:t=60,transform:i,notes:r,noteComponent:o=Jr}=n,s=e-t;return D(ii,{notes:r,width:s,paddingLeft:t,noteComponent:o},[D("g.section-log",{transform:i},[D(Qr),D(ga,{inEditMode:!1})])])}Ca.propTypes={notes:N.arrayOf(ce).isRequired,width:N.number.isRequired,paddingLeft:N.number,noteComponent:N.elementType};function dh(n){const{editable:e=!0,...t}=n,i=p.useContext(nt);return(i==null?void 0:i.scaleClamped)==null?null:D(e?_a:Ca,t)}const ba=n=>n,ph=p.createContext({photos:null,computePhotoPath:ba}),fh=N.shape({src:N.string.isRequired,caption:N.string});class xa extends p.Component{static initClass(){this.propTypes={photos:N.arrayOf(fh),computePhotoPath:N.func},this.defaultProps={computePhotoPath:ba}}render(){const{children:e,...t}=this.props;return w(ph.Provider,{value:t,children:e})}}xa.initClass();xa.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"PhotoLibraryProvider"};const nn=class nn extends p.Component{render(){return M("g.y.axis")}componentDidUpdate(){const{scale:e}=this.context,{showLabel:t}=this.props;this.yAxis.scale(e);for(let r of this.constructor.__d3axisKeys)this.props[r]!=null&&this.yAxis[r](this.props[r]);const i=Tt(ee.findDOMNode(this)).call(this.yAxis);return this.props.showDomain||i.select(".domain").remove(),i.selectAll(".tick text").each(function(r){if(!t(r))return Tt(this).attr("visibility","hidden")})}componentDidMount(){this.yAxis=gu(),this.componentDidUpdate()}};nn.contextType=nt,nn.__d3axisKeys=["ticks","tickArguments","tickValues","tickFormat","tickSize","tickSizeInner","tickSizeOuter","tickPadding"],nn.defaultProps={ticks:4,showLabel(){return!0},showDomain:!0};let In=nn;In.__docgenInfo={description:"",methods:[],displayName:"ColumnAxis",props:{ticks:{defaultValue:{value:"4",computed:!1},required:!1},showDomain:{defaultValue:{value:"true",computed:!1},required:!1}}};const to=p.createContext(null),mh=n=>{p.useContext(to);let{prefix:e,backgroundColor:t,color:i,width:r,height:o,id:s,name:a,...l}=n;const u={width:r,height:o},c=`${e}-${a??s}`,h=p.useRef();return Fu(async()=>{const{current:d}=h;if(d!=null)try{const f=await yu(s,t,i);d.crossOrigin="anonymous",d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f)}catch(f){console.error(f)}},[s,h]),w("pattern",{id:c,patternUnits:"userSpaceOnUse",...u,...l},w("image",{ref:h,...u}))},vh=n=>{const{resolvePattern:e}=p.useContext(to)??{};if(e==null)return null;let{prefix:t,backgroundColor:i,color:r,width:o=100,height:s=100,id:a,name:l,...u}=n;const c={width:o,height:s},h={x:0,y:0,...c},d=e(a);if(d==null)return null;const f=`${t}-${l??a}`,m=`${f}-mask`;return w("pattern",{id:f,patternUnits:"userSpaceOnUse",shapeRendering:"crispEdges",...c,...u},[w("g",{style:{isolation:"isolate"}},[w.if(r!=null&&a!=null)("mask",{id:m},[w("image",{xlinkHref:d,...h})]),w.if(i!=null)("rect",{...h,fill:i}),w.if(r!=null)("rect",{...h,fill:r,mask:`url(#${m})`}),w.if(a!=null&&r==null)("image",{xlinkHref:d,...h})])])},wa=n=>{let{type:e="vector",invert:t,...i}=n;switch((t??!1)&&(i.color=n.backgroundColor,i.backgroundColor=n.color),e){case"vector":return w(vh,i);case"raster":return w(mh,i)}},Pa=p.createContext(null),gh=function(n){let{patternIDs:e,scalePattern:t}=n;const i=n.UUID??la();return w("defs",Array.from(e).map(function(r,o){if(r===-1)return null;let s=100;return t!=null&&(s*=t(r)),w(wa,{key:o,prefix:i,id:r,width:s,height:s})}))};function yh(n){const{scalePattern:e,children:t}=n,[i,r]=p.useState(new Set),o=p.useCallback(a=>{if(i.has(a))return;let l=new Set(i);l.add(a),r(l)},[i]),s=p.useMemo(()=>({trackPattern:o}),[o]);return w(Rc,w(Pa.Provider,{value:s},w("g.patterns",[w(gh,{scalePattern:e,patternIDs:i}),t])))}function Eh(n,e="#aaa"){const t=p.useContext(to),i=p.useContext(Pa),r=la();return p.useEffect(()=>{i==null||i.trackPattern(n)},[n,i]),(t==null?void 0:t.resolvePattern(n))==null?e:`url(#${r}-${n})`}const _h=Eu.Lines,Ch={"dolomite-limestone":641,lime_mudstone:627,sandstone:607,siltstone:616,"dolomitic siltstone":616,shale:620,limestone:627,dolomite:642,conglomerate:602,"dolomite-mudstone":642,mudstone:620,"sandy-dolomite":645,quartzite:702},bh=function(n){if(n==null)return null;const e=n.fgdc_pattern??Ch[n.pattern]??n.pattern;return e==null?null:`${e}`},xh=function(n){let{bottom:e,top:t}=n;return t<e&&([t,e]=[e,t]),[e,t]};class si extends p.Component{static initClass(){this.contextType=nt,this.propTypes={division:N.object.isRequired,padWidth:N.bool},this.defaultProps={padWidth:!1}}render(){const{scale:e}=this.context;let{division:t,padWidth:i,key:r,width:o,...s}=this.props;const[a,l]=xh(t),u=e(l);let c=0;i&&(c-=5,o+=10);const h=e(a)-u;return r==null&&(r=t.id),M("rect",{x:c,y:u,width:o,height:h,key:r,...s})}}si.initClass();N.number,N.string.isRequired,N.func.isRequired;const xo=class xo extends Ae{render(){const{divisions:e,width:t}=this.context,i=`url(#${this.UUID}-covered)`,r=e.filter(o=>o.covered);return M("g.covered-overlay",{},[M("defs",[M(_h,{id:`${this.UUID}-covered`,size:9,strokeWidth:3,stroke:"rgba(0,0,0,0.5)"})]),M("g.main",r.map(o=>M(si,{division:o,width:t,fill:i})))])}};xo.contextType=Xt;let Ki=xo;const wh=function(n){let{resolveID:e,divisions:t,UUID:i,scalePattern:r}=n;r==null&&(r=()=>1),t==null&&({divisions:t}=p.useContext(nt));const o=t.map(s=>e(s)).filter((s,a,l)=>l.indexOf(s)===a);return M("defs",o.map(function(s,a){if(s===-1)return null;let l=100;if(r!=null){const u=r(s);l*=u}return M(wa,{key:a,prefix:i,id:s,width:l,height:l})}))};class Na extends Ae{constructor(...e){super(...e),this.constructLithologyDivisions=this.constructLithologyDivisions.bind(this),this.renderEach=this.renderEach.bind(this)}static initClass(){this.contextType=Xt,this.defaultProps={resolveID:bh,minimumHeight:0}}constructLithologyDivisions(){let e,t;const{divisions:i}=this.context,{resolveID:r,minimumHeight:o}=this.props,s=[];for(e of Array.from(i)){const l=s.length-1;if(t=r(e),l===-1){s.push({...e,patternID:t});continue}const u=t===r(s[l]);t==null||u?s[l].top=e.top:s.push({...e,patternID:t})}if(o>0){const l=[];for(let u=0;u<s.length;u++)if(e=s[u],e.top-e.bottom<o&&s[u+1]!=null){var a;s[u+1].bottom=e.bottom,s[a=u+1].patternID==null&&(s[a].patternID=r(e))}else l.push(e);return l}return s}renderEach(e){const{width:t}=this.context,i=B({definite:e.definite_boundary,covered:e.covered},"lithology");let r=`url(#${this.UUID}-${e.patternID})`;return e.patternID===-1&&(r="transparent"),M(si,{width:t,division:e,className:i,fill:r})}render(){const e=this.constructLithologyDivisions(),{resolveID:t}=this.props;return M("g.lithology",[M(wh,{divisions:e,resolveID:t,UUID:this.UUID}),M("g",e.map(this.renderEach))])}}Na.initClass();function Ph(n){const{left:e=0,shiftY:t=.5,width:i,children:r}=n;return M(qr,{width:i},[M(Wr,{className:"lithology-column",left:e,shiftY:t,frame:hn},r)])}Na.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"constructLithologyDivisions",docblock:null,modifiers:[],params:[],returns:null},{name:"renderEach",docblock:null,modifiers:[],params:[{name:"d",optional:!1,type:null}],returns:null}],displayName:"LithologyBoxes"};Ki.__docgenInfo={description:"",methods:[],displayName:"CoveredOverlay"};hn.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"SimpleFrame"};Xr.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"GrainsizeFrame"};si.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"ColumnRect"};function Ta(n,e){return n===e?[n]:[n,...Ta(n+1,e)]}class Sa extends Ae{constructor(...e){super(...e),this.renderSurfaces=this.renderSurfaces.bind(this)}static initClass(){this.contextType=nt,this.defaultProps={offsetLeft:-90,lineWidth:50,order:2}}render(){let{offsetLeft:e,lineWidth:t,order:i,orders:r,minOrder:o,maxOrder:s}=this.props;const{scale:a,zoom:l,divisions:u}=this.context;r==null&&o!=null&&s!=null&&(r=Ta(o,s));const[c,h]=a.range();r==null&&i!=null&&(r=[i]),r.reverse();const d=zi(),f=function(g,E,b,x=5,C=2){const _=sn().domain([0,x]).range([g,E]);d.lineTo(g,b);for(let S=0,I=x,O=0<=I;O?S<I:S>I;O?S++:S--){const F=_(S);let A=b;S%2===1&&(A+=C),d.lineTo(F,A)}return d.lineTo(E,b)},m=c-h;return d.moveTo(-t,0),f(-t,t,m,16,3),f(t,-t,0,16,3),d.closePath(),M("g.triangle-bars",{},[M("defs",[p.createElement("clipPath",{id:this.UUID},[M("path",{d:d.toString(),key:this.UUID+"-path"})])]),r.map(this.renderSurfaces)])}renderSurfaces(e,t){let i,r;const{scale:o,zoom:s,divisions:a}=this.context,{offsetLeft:l,lineWidth:u}=this.props;if(!a.length)return null;const c=u/2,h=l+u*2+5,d=[];for(r=0;r<a.length;r++){i=a[r];const{surface_type:E,surface_order:b}=i;if(E==null||b==null||!(b<=e))continue;const x=o(i.bottom);if(E==="mfs"&&d.push(["mfs",x]),E==="sb"){if(d.length===0){d.push(["sb",x]);continue}const C=d.length-1;d[C][0]==="sb"?d[C][1]=x:d.push(["sb",x])}}if(!d.length)return null;const f=zi();let m=null,g=null;for(r=0;r<d.length;r++){const E=d[r];E[0]==="mfs"&&m!=null&&(f.moveTo(0,m[1]),g!=null?(f.lineTo(c,g[1]),f.lineTo(0,E[1]),f.lineTo(-c,g[1]),f.closePath()):(f.lineTo(c,E[1]),f.lineTo(-c,E[1]),f.closePath()),g=null,m=null),E[0]==="mfs"?m=E:E[0]==="sb"&&(g=E)}return M(`g.level-${e}`,{clipPath:`url(#${this.UUID})`,transform:`translate(${-u*(2+t)+h})`,key:this.UUID+"-"+e},[M("path",{d:f.toString(),key:this.UUID+"-"+e})])}}Sa.initClass();Sa.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"renderSurfaces",docblock:null,modifiers:[],params:[{name:"order",optional:!1,type:null},{name:"index",optional:!1,type:null}],returns:null}],displayName:"TriangleBars"};const ji={"Hummocky cross-stratified":"hcs.svg","Trough cross-stratified":"tcs.svg","Dessication cracks":"dessication-cracks.svg",Ooids:"ooids.svg","Domal stromatolites":"domal-stromatolites.svg","Digitate stromatolites":"digitate-stromatolites.svg"},Nh=function(n){const{symbol:e,width:t,height:i,UUID:r}=n,{resolveSymbol:o}=p.useContext(oa),s=`${r}-${e}`,a={width:t},l=o(ji[e]);return M("symbol",{id:s,key:s,...a},[M("image",{href:l,x:0,y:0,...a})])},Th=function(n){const{patterns:e,...t}=n,i=[];return M("defs",e.map(function(r){const{symbol:o}=r;return i.includes(o)?null:(i.push(o),M(Nh,{symbol:o,...t}))}))};class Ra extends Ae{constructor(...e){super(...e),this.renderSymbol=this.renderSymbol.bind(this)}static initClass(){this.contextType=nt,this.defaultProps={width:30,left:0},this.propTypes={width:N.number,left:N.number,symbols:N.arrayOf(N.object).isRequired}}render(){const{scale:e,pixelHeight:t,zoom:i}=this.context,{left:r,width:o}=this.props;let{symbols:s}=this.props;const a=s.filter((u,c,h)=>h.indexOf(u)===c);let l=null;return r!=null&&(l=`translate(${r})`),s=s.filter(u=>u.symbol_min_zoom<i).map(this.renderSymbol),M("g.symbol-column",{transform:l},[M(Th,{width:o,patterns:a,UUID:this.UUID}),M("rect.symbol-column-area",{width:o,height:t}),M("g.symbols",s)])}renderSymbol(e){const{scale:t,pixelHeight:i}=this.context,{symbol:r,id:o,height:s}=e,a=B({symbol:r},"symbol"),{width:l}=this.props,u=t(s)-l/2;if(u<0||u>i)return null;const c=`#${this.UUID}-${r}`;return M("use",{className:a,y:u,x:0,width:l,xlinkHref:c,key:o})}}Ra.initClass();class Da extends p.Component{static initClass(){this.contextType=oa}render(){const{resolveSymbol:e}=this.context,t=[];for(let i in ji){const r=ji[i],o=M("div",{key:i},[M("img",{src:e(r)}),M("span.label",i)]);t.push(o)}return M("div.symbol-legend",t)}}Da.initClass();Ra.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"renderSymbol",docblock:null,modifiers:[],params:[{name:"d",optional:!1,type:null}],returns:null}],displayName:"SymbolColumn"};Da.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"SymbolLegend"};Vr(".1f");const Zi=Vr(".2f"),Sh=function(n){const{interval:e,children:t}=n;return D("div.interval-editor-title",[D("h3",`${Zi(e.bottom)}${Zi(e.top)} m`),D("div.id",[D("code",e.id)]),t])},eo=n=>{const{division:e,background:t,className:i,onClick:r}=n,{widthForDivision:o,scaleClamped:s}=p.useContext(Xt);if(s==null)return null;const a=s(e.top),u=s(e.bottom)-a,c=o(e);return D("div",{style:{marginTop:a,height:u,width:c,pointerEvents:"none",position:"absolute"}},[D("div",{onClick:r,className:i,style:{cursor:r!=null?"pointer":null,width:"100%",height:"100%",background:t}}),n.children])};eo.propTypes={division:N.object};const Rh=function({division:n,color:e,...t}){if(n==null)return null;e==null&&(e="red");const i=Zs(e).alpha(.5).css();return D(eo,{className:"editing-box",division:n,background:i,...t})},rn=class rn extends p.Component{constructor(e){super(e),this.onHoverInterval=this.onHoverInterval.bind(this),this.removeHoverBox=this.removeHoverBox.bind(this),this.heightForEvent=this.heightForEvent.bind(this),this.onEditInterval=this.onEditInterval.bind(this),this.onClick=this.onClick.bind(this),this.renderCursorLine=this.renderCursorLine.bind(this),this.renderHoveredBox=this.renderHoveredBox.bind(this),this.closePopover=this.closePopover.bind(this),this.state={height:null,hoveredDivision:null,popoverIsOpen:!1},this.timeout=null}onHoverInterval(e){if(e.stopPropagation(),ee.findDOMNode(this)!==e.target)return;const t=this.heightForEvent(e);if(this.setState({height:t}),!this.props.allowEditing)return;const{divisions:i}=this.context;let r=null;for(let o of Array.from(i))if(o.bottom<=t&&t<o.top){r=o;break}if(r!==this.state.hoveredDivision&&(this.setState({hoveredDivision:r}),this.timeout!=null))return clearTimeout(this.timeout),this.timeout=null}removeHoverBox(){return this.setState({hoveredDivision:null,popoverIsOpen:!1}),this.timeout=null}heightForEvent(e){const{scale:t}=this.context,{offsetY:i}=e.nativeEvent;return t.invert(i)}onEditInterval(e){if(this.state.popoverIsOpen)return;const{history:t,showInfoBox:i}=this.props,{hoveredDivision:r}=this.state,o=this.heightForEvent(e);if(e.stopPropagation(),e.shiftKey&&i){this.setState({popoverIsOpen:!0});return}return this.props.onClick({event:e,height:o,division:r})}onClick(e){if(this.props.allowEditing)return this.onEditInterval(e);const t=this.heightForEvent(e);return this.props.onClick({height:t})}renderCursorLine(){let{height:e,hoveredDivision:t}=this.state;const{scaleClamped:i}=this.context,{selectedHeight:r}=this.props;if(e==null&&(e=r),e==null)return;const o={top:i(e),height:0,border:"0.5px solid black",width:this.context.widthForDivision(t),position:"absolute",pointerEvents:"none"};return D("div.cursor",{style:o},[D("div.cursor-position",{style:{pointerEvents:"none",fontWeight:"bold",fontSize:"12px",left:"2px",top:"-14px",position:"absolute",color:"black"}},[Zi(e)])])}renderHoveredBox(){if(this.state.hoveredDivision==null)return null;const{popoverIsOpen:e,hoveredDivision:t}=this.state,i=this.context.widthForDivision(t),{color:r}=this.props,o=Zs(r).alpha(.3).css();return D(eo,{division:t,className:"hovered-box",background:o},[D.if(this.props.renderEditorPopup)(Gs,{isOpen:e&&t!=null,style:{display:"block",width:i},position:_u.LEFT},[D("div",{style:{width:i,height:30,transform:"translate(0,-30)"}}),D("div.editor-popover-contents",{style:{width:this.props.popoverWidth,padding:"10px"}},[D(Sh,{interval:t},[D(Xu,{icon:"cross",minimal:!0,intent:nc.WARNING,onClick:this.closePopover.bind(this)})]),this.props.renderEditorPopup(t)])])])}closePopover(){return this.setState({popoverIsOpen:!1})}render(){let{divisions:e,pixelHeight:t,width:i}=this.context;const{popoverIsOpen:r,hoveredDivision:o}=this.state,{left:s,top:a,color:l}=this.props;return i==null&&({width:i}=this.props),D(js,{className:"edit-overlay",width:i,height:t,style:{left:s,top:a,position:"absolute",zIndex:18,pointerEvents:"all",cursor:"pointer"},onClick:this.onEditInterval,onMouseEnter:this.onHoverInterval,onMouseMove:this.onHoverInterval,onMouseLeave:()=>{if(!r)return this.setState({height:null}),this.timeout=setTimeout(this.removeHoverBox,1e3)}},[this.renderHoveredBox(),D(Rh,{division:this.props.editingInterval,color:l}),this.renderCursorLine()])}};rn.contextType=Xt,rn.propTypes={left:N.number,top:N.number,showInfoBox:N.bool,onClick:N.func,allowEditing:N.bool,renderEditorPopup:N.func,scaleToGrainsize:N.bool,editingInterval:N.object,color:N.string,width:N.number,popoverWidth:N.number,selectedHeight:N.number},rn.defaultProps={onHoverInterval(){},onClick(){},left:0,top:0,showInfoBox:!1,allowEditing:!0,renderEditorPopup(){return null},color:"red",popoverWidth:340};let Qi=rn;Qi.__docgenInfo={description:"",methods:[{name:"onHoverInterval",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:null}],returns:null},{name:"removeHoverBox",docblock:null,modifiers:[],params:[],returns:null},{name:"heightForEvent",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:null}],returns:null},{name:"onEditInterval",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:null}],returns:null},{name:"onClick",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:null}],returns:null},{name:"renderCursorLine",docblock:null,modifiers:[],params:[],returns:null},{name:"renderHoveredBox",docblock:null,modifiers:[],params:[],returns:null},{name:"closePopover",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DivisionEditOverlay",props:{left:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},top:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},showInfoBox:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},allowEditing:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},color:{defaultValue:{value:'"red"',computed:!1},description:"",type:{name:"string"},required:!1},popoverWidth:{defaultValue:{value:"340",computed:!1},description:"",type:{name:"number"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},renderEditorPopup:{description:"",type:{name:"func"},required:!1},scaleToGrainsize:{description:"",type:{name:"bool"},required:!1},editingInterval:{description:"",type:{name:"object"},required:!1},width:{description:"",type:{name:"number"},required:!1},selectedHeight:{description:"",type:{name:"number"},required:!1}}};class no extends p.Component{constructor(...e){super(...e),this.onUpdate=this.onUpdate.bind(this)}static initClass(){this.defaultProps={states:[{label:"State 1",value:"state1"},{label:"State 2",value:"state2"}],vertical:!0,isNullable:!1}}render(){const{states:e,activeState:t,vertical:i}=this.props;let r=B("bp4-button-group","bp4-fill",{"bp4-vertical":i,"bp4-align-left":i});return w("div.picker-control",[w("div",{className:r},e.map(o=>(r=B("bp4-button",{"bp4-active":this.props.activeState===o.value}),w("button",{type:"button",className:r,onClick:this.onUpdate(o.value)},o.label))))])}onUpdate(e){return()=>{if(e===this.props.activeState){if(!this.props.isNullable)return;e=null}if(this.props.onUpdate!=null)return this.props.onUpdate(e)}}}no.initClass();no.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"onUpdate",docblock:null,modifiers:[],params:[{name:"value",optional:!1,type:null}],returns:null}],displayName:"PickerControl"};const Ia=N.shape({definite_boundary:N.bool});Vr(".1f");const Dh=n=>M(no,{vertical:!1,isNullable:!0,...n});class Ma extends p.Component{static initClass(){this.propTypes={interval:Ia}}render(){const{interval:e,onUpdate:t}=this.props;return M(Dh,{states:[{label:"Abrupt",value:!0},{label:"Diffuse",value:!1}],activeState:e.definite_boundary,onUpdate:t})}}Ma.initClass();Ma.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"BoundaryStyleControl"};const Ih="_hidden_1hepe_84",Mh="_expanded_1hepe_88",io={"correlated-surface-row":"_correlated-surface-row_1hepe_1","facies-picker-row":"_facies-picker-row_1hepe_11","facies-picker-name":"_facies-picker-name_1hepe_22","facies-color-swatch":"_facies-color-swatch_1hepe_30","lithology-swatch":"_lithology-swatch_1hepe_31","picker-label":"_picker-label_1hepe_41","editor-dialog-title":"_editor-dialog-title_1hepe_45","title-center":"_title-center_1hepe_62","height-range":"_height-range_1hepe_66","lithology-symbol-picker":"_lithology-symbol-picker_1hepe_78",hidden:Ih,"lithology-symbol-picker-inner":"_lithology-symbol-picker-inner_1hepe_84",expanded:Mh,"expand-button":"_expand-button_1hepe_88","labeled-control":"_labeled-control_1hepe_107","label-text":"_label-text_1hepe_116"},Oh=Gt(io),kh=n=>({...n,zIndex:999}),Ah=n=>Oh(Cu,{styles:{menu:kh},...n});N.bool,N.node.isRequired,Ia.isRequired,N.string;class Oa extends p.Component{static initClass(){this.contextType=ti,this.propTypes={facies:N.object.isRequired}}render(){const{setFaciesColor:e}=this.context,{facies:t}=this.props;return M("div",[M(ic,{color:t.color||"black",onChangeComplete(i){return e(t.id,i.hex)},styles:{width:500,height:570}})])}}Oa.initClass();const ka=({facies:n,...e})=>M("div.color-swatch",{style:{backgroundColor:n.color||"black",width:"2em",height:"2em"},...e});class ro extends p.Component{constructor(...e){super(...e),this.renderBasicSwatch=this.renderBasicSwatch.bind(this),this.render=this.render.bind(this)}static initClass(){this.defaultProps={isEditable:!0,facies:null}}renderBasicSwatch(){const{facies:e}=this.props;return M(ka,{facies:e})}render(){const{facies:e,isEditable:t}=this.props;return this.props.isEditable?M(Gs,{tetherOptions:{constraints:[{attachment:"together",to:"scrollParent"}]}},[this.renderBasicSwatch(),M(Oa,{facies:e})]):this.renderBasicSwatch}}ro.initClass();ro.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"renderBasicSwatch",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FaciesSwatch"};const Je=Gt(io),Lh=({facies:n})=>Je("span.facies-picker-row",[Je(ka,{facies:n,className:"facies-color-swatch"}),Je("span.facies-picker-name",n.name)]);class Aa extends p.Component{static initClass(){this.contextType=ti}render(){const{facies:e}=this.context,{interval:t,onChange:i}=this.props,r=e.map(s=>({value:s.id,label:Je(Lh,{facies:s})}));let o=r.find(s=>s.value===t.facies);return o==null&&(o=null),Je(Ah,{id:"facies-select",options:r,value:o,selected:t.facies,isClearable:!0,onChange(s){console.log("Changing",s);const a=s!=null?s.value:null;return i(a)}})}}Aa.initClass();Aa.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"FaciesPicker"};const Fh=({facies:n})=>M("div.header",[M("p.name",{style:{marginRight:20,textAlign:"left"}},n.name),M(ro,{facies:n})]);class La extends p.Component{constructor(...e){super(...e),this.renderEach=this.renderEach.bind(this)}static initClass(){this.contextType=ti,this.defaultProps={selected:null,isEditable:!1}}renderEach(e){let t=null;const i={};this.props.onClick!=null&&(t=()=>this.props.onClick(e),i.cursor="pointer");const{selected:r}=this.props;r===e.id&&(i.backgroundColor=e.color,i.color="white");const o=B({selected:r===e.id});return M("div.facies.bp3-card.bp3-elevation-0",{key:e.id,onClick:t,style:i,className:o},M(Fh,{facies:e}))}render(){const{facies:e}=this.context;return M("div.facies-description-small",[M("h5","Facies"),M("div",e.map(this.renderEach))])}}La.initClass();La.__docgenInfo={description:"",methods:[{name:"initClass",docblock:null,modifiers:["static"],params:[],returns:null},{name:"renderEach",docblock:null,modifiers:[],params:[{name:"d",optional:!1,type:null}],returns:null}],displayName:"FaciesDescriptionSmall"};w.styled(io);function fn(n){var i;const{width:e,height:t}=(i=n.current)==null?void 0:i.getBoundingClientRect();return{width:e,height:t}}function Uh(n){const{label:e,isShown:t,onVisibilityChanged:i,className:r,labelClassName:o,...s}=n,a=p.useRef(),l=p.useRef(),[u,c]=p.useState(null);p.useEffect(()=>{const d=fn(a),f=fn(l),m=f.width<=d.width&&f.height<=d.height;c(m)},[a,l,e]),p.useEffect(()=>{u!=null&&(i==null||i(u,fn(a),fn(l)))},[u]);const h=t??u??!0;return w("div.label-container",{...s,className:r,ref:a},w("span.label",{className:o,ref:l,style:{visibility:h?"visible":"hidden"}},w("span.label-text",null,e)))}const Hh=({ticks:n,tickSpacing:e=40,showDomain:t=!1})=>{const{pixelHeight:i}=p.useContext(nt);let r=Math.max(Math.round(i/e),1);return w("g.axis",{transform:"translate(20 0)"},[w(In,{ticks:r,showDomain:t})])};function Bh(n){const{ticks:e,tickSpacing:t,showLabel:i=!0,paddingV:r=10,showDomain:o,...s}=n;return w("div.column.age-axis",[w.if(i)("div.age-axis-label","Age (Ma)"),w(da,{paddingV:r,...s},w(Hh,{ticks:e,tickSpacing:t,showDomain:o}))])}const Vh="_unconformity_bysh2_103",Yh={"column-container":"_column-container_bysh2_1",unconformity:Vh,"unconformity-text":"_unconformity-text_bysh2_111","dark-mode":"_dark-mode_bysh2_117"};function Fa(n){switch(n){case"age":return"age";case"height":case"depth":return"pos"}}function $h(n,e){const{axisType:t}=e,i=Fa(t);return{height:n[`b_${i}`],top_height:n[`t_${i}`],data:n,id:n.unit_id}}const Ua=n=>n.unit_name.replace("Mbr","Member").replace("Fm","Formation").replace("Gp","Group");function zh(n){const e=p.useContext(nt),{left:t,noteComponent:i,shouldRenderNote:r=()=>!0,minimumHeight:o=0,divisions:s=e==null?void 0:e.divisions,...a}=n,{scale:l}=e,u=p.useCallback(h=>o==0?!0:Math.abs(l(h.top_height)-l(h.height))>o,[l,o]);if(s==null)return null;const c=s.filter(r).map(h=>$h(h,{axisType:e.axisType})).filter(u);return w(dh,{transform:`translate(${t||0})`,editable:!1,noteComponent:i,notes:c,forceOptions:{nodeSpacing:1},...a})}const qh=mt.memo(zh),Ha=n=>{const{nameForDivision:e=Ua,noteComponent:t,...i}=n;return w(qh,{noteComponent:t??(o=>{const{note:s}=o;return w("p.col-note-label",e(s.data))}),...i})},Gh={"dolomite-limestone":641,lime_mudstone:627,sandstone:607,"quartz arenite":607,litharenite:608,sand:608,siltstone:616,silt:616,"dolomitic siltstone":616,shale:620,limestone:627,dolomite:642,conglomerate:602,carbonate:627,"dolomite-mudstone":642,dolostone:642,mudstone:620,"sandy-dolomite":645,quartzite:702,halite:668,basalt:717,rhyolite:722,andesite:723,till:681,loess:684,"calcareous ooze":653,chalk:626,gravel:601,plutonic:721,granite:719,clay:660,syenite:722,tuff:711,volcanic:725,metamorphic:707,volcaniclastic:714,migmatite:709,gneiss:708,tonalite:727,granodiorite:725,monzonite:723,argillite:624},Ba=n=>{let e=n.lith,t=n.environ.map(r=>r.name).join(" ");e.sort((r,o)=>o.prop-r.prop);let i=null;if(n.unit_name=="clay")return"650";if(n.unit_name=="calcareous clay")return"651";for(const r of e){if(r.name=="sandstone"){if(t.includes("dune"))return"609";if(t.includes("marine"))return"608";if(t.includes("shore"))return"611";if(t.includes("loess"))return"686"}if(r.name=="conglomerate"&&t.includes("fluvial"))return"603";if(r.name.includes("tuff"))return"711";if(i=Gh[r.name],i!=null)return i;if(r.type=="volcanic")return"725"}return i},Xh={609:1.5,603:1.5},Wh=n=>Xh[`${n}`]??1,Kh=p.createContext(null),jh=p.createContext(null);function Va(n){const e=p.useContext(jh);return()=>{e==null||e(n)}}function Zh(){return p.useContext(Kh)}p.createContext(null);function Ya(n,e={}){const{widthFraction:t=1,axisType:i=Jn.AGE}=e,{scale:r}=p.useContext(nt),{width:o}=p.useContext(Xt),s=Fa(i),a="t_"+s,l="b_"+s,u=n[a],c=n[l];u==null&&c==null&&console.warn(`Missing keys ${a} and ${l} for ${n.unit_id} (${n.unit_name})`);const h=r(u),d=Math.abs(r(c)-h);return{x:o*(1-t),y:h,height:d,width:t*o}}function $a(n){const{division:e,children:t,defaultFill:i="transparent",className:r,widthFraction:o=1,...s}=n,{axisType:a}=zr(),l={...Ya(e,{widthFraction:o,axisType:a}),...s},u=Ba(e),c=Eh(u,i),h=p.useRef(),[d,f]=Qh(h,e);return w("g.unit",{className:r},[w("rect.unit",{ref:h,...l,fill:c,onMouseOver(){console.log(e)},onClick:f}),w.if(d)("rect.selection-overlay",l),t])}function Qh(n,e){const t=Zh(),i=(t==null?void 0:t.unit_id)==e.unit_id,r=Va(e);return p.useEffect(()=>{var o;i&&((o=n.current)==null||o.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},[i]),[i,r]}function Jh(n){const{division:e,label:t,onLabelUpdated:i,widthFraction:r,...o}=n,{axisType:s}=zr(),a={...Ya(e,{widthFraction:r,axisType:s}),...o},l=Va(e),{width:u,height:c}=a;return w($a,{className:"labeled-unit",division:e,onClick:l,...a},[w(ni,a,w(Uh,{className:"unit-overlay",labelClassName:"unit-label",style:{width:u,height:c},onClick:l,label:t,onVisibilityChanged(h){i(t,h)}}))])}function td(n){const{unitComponent:e=$a,unitComponentProps:t={}}=n,{divisions:i}=p.useContext(nt);if(i.length==0)return console.warn("No divisions found in column context"),null;const r=p.useMemo(()=>i.map((o,s)=>w(e,{division:o,key:o.unit_id,axisType:Jn.HEIGHT,...t})),[i,e,t]);return w(yh,{resolveID:Ba,scalePattern:Wh},w("g.divisions",r))}const ed={"unit-label":"_unit-label_tidbs_1"},kt=Gt(ed),za=p.createContext(null),qa=p.createContext(null);function nd(n){const{children:e}=n,{divisions:t}=zr(),[i,r]=p.useState(null),o=p.useRef({}),a=p.useCallback((l,u)=>{o.current[l.unit_id]=u,Object.keys(o.current).length==t.length&&r(t.filter(c=>o.current[c.unit_id]==!1))},[o,t]);return kt(za.Provider,{value:a},kt(qa.Provider,{value:i},e))}function Ga({division:n,nameForDivision:e=Ua,axisType:t,...i}){const r=p.useContext(za);return kt(Jh,{division:n,label:e(n),onLabelUpdated(o,s){r(n,s)},...i})}function id(n){const e=p.useContext(qa);return e==null?null:kt(Ha,{divisions:e,...n})}function rd(n){const{width:e,children:t,unitComponent:i=Ga,unitComponentProps:r,...o}=n;return kt(nd,[kt(Ph,{width:e},[kt(td,{unitComponent:i,unitComponentProps:r,...o})]),t])}function od(n){const{width:e=100,gutterWidth:t=10,labelOffset:i=30,noteMode:r="unlabeled",showLabels:o=!0,noteComponent:s,shouldRenderNote:a,...l}=n;let{columnWidth:u=e}=n;const c=r=="unlabeled"?id:Ha;return kt(rd,{width:u,...l},[kt(ad,{showLabels:o,component:c,columnWidth:u,gutterWidth:t,labelOffset:i,width:e,noteComponent:s,showNote:a})])}function sd(n){const{showLabels:e,component:t,columnWidth:i,gutterWidth:r,labelOffset:o,width:s,noteComponent:a,showNote:l}=n;return e?kt(t,{transform:`translate(${i+r})`,paddingLeft:o,width:s-i-r,noteComponent:a,shouldRenderNote:l}):null}const ad=p.memo(sd),ld="_map_1b3l2_13",ud="_graticule_1b3l2_17",cd="_neatline_1b3l2_24",hd="_background_1b3l2_30",dd={"drag-mouse-target":"_drag-mouse-target_1b3l2_1","mouse-position":"_mouse-position_1b3l2_7",map:ld,graticule:ud,neatline:cd,background:hd},ht=Gt(dd);function ai(){return new Mn}function Mn(){this.reset()}Mn.prototype={constructor:Mn,reset:function(){this.s=this.t=0},add:function(n){Yo(mn,n,this.t),Yo(this,mn.s,this.s),this.s?this.t+=mn.t:this.s=mn.t},valueOf:function(){return this.s}};var mn=new Mn;function Yo(n,e,t){var i=n.s=e+t,r=i-e,o=i-r;n.t=e-o+(t-r)}var G=1e-6,Sy=1e-12,X=Math.PI,_t=X/2,$o=X/4,Pt=X*2,Lt=180/X,ft=X/180,Q=Math.abs,pd=Math.atan,Ie=Math.atan2,tt=Math.cos,vn=Math.ceil,Z=Math.sin,fd=Math.sign||function(n){return n>0?1:n<0?-1:0},ne=Math.sqrt;function md(n){return n>1?0:n<-1?X:Math.acos(n)}function he(n){return n>1?_t:n<-1?-_t:Math.asin(n)}function Ct(){}function On(n,e){n&&qo.hasOwnProperty(n.type)&&qo[n.type](n,e)}var zo={Feature:function(n,e){On(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)On(t[i].geometry,e)}},qo={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)n=t[i],e.point(n[0],n[1],n[2])},LineString:function(n,e){Ji(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)Ji(t[i],e,0)},Polygon:function(n,e){Go(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)Go(t[i],e)},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)On(t[i],e)}};function Ji(n,e,t){var i=-1,r=n.length-t,o;for(e.lineStart();++i<r;)o=n[i],e.point(o[0],o[1],o[2]);e.lineEnd()}function Go(n,e){var t=-1,i=n.length;for(e.polygonStart();++t<i;)Ji(n[t],e,1);e.polygonEnd()}function Ee(n,e){n&&zo.hasOwnProperty(n.type)?zo[n.type](n,e):On(n,e)}function tr(n){return[Ie(n[1],n[0]),he(n[2])]}function Me(n){var e=n[0],t=n[1],i=tt(t);return[i*tt(e),i*Z(e),Z(t)]}function gn(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function kn(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function xi(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function yn(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function er(n){var e=ne(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function nr(n,e){function t(i,r){return i=n(i,r),e(i[0],i[1])}return n.invert&&e.invert&&(t.invert=function(i,r){return i=e.invert(i,r),i&&n.invert(i[0],i[1])}),t}function ir(n,e){return[Q(n)>X?n+Math.round(-n/Pt)*Pt:n,e]}ir.invert=ir;function vd(n,e,t){return(n%=Pt)?e||t?nr(Wo(n),Ko(e,t)):Wo(n):e||t?Ko(e,t):ir}function Xo(n){return function(e,t){return e+=n,[e>X?e-Pt:e<-X?e+Pt:e,t]}}function Wo(n){var e=Xo(n);return e.invert=Xo(-n),e}function Ko(n,e){var t=tt(n),i=Z(n),r=tt(e),o=Z(e);function s(a,l){var u=tt(l),c=tt(a)*u,h=Z(a)*u,d=Z(l),f=d*t+c*i;return[Ie(h*r-f*o,c*t-d*i),he(f*r+h*o)]}return s.invert=function(a,l){var u=tt(l),c=tt(a)*u,h=Z(a)*u,d=Z(l),f=d*r-h*o;return[Ie(h*r+d*o,c*t+f*i),he(f*t-c*i)]},s}function gd(n,e,t,i,r,o){if(t){var s=tt(e),a=Z(e),l=i*t;r==null?(r=e+i*Pt,o=e-l/2):(r=jo(s,r),o=jo(s,o),(i>0?r<o:r>o)&&(r+=i*Pt));for(var u,c=r;i>0?c>o:c<o;c-=l)u=tr([s,-a*tt(c),-a*Z(c)]),n.point(u[0],u[1])}}function jo(n,e){e=Me(e),e[0]-=n,er(e);var t=md(-e[1]);return((-e[2]<0?-t:t)+Pt-G)%Pt}function Xa(){var n=[],e;return{point:function(t,i,r){e.push([t,i,r])},lineStart:function(){n.push(e=[])},lineEnd:Ct,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function Nn(n,e){return Q(n[0]-e[0])<G&&Q(n[1]-e[1])<G}function En(n,e,t,i){this.x=n,this.z=e,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function Wa(n,e,t,i,r){var o=[],s=[],a,l;if(n.forEach(function(m){if(!((g=m.length-1)<=0)){var g,E=m[0],b=m[g],x;if(Nn(E,b)){if(!E[2]&&!b[2]){for(r.lineStart(),a=0;a<g;++a)r.point((E=m[a])[0],E[1]);r.lineEnd();return}b[0]+=2*G}o.push(x=new En(E,m,null,!0)),s.push(x.o=new En(E,null,x,!1)),o.push(x=new En(b,m,null,!1)),s.push(x.o=new En(b,null,x,!0))}}),!!o.length){for(s.sort(e),Zo(o),Zo(s),a=0,l=s.length;a<l;++a)s[a].e=t=!t;for(var u=o[0],c,h;;){for(var d=u,f=!0;d.v;)if((d=d.n)===u)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(a=0,l=c.length;a<l;++a)r.point((h=c[a])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(c=d.p.z,a=c.length-1;a>=0;--a)r.point((h=c[a])[0],h[1]);else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,f=!f}while(!d.v);r.lineEnd()}}}function Zo(n){if(e=n.length){for(var e,t=0,i=n[0],r;++t<e;)i.n=r=n[t],r.p=i,i=r;i.n=r=n[0],r.p=i}}var wi=ai();function Pi(n){return Q(n[0])<=X?n[0]:fd(n[0])*((Q(n[0])+X)%Pt-X)}function yd(n,e){var t=Pi(e),i=e[1],r=Z(i),o=[Z(t),-tt(t),0],s=0,a=0;wi.reset(),r===1?i=_t+G:r===-1&&(i=-_t-G);for(var l=0,u=n.length;l<u;++l)if(h=(c=n[l]).length)for(var c,h,d=c[h-1],f=Pi(d),m=d[1]/2+$o,g=Z(m),E=tt(m),b=0;b<h;++b,f=C,g=S,E=I,d=x){var x=c[b],C=Pi(x),_=x[1]/2+$o,S=Z(_),I=tt(_),O=C-f,F=O>=0?1:-1,A=F*O,V=A>X,U=g*S;if(wi.add(Ie(U*F*Z(A),E*I+U*tt(A))),s+=V?O+F*Pt:O,V^f>=t^C>=t){var v=kn(Me(d),Me(x));er(v);var P=kn(o,v);er(P);var T=(V^O>=0?-1:1)*he(P[2]);(i>T||i===T&&(v[0]||v[1]))&&(a+=V^O>=0?1:-1)}}return(s<-G||s<G&&wi<-G)^a&1}function Ka(n,e,t,i){return function(r){var o=e(r),s=Xa(),a=e(s),l=!1,u,c,h,d={point:f,lineStart:g,lineEnd:E,polygonStart:function(){d.point=b,d.lineStart=x,d.lineEnd=C,c=[],u=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=E,c=na(c);var _=yd(u,i);c.length?(l||(r.polygonStart(),l=!0),Wa(c,_d,_,t,r)):_&&(l||(r.polygonStart(),l=!0),r.lineStart(),t(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),c=u=null},sphere:function(){r.polygonStart(),r.lineStart(),t(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(_,S){n(_,S)&&r.point(_,S)}function m(_,S){o.point(_,S)}function g(){d.point=m,o.lineStart()}function E(){d.point=f,o.lineEnd()}function b(_,S){h.push([_,S]),a.point(_,S)}function x(){a.lineStart(),h=[]}function C(){b(h[0][0],h[0][1]),a.lineEnd();var _=a.clean(),S=s.result(),I,O=S.length,F,A,V;if(h.pop(),u.push(h),h=null,!!O){if(_&1){if(A=S[0],(F=A.length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),I=0;I<F;++I)r.point((V=A[I])[0],V[1]);r.lineEnd()}return}O>1&&_&2&&S.push(S.pop().concat(S.shift())),c.push(S.filter(Ed))}}return d}}function Ed(n){return n.length>1}function _d(n,e){return((n=n.x)[0]<0?n[1]-_t-G:_t-n[1])-((e=e.x)[0]<0?e[1]-_t-G:_t-e[1])}const Qo=Ka(function(){return!0},Cd,xd,[-X,-_t]);function Cd(n){var e=NaN,t=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(o,s){var a=o>0?X:-X,l=Q(o-e);Q(l-X)<G?(n.point(e,t=(t+s)/2>0?_t:-_t),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(a,t),n.point(o,t),r=0):i!==a&&l>=X&&(Q(e-i)<G&&(e-=i*G),Q(o-a)<G&&(o-=a*G),t=bd(e,t,o,s),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(a,t),r=0),n.point(e=o,t=s),i=a},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-r}}}function bd(n,e,t,i){var r,o,s=Z(n-t);return Q(s)>G?pd((Z(e)*(o=tt(i))*Z(t)-Z(i)*(r=tt(e))*Z(n))/(r*o*s)):(e+i)/2}function xd(n,e,t,i){var r;if(n==null)r=t*_t,i.point(-X,r),i.point(0,r),i.point(X,r),i.point(X,0),i.point(X,-r),i.point(0,-r),i.point(-X,-r),i.point(-X,0),i.point(-X,r);else if(Q(n[0]-e[0])>G){var o=n[0]<e[0]?X:-X;r=t*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function wd(n){var e=tt(n),t=6*ft,i=e>0,r=Q(e)>G;function o(c,h,d,f){gd(f,n,t,d,c,h)}function s(c,h){return tt(c)*tt(h)>e}function a(c){var h,d,f,m,g;return{lineStart:function(){m=f=!1,g=1},point:function(E,b){var x=[E,b],C,_=s(E,b),S=i?_?0:u(E,b):_?u(E+(E<0?X:-X),b):0;if(!h&&(m=f=_)&&c.lineStart(),_!==f&&(C=l(h,x),(!C||Nn(h,C)||Nn(x,C))&&(x[2]=1)),_!==f)g=0,_?(c.lineStart(),C=l(x,h),c.point(C[0],C[1])):(C=l(h,x),c.point(C[0],C[1],2),c.lineEnd()),h=C;else if(r&&h&&i^_){var I;!(S&d)&&(I=l(x,h,!0))&&(g=0,i?(c.lineStart(),c.point(I[0][0],I[0][1]),c.point(I[1][0],I[1][1]),c.lineEnd()):(c.point(I[1][0],I[1][1]),c.lineEnd(),c.lineStart(),c.point(I[0][0],I[0][1],3)))}_&&(!h||!Nn(h,x))&&c.point(x[0],x[1]),h=x,f=_,d=S},lineEnd:function(){f&&c.lineEnd(),h=null},clean:function(){return g|(m&&f)<<1}}}function l(c,h,d){var f=Me(c),m=Me(h),g=[1,0,0],E=kn(f,m),b=gn(E,E),x=E[0],C=b-x*x;if(!C)return!d&&c;var _=e*b/C,S=-e*x/C,I=kn(g,E),O=yn(g,_),F=yn(E,S);xi(O,F);var A=I,V=gn(O,A),U=gn(A,A),v=V*V-U*(gn(O,O)-1);if(!(v<0)){var P=ne(v),T=yn(A,(-V-P)/U);if(xi(T,O),T=tr(T),!d)return T;var y=c[0],R=h[0],H=c[1],q=h[1],K;R<y&&(K=y,y=R,R=K);var rt=R-y,ot=Q(rt-X)<G,at=ot||rt<G;if(!ot&&q<H&&(K=H,H=q,q=K),at?ot?H+q>0^T[1]<(Q(T[0]-y)<G?H:q):H<=T[1]&&T[1]<=q:rt>X^(y<=T[0]&&T[0]<=R)){var st=yn(A,(-V+P)/U);return xi(st,O),[T,tr(st)]}}}function u(c,h){var d=i?n:X-n,f=0;return c<-d?f|=1:c>d&&(f|=2),h<-d?f|=4:h>d&&(f|=8),f}return Ka(s,a,o,i?[0,-n]:[-X,n-X])}function Pd(n,e,t,i,r,o){var s=n[0],a=n[1],l=e[0],u=e[1],c=0,h=1,d=l-s,f=u-a,m;if(m=t-s,!(!d&&m>0)){if(m/=d,d<0){if(m<c)return;m<h&&(h=m)}else if(d>0){if(m>h)return;m>c&&(c=m)}if(m=r-s,!(!d&&m<0)){if(m/=d,d<0){if(m>h)return;m>c&&(c=m)}else if(d>0){if(m<c)return;m<h&&(h=m)}if(m=i-a,!(!f&&m>0)){if(m/=f,f<0){if(m<c)return;m<h&&(h=m)}else if(f>0){if(m>h)return;m>c&&(c=m)}if(m=o-a,!(!f&&m<0)){if(m/=f,f<0){if(m>h)return;m>c&&(c=m)}else if(f>0){if(m<c)return;m<h&&(h=m)}return c>0&&(n[0]=s+c*d,n[1]=a+c*f),h<1&&(e[0]=s+h*d,e[1]=a+h*f),!0}}}}}var qe=1e9,_n=-qe;function Nd(n,e,t,i){function r(u,c){return n<=u&&u<=t&&e<=c&&c<=i}function o(u,c,h,d){var f=0,m=0;if(u==null||(f=s(u,h))!==(m=s(c,h))||l(u,c)<0^h>0)do d.point(f===0||f===3?n:t,f>1?i:e);while((f=(f+h+4)%4)!==m);else d.point(c[0],c[1])}function s(u,c){return Q(u[0]-n)<G?c>0?0:3:Q(u[0]-t)<G?c>0?2:1:Q(u[1]-e)<G?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var h=s(u,1),d=s(c,1);return h!==d?h-d:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=Xa(),d,f,m,g,E,b,x,C,_,S,I,O={point:F,lineStart:v,lineEnd:P,polygonStart:V,polygonEnd:U};function F(y,R){r(y,R)&&c.point(y,R)}function A(){for(var y=0,R=0,H=f.length;R<H;++R)for(var q=f[R],K=1,rt=q.length,ot=q[0],at,st,lt=ot[0],Dt=ot[1];K<rt;++K)at=lt,st=Dt,ot=q[K],lt=ot[0],Dt=ot[1],st<=i?Dt>i&&(lt-at)*(i-st)>(Dt-st)*(n-at)&&++y:Dt<=i&&(lt-at)*(i-st)<(Dt-st)*(n-at)&&--y;return y}function V(){c=h,d=[],f=[],I=!0}function U(){var y=A(),R=I&&y,H=(d=na(d)).length;(R||H)&&(u.polygonStart(),R&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),H&&Wa(d,a,y,o,u),u.polygonEnd()),c=u,d=f=m=null}function v(){O.point=T,f&&f.push(m=[]),S=!0,_=!1,x=C=NaN}function P(){d&&(T(g,E),b&&_&&h.rejoin(),d.push(h.result())),O.point=F,_&&c.lineEnd()}function T(y,R){var H=r(y,R);if(f&&m.push([y,R]),S)g=y,E=R,b=H,S=!1,H&&(c.lineStart(),c.point(y,R));else if(H&&_)c.point(y,R);else{var q=[x=Math.max(_n,Math.min(qe,x)),C=Math.max(_n,Math.min(qe,C))],K=[y=Math.max(_n,Math.min(qe,y)),R=Math.max(_n,Math.min(qe,R))];Pd(q,K,n,e,t,i)?(_||(c.lineStart(),c.point(q[0],q[1])),c.point(K[0],K[1]),H||c.lineEnd(),I=!1):H&&(c.lineStart(),c.point(y,R),I=!1)}x=y,C=R,_=H}return O}}function Jo(n,e,t){var i=we(n,e-G,t).concat(e);return function(r){return i.map(function(o){return[r,o]})}}function ts(n,e,t){var i=we(n,e-G,t).concat(e);return function(r){return i.map(function(o){return[o,r]})}}function Td(){var n,e,t,i,r,o,s,a,l=10,u=l,c=90,h=360,d,f,m,g,E=2.5;function b(){return{type:"MultiLineString",coordinates:x()}}function x(){return we(vn(i/c)*c,t,c).map(m).concat(we(vn(a/h)*h,s,h).map(g)).concat(we(vn(e/l)*l,n,l).filter(function(C){return Q(C%c)>G}).map(d)).concat(we(vn(o/u)*u,r,u).filter(function(C){return Q(C%h)>G}).map(f))}return b.lines=function(){return x().map(function(C){return{type:"LineString",coordinates:C}})},b.outline=function(){return{type:"Polygon",coordinates:[m(i).concat(g(s).slice(1),m(t).reverse().slice(1),g(a).reverse().slice(1))]}},b.extent=function(C){return arguments.length?b.extentMajor(C).extentMinor(C):b.extentMinor()},b.extentMajor=function(C){return arguments.length?(i=+C[0][0],t=+C[1][0],a=+C[0][1],s=+C[1][1],i>t&&(C=i,i=t,t=C),a>s&&(C=a,a=s,s=C),b.precision(E)):[[i,a],[t,s]]},b.extentMinor=function(C){return arguments.length?(e=+C[0][0],n=+C[1][0],o=+C[0][1],r=+C[1][1],e>n&&(C=e,e=n,n=C),o>r&&(C=o,o=r,r=C),b.precision(E)):[[e,o],[n,r]]},b.step=function(C){return arguments.length?b.stepMajor(C).stepMinor(C):b.stepMinor()},b.stepMajor=function(C){return arguments.length?(c=+C[0],h=+C[1],b):[c,h]},b.stepMinor=function(C){return arguments.length?(l=+C[0],u=+C[1],b):[l,u]},b.precision=function(C){return arguments.length?(E=+C,d=Jo(o,r,90),f=ts(e,n,E),m=Jo(a,s,90),g=ts(i,t,E),b):E},b.extentMajor([[-180,-90+G],[180,90-G]]).extentMinor([[-180,-80-G],[180,80+G]])}function rr(n){return n}var Ni=ai(),or=ai(),ja,Za,sr,ar,Ut={point:Ct,lineStart:Ct,lineEnd:Ct,polygonStart:function(){Ut.lineStart=Sd,Ut.lineEnd=Dd},polygonEnd:function(){Ut.lineStart=Ut.lineEnd=Ut.point=Ct,Ni.add(Q(or)),or.reset()},result:function(){var n=Ni/2;return Ni.reset(),n}};function Sd(){Ut.point=Rd}function Rd(n,e){Ut.point=Qa,ja=sr=n,Za=ar=e}function Qa(n,e){or.add(ar*n-sr*e),sr=n,ar=e}function Dd(){Qa(ja,Za)}var Oe=1/0,An=Oe,ln=-Oe,Ln=ln,Fn={point:Id,lineStart:Ct,lineEnd:Ct,polygonStart:Ct,polygonEnd:Ct,result:function(){var n=[[Oe,An],[ln,Ln]];return ln=Ln=-(An=Oe=1/0),n}};function Id(n,e){n<Oe&&(Oe=n),n>ln&&(ln=n),e<An&&(An=e),e>Ln&&(Ln=e)}var lr=0,ur=0,Ge=0,Un=0,Hn=0,Pe=0,cr=0,hr=0,Xe=0,Ja,tl,Mt,Ot,Et={point:de,lineStart:es,lineEnd:ns,polygonStart:function(){Et.lineStart=kd,Et.lineEnd=Ad},polygonEnd:function(){Et.point=de,Et.lineStart=es,Et.lineEnd=ns},result:function(){var n=Xe?[cr/Xe,hr/Xe]:Pe?[Un/Pe,Hn/Pe]:Ge?[lr/Ge,ur/Ge]:[NaN,NaN];return lr=ur=Ge=Un=Hn=Pe=cr=hr=Xe=0,n}};function de(n,e){lr+=n,ur+=e,++Ge}function es(){Et.point=Md}function Md(n,e){Et.point=Od,de(Mt=n,Ot=e)}function Od(n,e){var t=n-Mt,i=e-Ot,r=ne(t*t+i*i);Un+=r*(Mt+n)/2,Hn+=r*(Ot+e)/2,Pe+=r,de(Mt=n,Ot=e)}function ns(){Et.point=de}function kd(){Et.point=Ld}function Ad(){el(Ja,tl)}function Ld(n,e){Et.point=el,de(Ja=Mt=n,tl=Ot=e)}function el(n,e){var t=n-Mt,i=e-Ot,r=ne(t*t+i*i);Un+=r*(Mt+n)/2,Hn+=r*(Ot+e)/2,Pe+=r,r=Ot*n-Mt*e,cr+=r*(Mt+n),hr+=r*(Ot+e),Xe+=r*3,de(Mt=n,Ot=e)}function nl(n){this._context=n}nl.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,Pt);break}}},result:Ct};var dr=ai(),Ti,il,rl,We,Ke,un={point:Ct,lineStart:function(){un.point=Fd},lineEnd:function(){Ti&&ol(il,rl),un.point=Ct},polygonStart:function(){Ti=!0},polygonEnd:function(){Ti=null},result:function(){var n=+dr;return dr.reset(),n}};function Fd(n,e){un.point=ol,il=We=n,rl=Ke=e}function ol(n,e){We-=n,Ke-=e,dr.add(ne(We*We+Ke*Ke)),We=n,Ke=e}function sl(){this._string=[]}sl.prototype={_radius:4.5,_circle:is(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._string.push("M",n,",",e),this._point=1;break}case 1:{this._string.push("L",n,",",e);break}default:{this._circle==null&&(this._circle=is(this._radius)),this._string.push("M",n,",",e,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function is(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function oo(n,e){var t=4.5,i,r;function o(s){return s&&(typeof t=="function"&&r.pointRadius(+t.apply(this,arguments)),Ee(s,i(r))),r.result()}return o.area=function(s){return Ee(s,i(Ut)),Ut.result()},o.measure=function(s){return Ee(s,i(un)),un.result()},o.bounds=function(s){return Ee(s,i(Fn)),Fn.result()},o.centroid=function(s){return Ee(s,i(Et)),Et.result()},o.projection=function(s){return arguments.length?(i=s==null?(n=null,rr):(n=s).stream,o):n},o.context=function(s){return arguments.length?(r=s==null?(e=null,new sl):new nl(e=s),typeof t!="function"&&r.pointRadius(t),o):e},o.pointRadius=function(s){return arguments.length?(t=typeof s=="function"?s:(r.pointRadius(+s),+s),o):t},o.projection(n).context(e)}function so(n){return function(e){var t=new pr;for(var i in n)t[i]=n[i];return t.stream=e,t}}function pr(){}pr.prototype={constructor:pr,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ao(n,e,t){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),Ee(t,n.stream(Fn)),e(Fn.result()),i!=null&&n.clipExtent(i),n}function al(n,e,t){return ao(n,function(i){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],s=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),a=+e[0][0]+(r-s*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(o-s*(i[1][1]+i[0][1]))/2;n.scale(150*s).translate([a,l])},t)}function Ud(n,e,t){return al(n,[[0,0],e],t)}function Hd(n,e,t){return ao(n,function(i){var r=+e,o=r/(i[1][0]-i[0][0]),s=(r-o*(i[1][0]+i[0][0]))/2,a=-o*i[0][1];n.scale(150*o).translate([s,a])},t)}function Bd(n,e,t){return ao(n,function(i){var r=+e,o=r/(i[1][1]-i[0][1]),s=-o*i[0][0],a=(r-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([s,a])},t)}var rs=16,Vd=tt(30*ft);function os(n,e){return+e?$d(n,e):Yd(n)}function Yd(n){return so({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function $d(n,e){function t(i,r,o,s,a,l,u,c,h,d,f,m,g,E){var b=u-i,x=c-r,C=b*b+x*x;if(C>4*e&&g--){var _=s+d,S=a+f,I=l+m,O=ne(_*_+S*S+I*I),F=he(I/=O),A=Q(Q(I)-1)<G||Q(o-h)<G?(o+h)/2:Ie(S,_),V=n(A,F),U=V[0],v=V[1],P=U-i,T=v-r,y=x*P-b*T;(y*y/C>e||Q((b*P+x*T)/C-.5)>.3||s*d+a*f+l*m<Vd)&&(t(i,r,o,s,a,l,U,v,A,_/=O,S/=O,I,g,E),E.point(U,v),t(U,v,A,_,S,I,u,c,h,d,f,m,g,E))}}return function(i){var r,o,s,a,l,u,c,h,d,f,m,g,E={point:b,lineStart:x,lineEnd:_,polygonStart:function(){i.polygonStart(),E.lineStart=S},polygonEnd:function(){i.polygonEnd(),E.lineStart=x}};function b(F,A){F=n(F,A),i.point(F[0],F[1])}function x(){h=NaN,E.point=C,i.lineStart()}function C(F,A){var V=Me([F,A]),U=n(F,A);t(h,d,c,f,m,g,h=U[0],d=U[1],c=F,f=V[0],m=V[1],g=V[2],rs,i),i.point(h,d)}function _(){E.point=b,i.lineEnd()}function S(){x(),E.point=I,E.lineEnd=O}function I(F,A){C(r=F,A),o=h,s=d,a=f,l=m,u=g,E.point=C}function O(){t(h,d,c,f,m,g,o,s,r,a,l,u,rs,i),E.lineEnd=_,_()}return E}}var zd=so({point:function(n,e){this.stream.point(n*ft,e*ft)}});function qd(n){return so({point:function(e,t){var i=n(e,t);return this.stream.point(i[0],i[1])}})}function Gd(n,e,t,i,r){function o(s,a){return s*=i,a*=r,[e+n*s,t-n*a]}return o.invert=function(s,a){return[(s-e)/n*i,(t-a)/n*r]},o}function ss(n,e,t,i,r,o){var s=tt(o),a=Z(o),l=s*n,u=a*n,c=s/n,h=a/n,d=(a*t-s*e)/n,f=(a*e+s*t)/n;function m(g,E){return g*=i,E*=r,[l*g-u*E+e,t-u*g-l*E]}return m.invert=function(g,E){return[i*(c*g-h*E+d),r*(f-h*g-c*E)]},m}function Xd(n){return Wd(function(){return n})()}function Wd(n){var e,t=150,i=480,r=250,o=0,s=0,a=0,l=0,u=0,c,h=0,d=1,f=1,m=null,g=Qo,E=null,b,x,C,_=rr,S=.5,I,O,F,A,V;function U(y){return F(y[0]*ft,y[1]*ft)}function v(y){return y=F.invert(y[0],y[1]),y&&[y[0]*Lt,y[1]*Lt]}U.stream=function(y){return A&&V===y?A:A=zd(qd(c)(g(I(_(V=y)))))},U.preclip=function(y){return arguments.length?(g=y,m=void 0,T()):g},U.postclip=function(y){return arguments.length?(_=y,E=b=x=C=null,T()):_},U.clipAngle=function(y){return arguments.length?(g=+y?wd(m=y*ft):(m=null,Qo),T()):m*Lt},U.clipExtent=function(y){return arguments.length?(_=y==null?(E=b=x=C=null,rr):Nd(E=+y[0][0],b=+y[0][1],x=+y[1][0],C=+y[1][1]),T()):E==null?null:[[E,b],[x,C]]},U.scale=function(y){return arguments.length?(t=+y,P()):t},U.translate=function(y){return arguments.length?(i=+y[0],r=+y[1],P()):[i,r]},U.center=function(y){return arguments.length?(o=y[0]%360*ft,s=y[1]%360*ft,P()):[o*Lt,s*Lt]},U.rotate=function(y){return arguments.length?(a=y[0]%360*ft,l=y[1]%360*ft,u=y.length>2?y[2]%360*ft:0,P()):[a*Lt,l*Lt,u*Lt]},U.angle=function(y){return arguments.length?(h=y%360*ft,P()):h*Lt},U.reflectX=function(y){return arguments.length?(d=y?-1:1,P()):d<0},U.reflectY=function(y){return arguments.length?(f=y?-1:1,P()):f<0},U.precision=function(y){return arguments.length?(I=os(O,S=y*y),T()):ne(S)},U.fitExtent=function(y,R){return al(U,y,R)},U.fitSize=function(y,R){return Ud(U,y,R)},U.fitWidth=function(y,R){return Hd(U,y,R)},U.fitHeight=function(y,R){return Bd(U,y,R)};function P(){var y=ss(t,0,0,d,f,h).apply(null,e(o,s)),R=(h?ss:Gd)(t,i-y[0],r-y[1],d,f,h);return c=vd(a,l,u),O=nr(e,R),F=nr(c,O),I=os(O,S),T()}function T(){return A=V=null,U}return function(){return e=n.apply(this,arguments),U.invert=e.invert&&v,P()}}function Kd(n){return function(e,t){var i=ne(e*e+t*t),r=n(i),o=Z(r),s=tt(r);return[Ie(e*o,i*s),he(i&&t*o/i)]}}function ll(n,e){return[tt(e)*Z(n),Z(e)]}ll.invert=Kd(he);function ul(){return Xd(ll).scale(249.5).clipAngle(90+G)}const Le=p.createContext({width:0,height:0,margin:0,renderPath:n=>null,projection:ul(),mapRef:null}),cl=p.createContext(()=>{});function jd(){return p.useContext(cl)}function hl(){return p.useContext(Le)}function Zd(){return hl().mapRef}function dl(n,e){switch(e.type){case"update":return{...n,updateCount:n.updateCount+1,projection:e.projection};case"update-state":return e.state;case"rotate":return{...n,updateCount:n.updateCount+1,projection:n.projection.rotate(e.rotation)};case"scale":return dl(n,{type:"update",projection:n.projection.scale(e.scale)})}}function lo(n){const{geometry:e,...t}=n,{renderPath:i}=hl(),r=e!=null?i(e):null;return w("path",{d:r,...t})}function Qd(n=10){const e=Array.isArray(n)?n:[n,n];return Td().step(e).extent([[-180,-90+e[1]],[180,90-e[1]+1e-6]])()}function Jd({stepSize:n,...e}){const t=Qd(n);return ht(lo,{className:"graticule",geometry:t,...e})}var tp={value:function(){}};function li(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Tn(t)}function Tn(n){this._=n}function ep(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}Tn.prototype=li.prototype={constructor:Tn,on:function(n,e){var t=this._,i=ep(n+"",t),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(n=i[o]).type)&&(r=np(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(n=i[o]).type)t[r]=as(t[r],n.name,e);else if(e==null)for(r in t)t[r]=as(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Tn(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,o;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],i=0,r=o.length;i<r;++i)o[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,o=i.length;r<o;++r)i[r].value.apply(e,t)}};function np(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function as(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=tp,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}function Si(){$.stopImmediatePropagation()}function Se(){$.preventDefault(),$.stopImmediatePropagation()}function pl(n){var e=n.document.documentElement,t=Tt(n).on("dragstart.drag",Se,!0);"onselectstart"in e?t.on("selectstart.drag",Se,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function fl(n,e){var t=n.document.documentElement,i=Tt(n).on("dragstart.drag",null);e&&(i.on("click.drag",Se,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}function Cn(n){return function(){return n}}function fr(n,e,t,i,r,o,s,a,l,u){this.target=n,this.type=e,this.subject=t,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=l,this._=u}fr.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function ip(){return!$.ctrlKey&&!$.button}function rp(){return this.parentNode}function op(n){return n??{x:$.x,y:$.y}}function sp(){return navigator.maxTouchPoints||"ontouchstart"in this}function ap(){var n=ip,e=rp,t=op,i=sp,r={},o=li("start","drag","end"),s=0,a,l,u,c,h=0;function d(_){_.on("mousedown.drag",f).filter(i).on("touchstart.drag",E).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!(c||!n.apply(this,arguments))){var _=C("mouse",e.apply(this,arguments),xe,this,arguments);_&&(Tt($.view).on("mousemove.drag",m,!0).on("mouseup.drag",g,!0),pl($.view),Si(),u=!1,a=$.clientX,l=$.clientY,_("start"))}}function m(){if(Se(),!u){var _=$.clientX-a,S=$.clientY-l;u=_*_+S*S>h}r.mouse("drag")}function g(){Tt($.view).on("mousemove.drag mouseup.drag",null),fl($.view,u),Se(),r.mouse("end")}function E(){if(n.apply(this,arguments)){var _=$.changedTouches,S=e.apply(this,arguments),I=_.length,O,F;for(O=0;O<I;++O)(F=C(_[O].identifier,S,Gi,this,arguments))&&(Si(),F("start"))}}function b(){var _=$.changedTouches,S=_.length,I,O;for(I=0;I<S;++I)(O=r[_[I].identifier])&&(Se(),O("drag"))}function x(){var _=$.changedTouches,S=_.length,I,O;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),I=0;I<S;++I)(O=r[_[I].identifier])&&(Si(),O("end"))}function C(_,S,I,O,F){var A=I(S,_),V,U,v,P=o.copy();if(qi(new fr(d,"beforestart",V,_,s,A[0],A[1],0,0,P),function(){return($.subject=V=t.apply(O,F))==null?!1:(U=V.x-A[0]||0,v=V.y-A[1]||0,!0)}))return function T(y){var R=A,H;switch(y){case"start":r[_]=T,H=s++;break;case"end":delete r[_],--s;case"drag":A=I(S,_),H=s;break}qi(new fr(d,y,V,_,H,A[0]+U,A[1]+v,A[0]-R[0],A[1]-R[1],P),P.apply,P,[y,O,F])}}return d.filter=function(_){return arguments.length?(n=typeof _=="function"?_:Cn(!!_),d):n},d.container=function(_){return arguments.length?(e=typeof _=="function"?_:Cn(_),d):e},d.subject=function(_){return arguments.length?(t=typeof _=="function"?_:Cn(_),d):t},d.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:Cn(!!_),d):i},d.on=function(){var _=o.on.apply(o,arguments);return _===o?d:_},d.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,d):Math.sqrt(h)},d}var ke=0,je=0,Ve=0,ml=1e3,Bn,Ze,Vn=0,pe=0,ui=0,cn=typeof performance=="object"&&performance.now?performance:Date,vl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function ci(){return pe||(vl(lp),pe=cn.now()+ui)}function lp(){pe=0}function Yn(){this._call=this._time=this._next=null}Yn.prototype=gl.prototype={constructor:Yn,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?ci():+t)+(e==null?0:+e),!this._next&&Ze!==this&&(Ze?Ze._next=this:Bn=this,Ze=this),this._call=n,this._time=t,mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,mr())}};function gl(n,e,t){var i=new Yn;return i.restart(n,e,t),i}function up(){ci(),++ke;for(var n=Bn,e;n;)(e=pe-n._time)>=0&&n._call.call(null,e),n=n._next;--ke}function ls(){pe=(Vn=cn.now())+ui,ke=je=0;try{up()}finally{ke=0,hp(),pe=0}}function cp(){var n=cn.now(),e=n-Vn;e>ml&&(ui-=e,Vn=n)}function hp(){for(var n,e=Bn,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Bn=t);Ze=n,mr(i)}function mr(n){if(!ke){je&&(je=clearTimeout(je));var e=n-pe;e>24?(n<1/0&&(je=setTimeout(ls,n-cn.now()-ui)),Ve&&(Ve=clearInterval(Ve))):(Ve||(Vn=cn.now(),Ve=setInterval(cp,ml)),ke=1,vl(ls))}}function us(n,e,t){var i=new Yn;return e=e==null?0:+e,i.restart(function(r){i.stop(),n(r+e)},e,t),i}var dp=li("start","end","cancel","interrupt"),pp=[],yl=0,cs=1,vr=2,Sn=3,hs=4,gr=5,Rn=6;function hi(n,e,t,i,r,o){var s=n.__transition;if(!s)n.__transition={};else if(t in s)return;fp(n,t,{name:e,index:i,group:r,on:dp,tween:pp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:yl})}function uo(n,e){var t=St(n,e);if(t.state>yl)throw new Error("too late; already scheduled");return t}function Wt(n,e){var t=St(n,e);if(t.state>Sn)throw new Error("too late; already running");return t}function St(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function fp(n,e,t){var i=n.__transition,r;i[e]=t,t.timer=gl(o,0,t.time);function o(u){t.state=cs,t.timer.restart(s,t.delay,t.time),t.delay<=u&&s(u-t.delay)}function s(u){var c,h,d,f;if(t.state!==cs)return l();for(c in i)if(f=i[c],f.name===t.name){if(f.state===Sn)return us(s);f.state===hs?(f.state=Rn,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=Rn,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete i[c])}if(us(function(){t.state===Sn&&(t.state=hs,t.timer.restart(a,t.delay,t.time),a(u))}),t.state=vr,t.on.call("start",n,n.__data__,t.index,t.group),t.state===vr){for(t.state=Sn,r=new Array(d=t.tween.length),c=0,h=-1;c<d;++c)(f=t.tween[c].value.call(n,n.__data__,t.index,t.group))&&(r[++h]=f);r.length=h+1}}function a(u){for(var c=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(l),t.state=gr,1),h=-1,d=r.length;++h<d;)r[h].call(n,c);t.state===gr&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=Rn,t.timer.stop(),delete i[e];for(var u in i)return;delete n.__transition}}function Dn(n,e){var t=n.__transition,i,r,o=!0,s;if(t){e=e==null?null:e+"";for(s in t){if((i=t[s]).name!==e){o=!1;continue}r=i.state>vr&&i.state<gr,i.state=Rn,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[s]}o&&delete n.__transition}}function mp(n){return this.each(function(){Dn(this,n)})}function vp(n,e){var t,i;return function(){var r=Wt(this,n),o=r.tween;if(o!==t){i=t=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function gp(n,e,t){var i,r;if(typeof t!="function")throw new Error;return function(){var o=Wt(this,n),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:t},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=a;break}l===u&&r.push(a)}o.tween=r}}function yp(n,e){var t=this._id;if(n+="",arguments.length<2){for(var i=St(this.node(),t).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===n)return s.value;return null}return this.each((e==null?vp:gp)(t,n,e))}function co(n,e,t){var i=n._id;return n.each(function(){var r=Wt(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return St(r,i).value[e]}}function El(n,e){var t;return(typeof e=="number"?oe:e instanceof Do?Io:(t=Do(e))?(e=t,Io):bu)(n,e)}function Ep(n){return function(){this.removeAttribute(n)}}function _p(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Cp(n,e,t){var i,r=t+"",o;return function(){var s=this.getAttribute(n);return s===r?null:s===i?o:o=e(i=s,t)}}function bp(n,e,t){var i,r=t+"",o;return function(){var s=this.getAttributeNS(n.space,n.local);return s===r?null:s===i?o:o=e(i=s,t)}}function xp(n,e,t){var i,r,o;return function(){var s,a=t(this),l;return a==null?void this.removeAttribute(n):(s=this.getAttribute(n),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a)))}}function wp(n,e,t){var i,r,o;return function(){var s,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(s=this.getAttributeNS(n.space,n.local),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a)))}}function Pp(n,e){var t=Xs(n),i=t==="transform"?bc:El;return this.attrTween(n,typeof e=="function"?(t.local?wp:xp)(t,i,co(this,"attr."+n,e)):e==null?(t.local?_p:Ep)(t):(t.local?bp:Cp)(t,i,e))}function Np(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function Tp(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function Sp(n,e){var t,i;function r(){var o=e.apply(this,arguments);return o!==i&&(t=(i=o)&&Tp(n,o)),t}return r._value=e,r}function Rp(n,e){var t,i;function r(){var o=e.apply(this,arguments);return o!==i&&(t=(i=o)&&Np(n,o)),t}return r._value=e,r}function Dp(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=Xs(n);return this.tween(t,(i.local?Sp:Rp)(i,e))}function Ip(n,e){return function(){uo(this,n).delay=+e.apply(this,arguments)}}function Mp(n,e){return e=+e,function(){uo(this,n).delay=e}}function Op(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Ip:Mp)(e,n)):St(this.node(),e).delay}function kp(n,e){return function(){Wt(this,n).duration=+e.apply(this,arguments)}}function Ap(n,e){return e=+e,function(){Wt(this,n).duration=e}}function Lp(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?kp:Ap)(e,n)):St(this.node(),e).duration}function Fp(n,e){if(typeof e!="function")throw new Error;return function(){Wt(this,n).ease=e}}function Up(n){var e=this._id;return arguments.length?this.each(Fp(e,n)):St(this.node(),e).ease}function Hp(n){typeof n!="function"&&(n=xu(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var o=e[r],s=o.length,a=i[r]=[],l,u=0;u<s;++u)(l=o[u])&&n.call(l,l.__data__,u,o)&&a.push(l);return new $t(i,this._parents,this._name,this._id)}function Bp(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,r=t.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l=e[a],u=t[a],c=l.length,h=s[a]=new Array(c),d,f=0;f<c;++f)(d=l[f]||u[f])&&(h[f]=d);for(;a<i;++a)s[a]=e[a];return new $t(s,this._parents,this._name,this._id)}function Vp(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function Yp(n,e,t){var i,r,o=Vp(e)?uo:Wt;return function(){var s=o(this,n),a=s.on;a!==i&&(r=(i=a).copy()).on(e,t),s.on=r}}function $p(n,e){var t=this._id;return arguments.length<2?St(this.node(),t).on.on(n):this.each(Yp(t,n,e))}function zp(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function qp(){return this.on("end.remove",zp(this._id))}function Gp(n){var e=this._name,t=this._id;typeof n!="function"&&(n=wu(n));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a=i[s],l=a.length,u=o[s]=new Array(l),c,h,d=0;d<l;++d)(c=a[d])&&(h=n.call(c,c.__data__,d,a))&&("__data__"in c&&(h.__data__=c.__data__),u[d]=h,hi(u[d],e,t,d,u,St(c,t)));return new $t(o,this._parents,e,t)}function Xp(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Pu(n));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l=i[a],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var d=n.call(c,c.__data__,h,l),f,m=St(c,t),g=0,E=d.length;g<E;++g)(f=d[g])&&hi(f,e,t,g,d,m);o.push(d),s.push(c)}return new $t(o,s,e,t)}var Wp=Qn.prototype.constructor;function Kp(){return new Wp(this._groups,this._parents)}function jp(n,e){var t,i,r;return function(){var o=an(this,n),s=(this.style.removeProperty(n),an(this,n));return o===s?null:o===t&&s===i?r:r=e(t=o,i=s)}}function _l(n){return function(){this.style.removeProperty(n)}}function Zp(n,e,t){var i,r=t+"",o;return function(){var s=an(this,n);return s===r?null:s===i?o:o=e(i=s,t)}}function Qp(n,e,t){var i,r,o;return function(){var s=an(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),an(this,n))),s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a))}}function Jp(n,e){var t,i,r,o="style."+e,s="end."+o,a;return function(){var l=Wt(this,n),u=l.on,c=l.value[o]==null?a||(a=_l(e)):void 0;(u!==t||r!==c)&&(i=(t=u).copy()).on(s,r=c),l.on=i}}function tf(n,e,t){var i=(n+="")=="transform"?Cc:El;return e==null?this.styleTween(n,jp(n,i)).on("end.style."+n,_l(n)):typeof e=="function"?this.styleTween(n,Qp(n,i,co(this,"style."+n,e))).each(Jp(this._id,n)):this.styleTween(n,Zp(n,i,e),t).on("end.style."+n,null)}function ef(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function nf(n,e,t){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&ef(n,s,t)),i}return o._value=e,o}function rf(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,nf(n,e,t??""))}function of(n){return function(){this.textContent=n}}function sf(n){return function(){var e=n(this);this.textContent=e??""}}function af(n){return this.tween("text",typeof n=="function"?sf(co(this,"text",n)):of(n==null?"":n+""))}function lf(n){return function(e){this.textContent=n.call(this,e)}}function uf(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&lf(r)),e}return i._value=n,i}function cf(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,uf(n))}function hf(){for(var n=this._name,e=this._id,t=Cl(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=St(l,e);hi(l,n,t,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new $t(i,this._parents,n,t)}function df(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--r===0&&o()}};t.each(function(){var u=Wt(this,i),c=u.on;c!==n&&(e=(n=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e})})}var pf=0;function $t(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function Cl(){return++pf}var ve=Qn.prototype;$t.prototype={constructor:$t,select:Gp,selectAll:Xp,filter:Hp,merge:Bp,selection:Kp,transition:hf,call:ve.call,nodes:ve.nodes,node:ve.node,size:ve.size,empty:ve.empty,each:ve.each,on:$p,attr:Pp,attrTween:Dp,style:tf,styleTween:rf,text:af,textTween:cf,remove:qp,tween:yp,delay:Op,duration:Lp,ease:Up,end:df};function ff(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var yr={time:null,delay:0,duration:250,ease:ff};function mf(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))return yr.time=ci(),yr;return t}function vf(n){var e,t;n instanceof $t?(e=n._id,n=n._name):(e=Cl(),(t=yr).time=ci(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&hi(l,n,e,u,s,t||mf(l,e));return new $t(i,this._parents,n,e)}Qn.prototype.interrupt=mp;Qn.prototype.transition=vf;function bn(n){return function(){return n}}function gf(n,e,t){this.target=n,this.type=e,this.transform=t}function Ht(n,e,t){this.k=n,this.x=e,this.y=t}Ht.prototype={constructor:Ht,scale:function(n){return n===1?this:new Ht(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Ht(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bl=new Ht(1,0,0);Ht.prototype;function Ri(){$.stopImmediatePropagation()}function Ye(){$.preventDefault(),$.stopImmediatePropagation()}function yf(){return!$.ctrlKey&&!$.button}function Ef(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function ds(){return this.__zoom||bl}function _f(){return-$.deltaY*($.deltaMode===1?.05:$.deltaMode?1:.002)}function Cf(){return navigator.maxTouchPoints||"ontouchstart"in this}function bf(n,e,t){var i=n.invertX(e[0][0])-t[0][0],r=n.invertX(e[1][0])-t[1][0],o=n.invertY(e[0][1])-t[0][1],s=n.invertY(e[1][1])-t[1][1];return n.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function xf(){var n=yf,e=Ef,t=bf,i=_f,r=Cf,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Nc,u=li("start","zoom","end"),c,h,d=500,f=150,m=0;function g(v){v.property("__zoom",ds).on("wheel.zoom",I).on("mousedown.zoom",O).on("dblclick.zoom",F).filter(r).on("touchstart.zoom",A).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",U).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(v,P,T){var y=v.selection?v.selection():v;y.property("__zoom",ds),v!==y?C(v,P,T):y.interrupt().each(function(){_(this,arguments).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},g.scaleBy=function(v,P,T){g.scaleTo(v,function(){var y=this.__zoom.k,R=typeof P=="function"?P.apply(this,arguments):P;return y*R},T)},g.scaleTo=function(v,P,T){g.transform(v,function(){var y=e.apply(this,arguments),R=this.__zoom,H=T==null?x(y):typeof T=="function"?T.apply(this,arguments):T,q=R.invert(H),K=typeof P=="function"?P.apply(this,arguments):P;return t(b(E(R,K),H,q),y,s)},T)},g.translateBy=function(v,P,T){g.transform(v,function(){return t(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),s)})},g.translateTo=function(v,P,T,y){g.transform(v,function(){var R=e.apply(this,arguments),H=this.__zoom,q=y==null?x(R):typeof y=="function"?y.apply(this,arguments):y;return t(bl.translate(q[0],q[1]).scale(H.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof T=="function"?-T.apply(this,arguments):-T),R,s)},y)};function E(v,P){return P=Math.max(o[0],Math.min(o[1],P)),P===v.k?v:new Ht(P,v.x,v.y)}function b(v,P,T){var y=P[0]-T[0]*v.k,R=P[1]-T[1]*v.k;return y===v.x&&R===v.y?v:new Ht(v.k,y,R)}function x(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function C(v,P,T){v.on("start.zoom",function(){_(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).end()}).tween("zoom",function(){var y=this,R=arguments,H=_(y,R),q=e.apply(y,R),K=T==null?x(q):typeof T=="function"?T.apply(y,R):T,rt=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),ot=y.__zoom,at=typeof P=="function"?P.apply(y,R):P,st=l(ot.invert(K).concat(rt/ot.k),at.invert(K).concat(rt/at.k));return function(lt){if(lt===1)lt=at;else{var Dt=st(lt),yi=rt/Dt[2];lt=new Ht(yi,K[0]-Dt[0]*yi,K[1]-Dt[1]*yi)}H.zoom(null,lt)}})}function _(v,P,T){return!T&&v.__zooming||new S(v,P)}function S(v,P){this.that=v,this.args=P,this.active=0,this.extent=e.apply(v,P),this.taps=0}S.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,P){return this.mouse&&v!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){qi(new gf(g,v,this.that.__zoom),u.apply,u,[v,this.that,this.args])}};function I(){if(!n.apply(this,arguments))return;var v=_(this,arguments),P=this.__zoom,T=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,i.apply(this,arguments)))),y=xe(this);if(v.wheel)(v.mouse[0][0]!==y[0]||v.mouse[0][1]!==y[1])&&(v.mouse[1]=P.invert(v.mouse[0]=y)),clearTimeout(v.wheel);else{if(P.k===T)return;v.mouse=[y,P.invert(y)],Dn(this),v.start()}Ye(),v.wheel=setTimeout(R,f),v.zoom("mouse",t(b(E(P,T),v.mouse[0],v.mouse[1]),v.extent,s));function R(){v.wheel=null,v.end()}}function O(){if(h||!n.apply(this,arguments))return;var v=_(this,arguments,!0),P=Tt($.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",q,!0),T=xe(this),y=$.clientX,R=$.clientY;pl($.view),Ri(),v.mouse=[T,this.__zoom.invert(T)],Dn(this),v.start();function H(){if(Ye(),!v.moved){var K=$.clientX-y,rt=$.clientY-R;v.moved=K*K+rt*rt>m}v.zoom("mouse",t(b(v.that.__zoom,v.mouse[0]=xe(v.that),v.mouse[1]),v.extent,s))}function q(){P.on("mousemove.zoom mouseup.zoom",null),fl($.view,v.moved),Ye(),v.end()}}function F(){if(n.apply(this,arguments)){var v=this.__zoom,P=xe(this),T=v.invert(P),y=v.k*($.shiftKey?.5:2),R=t(b(E(v,y),P,T),e.apply(this,arguments),s);Ye(),a>0?Tt(this).transition().duration(a).call(C,R,P):Tt(this).call(g.transform,R)}}function A(){if(n.apply(this,arguments)){var v=$.touches,P=v.length,T=_(this,arguments,$.changedTouches.length===P),y,R,H,q;for(Ri(),R=0;R<P;++R)H=v[R],q=Gi(this,v,H.identifier),q=[q,this.__zoom.invert(q),H.identifier],T.touch0?!T.touch1&&T.touch0[2]!==q[2]&&(T.touch1=q,T.taps=0):(T.touch0=q,y=!0,T.taps=1+!!c);c&&(c=clearTimeout(c)),y&&(T.taps<2&&(c=setTimeout(function(){c=null},d)),Dn(this),T.start())}}function V(){if(this.__zooming){var v=_(this,arguments),P=$.changedTouches,T=P.length,y,R,H,q;for(Ye(),c&&(c=clearTimeout(c)),v.taps=0,y=0;y<T;++y)R=P[y],H=Gi(this,P,R.identifier),v.touch0&&v.touch0[2]===R.identifier?v.touch0[0]=H:v.touch1&&v.touch1[2]===R.identifier&&(v.touch1[0]=H);if(R=v.that.__zoom,v.touch1){var K=v.touch0[0],rt=v.touch0[1],ot=v.touch1[0],at=v.touch1[1],st=(st=ot[0]-K[0])*st+(st=ot[1]-K[1])*st,lt=(lt=at[0]-rt[0])*lt+(lt=at[1]-rt[1])*lt;R=E(R,Math.sqrt(st/lt)),H=[(K[0]+ot[0])/2,(K[1]+ot[1])/2],q=[(rt[0]+at[0])/2,(rt[1]+at[1])/2]}else if(v.touch0)H=v.touch0[0],q=v.touch0[1];else return;v.zoom("touch",t(b(R,H,q),v.extent,s))}}function U(){if(this.__zooming){var v=_(this,arguments),P=$.changedTouches,T=P.length,y,R;for(Ri(),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),y=0;y<T;++y)R=P[y],v.touch0&&v.touch0[2]===R.identifier?delete v.touch0:v.touch1&&v.touch1[2]===R.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2){var H=Tt(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return g.wheelDelta=function(v){return arguments.length?(i=typeof v=="function"?v:bn(+v),g):i},g.filter=function(v){return arguments.length?(n=typeof v=="function"?v:bn(!!v),g):n},g.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:bn(!!v),g):r},g.extent=function(v){return arguments.length?(e=typeof v=="function"?v:bn([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),g):e},g.scaleExtent=function(v){return arguments.length?(o[0]=+v[0],o[1]=+v[1],g):[o[0],o[1]]},g.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(v){return arguments.length?(t=v,g):t},g.duration=function(v){return arguments.length?(a=+v,g):a},g.interpolate=function(v){return arguments.length?(l=v,g):l},g.on=function(){var v=u.on.apply(u,arguments);return v===u?g:v},g.clickDistance=function(v){return arguments.length?(m=(v=+v)*v,g):Math.sqrt(m)},g}var tn=Math.PI/180,Di=180/Math.PI;function wf(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function ps(n,e){for(var t=0,i=0;n.length>t;++t)i+=n[t]*e[t];return i}function fs(n){var e=n[0]*tn,t=n[1]*tn,i=Math.cos(t)*Math.cos(e),r=Math.cos(t)*Math.sin(e),o=Math.sin(t);return[i,r,o]}function Pf(n,e){if(n&&e){var t=wf(n,e),i=Math.sqrt(ps(t,t));if(i==0)return;var r=.5*Math.acos(Math.max(-1,Math.min(1,ps(n,e)))),o=t[2]*Math.sin(r)/i,s=-t[1]*Math.sin(r)/i,a=t[0]*Math.sin(r)/i,l=Math.cos(r);return r&&[l,o,s,a]}}function Ii(n){if(n){var e=.5*n[0]*tn,t=.5*n[1]*tn,i=.5*n[2]*tn,r=Math.sin(e),o=Math.cos(e),s=Math.sin(t),a=Math.cos(t),l=Math.sin(i),u=Math.cos(i),c=r*a*u-o*s*l,h=o*s*u+r*a*l,d=o*a*l-r*s*u,f=o*a*u+r*s*l;return[f,c,h,d]}}function Nf(n,e){if(!(!n||!e)){var t=n[0],i=n[1],r=n[2],o=n[3],s=e[0],a=e[1],l=e[2],u=e[3];return[t*s-i*a-r*l-o*u,i*s+t*a+r*u-o*l,t*l-i*u+r*s+o*a,t*u+i*l-r*a+o*s]}}function Tf(n){if(n)return[Math.atan2(2*(n[0]*n[1]+n[2]*n[3]),1-2*(n[1]*n[1]+n[2]*n[2]))*Di,Math.asin(Math.max(-1,Math.min(1,2*(n[0]*n[2]-n[3]*n[1]))))*Di,Math.atan2(2*(n[0]*n[3]+n[1]*n[2]),1-2*(n[2]*n[2]+n[3]*n[3]))*Di]}const on=class on extends p.Component{constructor(e){super(e),this.dragStarted=this.dragStarted.bind(this),this.dragged=this.dragged.bind(this),this.dragEnded=this.dragEnded.bind(this),this.zoomed=this.zoomed.bind(this),this.element=this.element.bind(this),this.updateZoom=this.updateZoom.bind(this),this.getScaleExtent=this.getScaleExtent.bind(this),this.state={mousePosition:null},this.zoom=null}render(){const{width:e,height:t,renderPath:i}=this.context,{showMousePosition:r}=this.props,{mousePosition:o}=this.state;return ht("g.drag-overlay",[ht("rect.drag-mouse-target",{width:e,height:t}),ht.if(o!=null&&r)("path.mouse-position",{d:i(o)})])}dragStarted(e){const{projection:t}=this.context,i=t.invert(e);this.setState({mousePosition:{type:"Point",coordinates:i}}),this.r0=t.rotate(),this.p0=fs(i),this.qa=Ii(this.r0),this.q0=Ii(this.r0)}dragged(e,t){const{keepNorthUp:i,dragSensitivity:r}=this.props,{projection:o}=this.context,s=o.rotate();this.q0=Ii(s);const a=o.invert(e),l=Pf(this.p0,fs(a)),u=Nf(this.q0,l);let c=Tf(u);i&&(c=[t.x*r,-t.y*r,s[2]]),c!=null&&this.props.dispatch({type:"rotate",rotation:c})}dragEnded(){return this.setState({mousePosition:null})}zoomed(){var t;const e=(t=$)==null?void 0:t.transform.k;e!=null&&this.props.dispatch({type:"scale",scale:e})}element(){return Tt(ee.findDOMNode(this).parentElement)}componentDidMount(){const{width:e,height:t,projection:i,dispatchEvent:r}=this.context,{dragSensitivity:o}=this.props,s=u=>function(){return u(xe(this),$)},a=function(u){const c=i.rotate();return{x:c[0]/o,y:-c[1]/o}},l=this.element();this.drag=ap().clickDistance(2).subject(a).on("start",s(this.dragStarted)).on("drag",s(this.dragged)).on("end",this.dragEnded),this.drag(l),this.props.allowZoom&&this.setupZoom()}setupZoom(){const e=this.element(),t=this.zoomed.bind(this);this.zoomHandler=xf().on("zoom",t).on("end",t),this.zoomHandler(e),this.updateZoom()}updateZoom(e){var i;const t=this.element();e??(e=this.props.initialScale),(i=this.zoomHandler)==null||i.scaleExtent(this.getScaleExtent()).scaleTo(t,e)}getScaleExtent(){const{initialScale:e,scaleExtent:t}=this.props;return t??[e*.8,e*2]}componentDidUpdate(e){this.element();const{initialScale:t}=this.props;if(t!==e.initialScale&&this.zoomHandler!=null)return this.updateZoom()}};on.contextType=Le,on.propTypes={showMousePosition:N.bool,keepNorthUp:N.bool,allowZoom:N.bool,initialScale:N.number,dragSensitivity:N.number},on.defaultProps={showMousePosition:!1,allowZoom:!0,keepNorthUp:!1,dragSensitivity:1};let Er=on;function Sf(n){const e=jd(),t=Zd();return ht(Er,{...n,dispatch:e,mapRef:t})}function Rf(n,e=Uu){const t=p.useRef(n);return n==t.current,e(n,t.current)?t.current:(t.current=n,n)}class xl extends p.Component{constructor(e){console.warn("StatefulComponent is deprecated. Use useImmutableState instead."),super(e),this.updateState.bind(this)}updateState(e){const t=De(this.state,e);this.setState(t)}}xl.__docgenInfo={description:"",methods:[{name:"updateState",docblock:null,modifiers:[],params:[{name:"spec",optional:!1,type:{name:"Spec",elements:[{name:"State"}],raw:"Spec<State>",alias:"Spec"}}],returns:null}],displayName:"StatefulComponent"};class Df{constructor(e){this.get=this.get.bind(this),this.set=this.set.bind(this),this.name=e}get(){const e=window.localStorage.getItem(this.name);try{return JSON.parse(e)}catch{return null}}set(e){const t=JSON.stringify(e);return window.localStorage.setItem(this.name,t)}remove(){window.localStorage.removeItem(this.name)}}const wl={"json-view-container":"_json-view-container_1q8ih_1","root-hidden":"_root-hidden_1q8ih_1","flex-row":"_flex-row_1q8ih_5","flex-col":"_flex-col_1q8ih_10","flex-spacer":"_flex-spacer_1q8ih_15"},ms=Gt(wl),If={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"transparent",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"};function Mf(n){return ms("div.json-view-container",{className:B(n.className,{"root-hidden":n.hideRoot})},ms(Hu,{theme:If,invertTheme:!1,...n}))}const Of=w.styled(wl),kf=Bu,Af=p.forwardRef((n,e)=>{const{grow:t,shrink:i,className:r,style:o,textAlign:s,...a}=n;return Of(kf,{className:r,flexGrow:t,flexShrink:i,...a})});Af.__docgenInfo={description:"",methods:[],displayName:"FlexBox"};const Pl={fullResponse:!1,handleError:!0,memoize:!1,onError(n,e){throw e.error??e},onResponse(n){},unwrapResponse(n){return n}};function Lf(n){let e={...n};return Object.keys(e).forEach(t=>{e[t]===void 0&&delete e[t]}),e}function _r(n){const{config:e={},fullResponse:t,handleError:i,memoize:r,onError:o,onResponse:s,unwrapResponse:a,...l}=n;let u=Lf({fullResponse:t,handleError:i,memoize:r,onError:o,onResponse:s,unwrapResponse:a});const c={...Pl,...u,...e};return[l,c]}Qs.create();function Ff(n={}){const[e,t]=_r(n),i=Qs.create(e),r={axiosInstance:i,baseURL:i.defaults.baseURL??"",config:t};return p.createContext(r)}const Uf=Ff();async function vs(n,e,t){const{processOptions:i,buildURL:r}=Nl(n),{opts:o,method:s,params:a,route:l}=t,u=i(o);let c=null,h=null;try{if(c=await e,u.onResponse(c),c.data!=null)return u.unwrapResponse(c.data)}catch(d){h=d}if(h=h??Error(c.statusText||"No data!"),u.handleError)console.error(h),u.onError(h,{error:h,response:c,endpoint:r(l,a),method:s});else throw h}const Nl=n=>({buildURL(e="",t={}){const i=n.axiosInstance.getUri({url:e,params:t});return n.baseURL+i},processOptions(e={}){let t={...n.config,...e};return t.fullResponse&&(t.unwrapResponse=Pl.unwrapResponse),t}}),Hf=n=>{const{axiosInstance:e}=n;return{post(t,...i){let r,o,s;if(i.length===3)[o,s,r]=i;else if(i.length===2)[s,r]=i;else if(i.length===1)[s]=i;else throw"No data to post";o??(o={}),r??(r={});const[a,l]=_r(r),u=e.post(t,s,{...a,params:o});return vs(n,u,{route:t,params:o,method:"POST",opts:r})},get(t,...i){let r,o;i.length==1?[o]=i:i.length==2&&([r,o]=i),r??(r={}),o??(o={});const[s,a]=_r(o),u=(a.memoize?Vu(e.get):e.get)(t,{...s,params:r});return vs(n,u,{route:t,params:r,method:"GET",opts:o})}}};p.createContext({});var gs={CENTER:"center",LEFT:"left",RIGHT:"right"},bt={NONE:"none",PRIMARY:"primary",SUCCESS:"success",WARNING:"warning",DANGER:"danger"},pt={BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT:"left",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT:"right",RIGHT_BOTTOM:"right-bottom",RIGHT_TOP:"right-top",TOP:"top",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},ys={},Mi,Oi,ki,Ai,z="bp4";typeof process<"u"&&(z=(Ai=(Oi=(Mi=ys)===null||Mi===void 0?void 0:Mi.BLUEPRINT_NAMESPACE)!==null&&Oi!==void 0?Oi:(ki=ys)===null||ki===void 0?void 0:ki.REACT_APP_BLUEPRINT_NAMESPACE)!==null&&Ai!==void 0?Ai:z);var di="".concat(z,"-active"),Bf="".concat(z,"-align-left"),Vf="".concat(z,"-align-right"),Es="".concat(z,"-dark"),Fe="".concat(z,"-disabled"),Jt="".concat(z,"-fill"),Yf="".concat(z,"-interactive"),zt="".concat(z,"-large"),$f="".concat(z,"-loading"),Ue="".concat(z,"-minimal"),zf="".concat(z,"-outlined"),qf="".concat(z,"-read-only"),Tl="".concat(z,"-round"),Gf="".concat(z,"-selected"),$n="".concat(z,"-small"),Xf="".concat(z,"-vertical");gt(bt.PRIMARY);gt(bt.SUCCESS);gt(bt.WARNING);gt(bt.DANGER);var Wf="".concat(z,"-text-overflow-ellipsis"),Sl="".concat(z,"-heading"),pi="".concat(z,"-button"),Kf="".concat(pi,"-group"),jf="".concat(pi,"-spinner"),Zf="".concat(pi,"-text"),Rl="".concat(z,"-callout"),Qf="".concat(Rl,"-icon"),Dl="".concat(z,"-collapse"),Jf="".concat(Dl,"-body"),tm="".concat(z,"-divider"),em="".concat(z,"-html-select"),fi="".concat(z,"-input"),nm="".concat(fi,"-group"),im="".concat(fi,"-left-container"),rm="".concat(fi,"-action"),Il="".concat(z,"-menu"),ho="".concat(Il,"-item"),om="".concat(ho,"-icon"),sm="".concat(ho,"-label"),Cr="".concat(z,"-submenu"),am="".concat(Cr,"-icon"),zn="".concat(z,"-non-ideal-state"),lm="".concat(zn,"-visual"),um="".concat(zn,"-text"),te="".concat(z,"-overlay"),cm="".concat(te,"-backdrop"),_s="".concat(te,"-content"),hm="".concat(te,"-inline"),Li="".concat(te,"-open"),Cs="".concat(te,"-start-focus-trap"),bs="".concat(te,"-end-focus-trap"),xt="".concat(z,"-popover"),Fi="".concat(xt,"-arrow"),dm="".concat(xt,"-backdrop"),xs="".concat(xt,"-capturing-dismiss"),pm="".concat(xt,"-content"),qn="".concat(xt,"-dismiss"),fm="".concat(qn,"-override"),mm="".concat(xt,"-open"),vm="".concat(xt,"-out-of-boundaries"),gm="".concat(xt,"-target"),ym="".concat(xt,"-wrapper"),Em="".concat(z,"-transition-container"),_m="".concat(z,"-portal"),mi="".concat(z,"-spinner"),Cm="".concat(mi,"-animation"),bm="".concat(mi,"-head"),xm="".concat(z,"-no-spin"),wm="".concat(mi,"-track"),Ml="".concat(z,"-tag"),Pm="".concat(Ml,"-remove"),Nm="".concat(z,"-tooltip"),Tm="".concat(z,"-icon");function Sm(){return z}function Ol(n){switch(n){case gs.LEFT:return Bf;case gs.RIGHT:return Vf;default:return}}function Rm(n){if(n!=null)return n.indexOf("".concat(z,"-icon-"))===0?n:"".concat(z,"-icon-").concat(n)}function gt(n){if(!(n==null||n===bt.NONE))return"".concat(z,"-intent-").concat(n.toLowerCase())}function Dm(n,e){return n===e||n.contains(e)}function ws(n,e){var t;if(n==null)return document.activeElement;var i=(t=n.getRootNode(e))!==null&&t!==void 0?t:document;return i.activeElement}function Im(n){return function(e){return n.some(function(t){return e.key===t})&&e.target.dispatchEvent(new MouseEvent("click",k(k({},e),{view:void 0})))}}function kl(n){return typeof n=="function"}var yt="[Blueprint]",Mm=yt+" clamp: max cannot be less than min",Om=yt+" <InputGroup> leftElement and leftIcon prop are mutually exclusive, with leftElement taking priority.",km=yt+" <Popover> requires target prop or at least one child element.",Am=yt+" <Popover hasBackdrop={true}> requires interactionKind={PopoverInteractionKind.CLICK}.",Lm=yt+" <Popover> supports one or two children; additional children are ignored. First child is the target, second child is the content. You may instead supply these two as props.",Fm=yt+" <Popover> with two children ignores content prop; use either prop or children.",Um=yt+" <Popover> with children ignores target prop; use either prop or children.",Hm=yt+" Disabling <Popover> with empty/whitespace content...",Bm=yt+" <Popover usePortal={false}> ignores hasBackdrop",Vm=yt+" <Popover> supports either placement or position prop, not both.",Ym=yt+" <Popover> onInteraction is ignored when uncontrolled.",$m=yt+" <Portal> context blueprintPortalClassName must be string",zm=yt+" <Spinner> Classes.SMALL/LARGE are ignored if size prop is set.",qm={};function br(n){return typeof process<"u"&&qm&&n==="production"}function Gm(n,e,t){if(n==null)return n;if(t<e)throw new Error(Mm);return Math.min(Math.max(n,e),t)}var Ps=new Map;function _e(n){var e,t=(e=Ps.get(n))!==null&&e!==void 0?e:0;return Ps.set(n,t+1),"".concat(n,"-").concat(t)}function Gn(n,e){return e===void 0&&(e=!1),n==null||n===""||n===!1||!e&&Array.isArray(n)&&(n.length===0||n.every(function(t){return Gn(t,!0)}))}function xr(n,e){if(e===void 0&&(e="span"),!(n==null||typeof n=="boolean"))return typeof n=="string"?n.trim().length>0?p.createElement(e,{},n):void 0:typeof n=="number"||typeof n.type=="symbol"||Array.isArray(n)?p.createElement(e,{},n):Xm(n)?n:void 0}function Xm(n){return typeof n=="object"&&typeof n.type<"u"&&typeof n.props<"u"}function Wm(n,e){return n!=null&&n.type!=null&&n.type.displayName!=null&&n.type.displayName===e.displayName}function Km(n){return n!=null&&typeof n!="function"}function jm(n){return typeof n=="function"}function qt(n,e){Km(n)?n.current=e:jm(n)&&n(e)}function Vt(n,e,t){return function(i){n[e]=i,qt(t,i)}}var et=function(n){W(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.timeoutIds=[],r.requestIds=[],r.clearTimeouts=function(){if(r.timeoutIds.length>0){for(var o=0,s=r.timeoutIds;o<s.length;o++){var a=s[o];window.clearTimeout(a)}r.timeoutIds=[]}},r.cancelAnimationFrames=function(){if(r.requestIds.length>0){for(var o=0,s=r.requestIds;o<s.length;o++){var a=s[o];window.cancelAnimationFrame(a)}r.requestIds=[]}},br("production")||r.validateProps(r.props),r}return e.prototype.componentDidUpdate=function(t,i,r){br("production")||this.validateProps(this.props)},e.prototype.componentWillUnmount=function(){this.clearTimeouts(),this.cancelAnimationFrames()},e.prototype.requestAnimationFrame=function(t){var i=window.requestAnimationFrame(t);return this.requestIds.push(i),function(){return window.cancelAnimationFrame(i)}},e.prototype.setTimeout=function(t,i){var r=window.setTimeout(t,i);return this.timeoutIds.push(r),function(){return window.clearTimeout(r)}},e.prototype.validateProps=function(t){},e}(p.PureComponent),J="Blueprint4",Ns=["active","alignText","asyncControl","containerRef","current","elementRef","fill","icon","inputClassName","inputRef","intent","inline","large","loading","leftElement","leftIcon","minimal","onRemove","outlined","panel","panelClassName","popoverProps","rightElement","rightIcon","round","small","tagName","text"];function po(n,e,t){return e===void 0&&(e=Ns),t===void 0&&(t=!1),t&&(e=e.concat(Ns)),e.reduce(function(i,r){return r.indexOf("-")!==-1||i.hasOwnProperty(r)&&delete i[r],i},k({},n))}var wr=9,fo=13,Zm=27,Qm=32,Jm=38,tv=40;function Ts(n){return n===fo||n===Qm}const Ss={disabled:!1},Xn=mt.createContext(null);var Al=function(e){return e.scrollTop},Qe="unmounted",se="exited",ae="entering",Ce="entered",Pr="exiting",Kt=function(n){Yr(e,n);function e(i,r){var o;o=n.call(this,i,r)||this;var s=r,a=s&&!s.isMounting?i.enter:i.appear,l;return o.appearStatus=null,i.in?a?(l=se,o.appearStatus=ae):l=Ce:i.unmountOnExit||i.mountOnEnter?l=Qe:l=se,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(r,o){var s=r.in;return s&&o.status===Qe?{status:se}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var o=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==ae&&s!==Ce&&(o=ae):(s===ae||s===Ce)&&(o=Pr)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,o,s,a;return o=s=a=r,r!=null&&typeof r!="number"&&(o=r.exit,s=r.enter,a=r.appear!==void 0?r.appear:s),{exit:o,enter:s,appear:a}},t.updateStatus=function(r,o){if(r===void 0&&(r=!1),o!==null)if(this.cancelNextCallback(),o===ae){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:dn.findDOMNode(this);s&&Al(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===se&&this.setState({status:Qe})},t.performEnter=function(r){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:r,l=this.props.nodeRef?[a]:[dn.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),d=a?h.appear:h.enter;if(!r&&!s||Ss.disabled){this.safeSetState({status:Ce},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:ae},function(){o.props.onEntering(u,c),o.onTransitionEnd(d,function(){o.safeSetState({status:Ce},function(){o.props.onEntered(u,c)})})})},t.performExit=function(){var r=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:dn.findDOMNode(this);if(!o||Ss.disabled){this.safeSetState({status:se},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Pr},function(){r.props.onExiting(a),r.onTransitionEnd(s.exit,function(){r.safeSetState({status:se},function(){r.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,o){o=this.setNextCallback(o),this.setState(r,o)},t.setNextCallback=function(r){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,r(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},t.onTransitionEnd=function(r,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:dn.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===Qe)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=$r(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mt.createElement(Xn.Provider,{value:null},typeof s=="function"?s(r,a):mt.cloneElement(mt.Children.only(s),a))},e}(mt.Component);Kt.contextType=Xn;Kt.propTypes={};function ge(){}Kt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ge,onEntering:ge,onEntered:ge,onExit:ge,onExiting:ge,onExited:ge};Kt.UNMOUNTED=Qe;Kt.EXITED=se;Kt.ENTERING=ae;Kt.ENTERED=Ce;Kt.EXITING=Pr;const ev=Kt;var nv=function(e,t){return e&&t&&t.split(" ").forEach(function(i){return lc(e,i)})},Ui=function(e,t){return e&&t&&t.split(" ").forEach(function(i){return uc(e,i)})},mo=function(n){Yr(e,n);function e(){for(var i,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=n.call.apply(n,[this].concat(o))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(a,l){var u=i.resolveArguments(a,l),c=u[0],h=u[1];i.removeClasses(c,"exit"),i.addClass(c,h?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(a,l)},i.onEntering=function(a,l){var u=i.resolveArguments(a,l),c=u[0],h=u[1],d=h?"appear":"enter";i.addClass(c,d,"active"),i.props.onEntering&&i.props.onEntering(a,l)},i.onEntered=function(a,l){var u=i.resolveArguments(a,l),c=u[0],h=u[1],d=h?"appear":"enter";i.removeClasses(c,d),i.addClass(c,d,"done"),i.props.onEntered&&i.props.onEntered(a,l)},i.onExit=function(a){var l=i.resolveArguments(a),u=l[0];i.removeClasses(u,"appear"),i.removeClasses(u,"enter"),i.addClass(u,"exit","base"),i.props.onExit&&i.props.onExit(a)},i.onExiting=function(a){var l=i.resolveArguments(a),u=l[0];i.addClass(u,"exit","active"),i.props.onExiting&&i.props.onExiting(a)},i.onExited=function(a){var l=i.resolveArguments(a),u=l[0];i.removeClasses(u,"exit"),i.addClass(u,"exit","done"),i.props.onExited&&i.props.onExited(a)},i.resolveArguments=function(a,l){return i.props.nodeRef?[i.props.nodeRef.current,a]:[a,l]},i.getClassNames=function(a){var l=i.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",h=u?""+c+a:l[a],d=u?h+"-active":l[a+"Active"],f=u?h+"-done":l[a+"Done"];return{baseClassName:h,activeClassName:d,doneClassName:f}},i}var t=e.prototype;return t.addClass=function(r,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;o==="appear"&&s==="done"&&u&&(a+=" "+u),s==="active"&&r&&Al(r),a&&(this.appliedClasses[o][s]=a,nv(r,a))},t.removeClasses=function(r,o){var s=this.appliedClasses[o],a=s.base,l=s.active,u=s.done;this.appliedClasses[o]={},a&&Ui(r,a),l&&Ui(r,l),u&&Ui(r,u)},t.render=function(){var r=this.props;r.classNames;var o=$r(r,["classNames"]);return mt.createElement(ev,Js({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(mt.Component);mo.defaultProps={classNames:""};mo.propTypes={};const Hi=mo;function vo(n,e){var t=function(o){return e&&p.isValidElement(o)?e(o):o},i=Object.create(null);return n&&p.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function iv(n,e){n=n||{},e=e||{};function t(c){return c in e?e[c]:n[c]}var i=Object.create(null),r=[];for(var o in n)o in e?r.length&&(i[o]=r,r=[]):r.push(o);var s,a={};for(var l in e){if(i[l])for(s=0;s<i[l].length;s++){var u=i[l][s];a[i[l][s]]=t(u)}a[l]=t(l)}for(s=0;s<r.length;s++)a[r[s]]=t(r[s]);return a}function le(n,e,t){return t[e]!=null?t[e]:n.props[e]}function rv(n,e){return vo(n.children,function(t){return p.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:le(t,"appear",n),enter:le(t,"enter",n),exit:le(t,"exit",n)})})}function ov(n,e,t){var i=vo(n.children),r=iv(e,i);return Object.keys(r).forEach(function(o){var s=r[o];if(p.isValidElement(s)){var a=o in e,l=o in i,u=e[o],c=p.isValidElement(u)&&!u.props.in;l&&(!a||c)?r[o]=p.cloneElement(s,{onExited:t.bind(null,s),in:!0,exit:le(s,"exit",n),enter:le(s,"enter",n)}):!l&&a&&!c?r[o]=p.cloneElement(s,{in:!1}):l&&a&&p.isValidElement(u)&&(r[o]=p.cloneElement(s,{onExited:t.bind(null,s),in:u.props.in,exit:le(s,"exit",n),enter:le(s,"enter",n)}))}}),r}var sv=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},av={component:"div",childFactory:function(e){return e}},go=function(n){Yr(e,n);function e(i,r){var o;o=n.call(this,i,r)||this;var s=o.handleExited.bind(ac(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?rv(r,a):ov(r,s,a),firstRender:!1}},t.handleExited=function(r,o){var s=vo(this.props.children);r.key in s||(r.props.onExited&&r.props.onExited(o),this.mounted&&this.setState(function(a){var l=Js({},a.children);return delete l[r.key],{children:l}}))},t.render=function(){var r=this.props,o=r.component,s=r.childFactory,a=$r(r,["component","childFactory"]),l=this.state.contextValue,u=sv(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?mt.createElement(Xn.Provider,{value:l},u):mt.createElement(Xn.Provider,{value:l},mt.createElement(o,a,u))},e}(mt.Component);go.propTypes={};go.defaultProps=av;const lv=go;var uv={blueprintPortalClassName:function(n,e){if(n[e]!=null&&typeof n[e]!="string")return new Error($m)}},cv=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.context={},t.state={hasMounted:!1},t.portalElement=null,t}return e.prototype.render=function(){return typeof document>"u"||!this.state.hasMounted||this.portalElement===null?null:ee.createPortal(this.props.children,this.portalElement)},e.prototype.componentDidMount=function(){this.props.container!=null&&(this.portalElement=this.createContainerElement(),this.props.container.appendChild(this.portalElement),this.addStopPropagationListeners(this.props.stopPropagationEvents),this.setState({hasMounted:!0},this.props.onChildrenMount))},e.prototype.componentDidUpdate=function(t){this.portalElement!=null&&t.className!==this.props.className&&(hv(this.portalElement.classList,t.className),Bi(this.portalElement.classList,this.props.className)),this.portalElement!=null&&t.stopPropagationEvents!==this.props.stopPropagationEvents&&(this.removeStopPropagationListeners(t.stopPropagationEvents),this.addStopPropagationListeners(this.props.stopPropagationEvents))},e.prototype.componentWillUnmount=function(){var t;this.removeStopPropagationListeners(this.props.stopPropagationEvents),(t=this.portalElement)===null||t===void 0||t.remove()},e.prototype.createContainerElement=function(){var t=document.createElement("div");return t.classList.add(_m),Bi(t.classList,this.props.className),this.context!=null&&Bi(t.classList,this.context.blueprintPortalClassName),t},e.prototype.addStopPropagationListeners=function(t){var i=this;t==null||t.forEach(function(r){var o;return(o=i.portalElement)===null||o===void 0?void 0:o.addEventListener(r,Rs)})},e.prototype.removeStopPropagationListeners=function(t){var i=this;t==null||t.forEach(function(r){var o;return(o=i.portalElement)===null||o===void 0?void 0:o.removeEventListener(r,Rs)})},e.displayName="".concat(J,".Portal"),e.contextTypes=uv,e.defaultProps={container:typeof document<"u"?document.body:void 0},e}(p.Component);function hv(n,e){e!=null&&e!==""&&n.remove.apply(n,e.split(" "))}function Bi(n,e){e!=null&&e!==""&&n.add.apply(n,e.split(" "))}function Rs(n){n.stopPropagation()}var dv=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isAutoFocusing=!1,t.state={hasEverOpened:t.props.isOpen},t.containerElement=null,t.startFocusTrapElement=null,t.endFocusTrapElement=null,t.refHandlers={container:function(i){return t.containerElement=ee.findDOMNode(i)},endFocusTrap:function(i){return t.endFocusTrapElement=i},startFocusTrap:function(i){return t.startFocusTrapElement=i}},t.maybeRenderChild=function(i){if(kl(i)&&(i=i()),i==null)return null;var r=typeof i=="object"?p.cloneElement(i,{className:B(i.props.className,_s)}):p.createElement("span",{className:_s},i),o=t.props,s=o.onOpening,a=o.onOpened,l=o.onClosing,u=o.transitionDuration,c=o.transitionName;return p.createElement(Hi,{classNames:c,onEntering:s,onEntered:a,onExiting:l,onExited:t.handleTransitionExited,timeout:u,addEndListener:t.handleTransitionAddEnd},r)},t.handleStartFocusTrapElementFocus=function(i){var r;!t.props.enforceFocus||t.isAutoFocusing||i.relatedTarget!=null&&t.containerElement.contains(i.relatedTarget)&&i.relatedTarget!==t.endFocusTrapElement&&((r=t.endFocusTrapElement)===null||r===void 0||r.focus({preventScroll:!0}))},t.handleStartFocusTrapElementKeyDown=function(i){var r;if(t.props.enforceFocus&&i.shiftKey&&i.which===wr){var o=t.getKeyboardFocusableElements().pop();o!=null?o.focus():(r=t.endFocusTrapElement)===null||r===void 0||r.focus({preventScroll:!0})}},t.handleEndFocusTrapElementFocus=function(i){var r,o;if(i.relatedTarget!=null&&t.containerElement.contains(i.relatedTarget)&&i.relatedTarget!==t.startFocusTrapElement){var s=t.getKeyboardFocusableElements().shift();!t.isAutoFocusing&&s!=null&&s!==i.relatedTarget?s.focus():(r=t.startFocusTrapElement)===null||r===void 0||r.focus({preventScroll:!0})}else{var a=t.getKeyboardFocusableElements().pop();a!=null?a.focus():(o=t.startFocusTrapElement)===null||o===void 0||o.focus({preventScroll:!0})}},t.handleTransitionExited=function(i){var r,o;t.props.shouldReturnFocusOnClose&&t.lastActiveElementBeforeOpened instanceof HTMLElement&&t.lastActiveElementBeforeOpened.focus(),(o=(r=t.props).onClosed)===null||o===void 0||o.call(r,i)},t.handleBackdropMouseDown=function(i){var r,o=t.props,s=o.backdropProps,a=o.canOutsideClickClose,l=o.enforceFocus,u=o.onClose;a&&(u==null||u(i)),l&&t.bringFocusInsideOverlay(),(r=s==null?void 0:s.onMouseDown)===null||r===void 0||r.call(s,i)},t.handleDocumentClick=function(i){var r=t.props,o=r.canOutsideClickClose,s=r.isOpen,a=r.onClose,l=i.composed?i.composedPath()[0]:i.target,u=e.openStack.indexOf(t),c=e.openStack.slice(u).some(function(h){var d=h.containerElement;return d&&d.contains(l)&&!d.isSameNode(l)});s&&!c&&o&&(a==null||a(i))},t.handleDocumentFocus=function(i){var r=i.composed?i.composedPath()[0]:i.target;t.props.enforceFocus&&t.containerElement!=null&&r instanceof Node&&!t.containerElement.contains(r)&&(i.preventDefault(),i.stopImmediatePropagation(),t.bringFocusInsideOverlay())},t.handleKeyDown=function(i){var r=t.props,o=r.canEscapeKeyClose,s=r.onClose;i.key==="Escape"&&o&&(s==null||s(i),i.stopPropagation(),i.preventDefault())},t.handleTransitionAddEnd=function(){},t}return e.getDerivedStateFromProps=function(t){var i=t.isOpen;return i?{hasEverOpened:i}:null},e.prototype.render=function(){var t,i;if(this.props.lazy&&!this.state.hasEverOpened)return null;var r=this.props,o=r.autoFocus,s=r.children,a=r.className,l=r.enforceFocus,u=r.usePortal,c=r.isOpen,h=c?(i=p.Children.map(s,this.maybeRenderChild))!==null&&i!==void 0?i:[]:[],d=this.maybeRenderBackdrop();d!==null&&h.unshift(d),c&&(o||l)&&h.length>0&&(h.unshift(this.renderDummyElement("__start",{className:Cs,onFocus:this.handleStartFocusTrapElementFocus,onKeyDown:this.handleStartFocusTrapElementKeyDown,ref:this.refHandlers.startFocusTrap})),l&&h.push(this.renderDummyElement("__end",{className:bs,onFocus:this.handleEndFocusTrapElementFocus,ref:this.refHandlers.endFocusTrap})));var f=B(te,(t={},t[Li]=c,t[hm]=!u,t),a),m=p.createElement(lv,{appear:!0,"aria-live":"polite",className:f,component:"div",onKeyDown:this.handleKeyDown,ref:this.refHandlers.container},h);return u?p.createElement(cv,{className:this.props.portalClassName,container:this.props.portalContainer,stopPropagationEvents:this.props.portalStopPropagationEvents},m):m},e.prototype.componentDidMount=function(){this.props.isOpen&&this.overlayWillOpen()},e.prototype.componentDidUpdate=function(t){t.isOpen&&!this.props.isOpen?this.overlayWillClose():!t.isOpen&&this.props.isOpen&&this.overlayWillOpen()},e.prototype.componentWillUnmount=function(){this.overlayWillClose()},e.prototype.bringFocusInsideOverlay=function(){var t=this;return this.requestAnimationFrame(function(){var i,r=ws(t.containerElement);if(!(t.containerElement==null||r==null||!t.props.isOpen)){var o=!t.containerElement.contains(r);o&&((i=t.startFocusTrapElement)===null||i===void 0||i.focus({preventScroll:!0}),t.isAutoFocusing=!1)}})},e.prototype.maybeRenderBackdrop=function(){var t=this.props,i=t.backdropClassName,r=t.backdropProps,o=t.hasBackdrop,s=t.isOpen,a=t.transitionDuration,l=t.transitionName;return o&&s?p.createElement(Hi,{classNames:l,key:"__backdrop",timeout:a,addEndListener:this.handleTransitionAddEnd},p.createElement("div",k({},r,{className:B(cm,i,r==null?void 0:r.className),onMouseDown:this.handleBackdropMouseDown}))):null},e.prototype.renderDummyElement=function(t,i){var r=this.props,o=r.transitionDuration,s=r.transitionName;return p.createElement(Hi,{classNames:s,key:t,addEndListener:this.handleTransitionAddEnd,timeout:o,unmountOnExit:!0},p.createElement("div",k({tabIndex:0},i)))},e.prototype.getKeyboardFocusableElements=function(){var t=this.containerElement!==null?Array.from(this.containerElement.querySelectorAll(['a[href]:not([tabindex="-1"])','button:not([disabled]):not([tabindex="-1"])','details:not([tabindex="-1"])','input:not([disabled]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])'].join(","))):[];return t.filter(function(i){return!i.classList.contains(Cs)&&!i.classList.contains(bs)})},e.prototype.overlayWillClose=function(){document.removeEventListener("focus",this.handleDocumentFocus,!0),document.removeEventListener("mousedown",this.handleDocumentClick);var t=e.openStack,i=t.indexOf(this);if(i!==-1){if(t.splice(i,1),t.length>0){var r=e.getLastOpened();r.props.autoFocus&&r.props.enforceFocus&&(r.bringFocusInsideOverlay(),document.addEventListener("focus",r.handleDocumentFocus,!0))}t.filter(function(o){return o.props.usePortal&&o.props.hasBackdrop}).length===0&&document.body.classList.remove(Li)}},e.prototype.overlayWillOpen=function(){var t=e.getLastOpened,i=e.openStack;i.length>0&&document.removeEventListener("focus",t().handleDocumentFocus,!0),i.push(this),this.props.autoFocus&&(this.isAutoFocusing=!0,this.bringFocusInsideOverlay()),this.props.enforceFocus&&document.addEventListener("focus",this.handleDocumentFocus,!0),this.props.canOutsideClickClose&&!this.props.hasBackdrop&&document.addEventListener("mousedown",this.handleDocumentClick),this.props.hasBackdrop&&this.props.usePortal&&document.body.classList.add(Li),this.lastActiveElementBeforeOpened=ws(this.containerElement)},e.displayName="".concat(J,".Overlay"),e.defaultProps={autoFocus:!0,backdropProps:{},canEscapeKeyClose:!0,canOutsideClickClose:!0,enforceFocus:!0,hasBackdrop:!0,isOpen:!1,lazy:!0,shouldReturnFocusOnClose:!0,transitionDuration:300,transitionName:te,usePortal:!0},e.openStack=[],e.getLastOpened=function(){return e.openStack[e.openStack.length-1]},e}(et),Ds=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.element=null,t.observer=new cc(function(i){var r,o;return(o=(r=t.props).onResize)===null||o===void 0?void 0:o.call(r,i)}),t}return e.prototype.render=function(){return p.Children.only(this.props.children)},e.prototype.componentDidMount=function(){this.observeElement()},e.prototype.componentDidUpdate=function(t){this.observeElement(this.props.observeParents!==t.observeParents)},e.prototype.componentWillUnmount=function(){this.observer.disconnect(),this.element=null},e.prototype.observeElement=function(t){t===void 0&&(t=!1);var i=this.getElement();if(!(i instanceof Element)){this.observer.disconnect();return}if(!(i===this.element&&!t)&&(this.observer.disconnect(),this.element=i,this.observer.observe(i),this.props.observeParents))for(var r=i.parentElement;r!=null;)this.observer.observe(r),r=r.parentElement},e.prototype.getElement=function(){try{return ee.findDOMNode(this)}catch{return null}},e.displayName="".concat(J,".ResizeSensor"),e}(et),pv=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.popover=null,t}return e.prototype.render=function(){var t,i=this,r=this.props,o=r.children,s=r.intent,a=r.popoverClassName,l=vt(r,["children","intent","popoverClassName"]),u=B(Nm,(t={},t[Ue]=this.props.minimal,t),gt(s),a);return p.createElement(Eo,k({interactionKind:It.HOVER_TARGET_ONLY,modifiers:{arrow:{enabled:!this.props.minimal}}},l,{autoFocus:!1,canEscapeKeyClose:!1,enforceFocus:!1,lazy:!0,popoverClassName:u,portalContainer:this.props.portalContainer,ref:function(c){return i.popover=c}}),o)},e.prototype.reposition=function(){this.popover!=null&&this.popover.reposition()},e.displayName="".concat(J,".Tooltip"),e.defaultProps={hoverCloseDelay:0,hoverOpenDelay:100,minimal:!1,transitionDuration:100},e}(et);function yo(n){return n.split("-")[0]}function Nr(n){return["left","right"].indexOf(n)!==-1}function xn(n){switch(n){case"top":return"bottom";case"left":return"right";case"bottom":return"top";default:return"left"}}function Is(n){var e=n.split("-")[1];switch(e){case"start":return"left";case"end":return"right";default:return"center"}}function fv(n){var e=yo(n.placement);if(n.arrowElement==null)return Nr(e)?"".concat(xn(e)," ").concat(Is(e)):"".concat(Is(e)," ").concat(xn(e));var t=n.arrowElement.clientHeight/2,i=n.offsets.arrow;return Nr(e)?"".concat(xn(e)," ").concat(i.top+t,"px"):"".concat(i.left+t,"px ").concat(xn(e))}var Ms=4,mv=function(n){if(n.arrowElement==null)return n;var e=n.arrowElement.clientWidth,t=yo(n.placement),i=Nr(t),r=i?"width":"height",o=i?"left":"top",s=Math.round(e/2/Math.sqrt(2));return t==="top"||t==="left"?(n.offsets.popper[o]-=s+Ms,n.offsets.arrow[o]=n.offsets.popper[r]-e+s):(n.offsets.popper[o]+=s+Ms,n.offsets.arrow[o]=-s),n},vv="M8.11 6.302c1.015-.936 1.887-2.922 1.887-4.297v26c0-1.378-.868-3.357-1.888-4.297L.925 17.09c-1.237-1.14-1.233-3.034 0-4.17L8.11 6.302z",gv="M8.787 7.036c1.22-1.125 2.21-3.376 2.21-5.03V0v30-2.005c0-1.654-.983-3.9-2.21-5.03l-7.183-6.616c-.81-.746-.802-1.96 0-2.7l7.183-6.614z";function yv(n){if(n==null)return 0;switch(yo(n)){case"top":return-90;case"left":return 180;case"bottom":return 90;default:return 0}}var Ll=function(n){var e=n.arrowProps,t=e.ref,i=e.style,r=n.placement;return p.createElement("div",{className:Fi,ref:t,style:i.left==null||isNaN(+i.left)?{}:i},p.createElement("svg",{viewBox:"0 0 30 30",style:{transform:"rotate(".concat(yv(r),"deg)")}},p.createElement("path",{className:Fi+"-border",d:vv}),p.createElement("path",{className:Fi+"-fill",d:gv})))};Ll.displayName="".concat(J,".PopoverArrow");function Ev(n){switch(n){case pt.TOP_LEFT:return"top-start";case pt.TOP:return"top";case pt.TOP_RIGHT:return"top-end";case pt.RIGHT_TOP:return"right-start";case pt.RIGHT:return"right";case pt.RIGHT_BOTTOM:return"right-end";case pt.BOTTOM_RIGHT:return"bottom-end";case pt.BOTTOM:return"bottom";case pt.BOTTOM_LEFT:return"bottom-start";case pt.LEFT_BOTTOM:return"left-end";case pt.LEFT:return"left";case pt.LEFT_TOP:return"left-start";case"auto":case"auto-start":case"auto-end":return n;default:return _v(n)}}function _v(n){throw new Error("Unexpected position: "+n)}var It={CLICK:"click",CLICK_TARGET_ONLY:"click-target",HOVER:"hover",HOVER_TARGET_ONLY:"hover-target"},Eo=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.popoverRef=p.createRef(),t.popoverElement=null,t.targetElement=null,t.state={hasDarkParent:!1,isOpen:t.getIsOpen(t.props),transformOrigin:""},t.isMouseInTargetOrPopover=!1,t.lostFocusOnSamePage=!0,t.handlePopoverRef=Vt(t,"popoverElement",t.props.popoverRef),t.handleTargetRef=function(i){return t.targetElement=i},t.reposition=function(){var i;return(i=t.popperScheduleUpdate)===null||i===void 0?void 0:i.call(t)},t.renderPopover=function(i){var r,o=t.props,s=o.interactionKind,a=o.usePortal,l=t.state.transformOrigin;t.popperScheduleUpdate=i.scheduleUpdate;var u={onClick:t.handlePopoverClick};(s===It.HOVER||!a&&s===It.HOVER_TARGET_ONLY)&&(u.onMouseEnter=t.handleMouseEnter,u.onMouseLeave=t.handleMouseLeave);var c=B(xt,(r={},r[Es]=t.props.inheritDarkTheme&&t.state.hasDarkParent,r[Ue]=t.props.minimal,r[xs]=t.props.captureDismiss,r[vm]=i.outOfBoundaries===!0,r),t.props.popoverClassName);return p.createElement("div",{className:Em,ref:i.ref,style:i.style},p.createElement(Ds,{onResize:t.reposition},p.createElement("div",k({className:c,style:{transformOrigin:l},ref:t.popoverRef},u),t.isArrowEnabled()&&p.createElement(Ll,{arrowProps:i.arrowProps,placement:i.placement}),p.createElement("div",{className:pm},t.understandChildren().content))))},t.renderTarget=function(i){var r,o,s=t.props,a=s.fill,l=s.openOnTargetFocus,u=s.targetClassName,c=s.targetProps,h=c===void 0?{}:c,d=t.state.isOpen,f=t.isControlled(),m=t.isHoverInteractionKind(),g=t.props.targetTagName;a&&(g="div");var E=m?{onBlur:t.handleTargetBlur,onFocus:t.handleTargetFocus,onMouseEnter:t.handleMouseEnter,onMouseLeave:t.handleMouseLeave}:{onClick:t.handleTargetClick};E["aria-haspopup"]="true",E.className=B(gm,(r={},r[mm]=d,r),h.className,u),E.ref=i.ref;var b=xr(t.understandChildren().target);if(b===void 0)return null;var x=b.props.tabIndex,C=x==null&&l&&m?0:x,_=p.cloneElement(b,{className:B(b.props.className,(o={},o[di]=d&&!f&&!m,o)),disabled:d&&Wm(b,pv)?!0:b.props.disabled,tabIndex:C}),S=p.createElement(g,k(k({},h),E),_);return p.createElement(Ds,{onResize:t.reposition},S)},t.isControlled=function(){return t.props.isOpen!==void 0},t.handleTargetFocus=function(i){var r,o;if(t.props.openOnTargetFocus&&t.isHoverInteractionKind()){if(i.relatedTarget==null&&!t.lostFocusOnSamePage)return;t.handleMouseEnter(i)}(o=(r=t.props.targetProps)===null||r===void 0?void 0:r.onFocus)===null||o===void 0||o.call(r,i)},t.handleTargetBlur=function(i){var r,o;t.props.openOnTargetFocus&&t.isHoverInteractionKind()&&i.relatedTarget!=null&&!t.isElementInPopover(i.relatedTarget)&&t.handleMouseLeave(i),t.lostFocusOnSamePage=i.relatedTarget!=null,(o=(r=t.props.targetProps)===null||r===void 0?void 0:r.onBlur)===null||o===void 0||o.call(r,i)},t.handleMouseEnter=function(i){var r,o;t.isMouseInTargetOrPopover=!0,!t.props.usePortal&&t.isElementInPopover(i.target)&&t.props.interactionKind===It.HOVER_TARGET_ONLY&&!t.props.openOnTargetFocus?t.handleMouseLeave(i):t.props.disabled||t.setOpenState(!0,i,t.props.hoverOpenDelay),(o=(r=t.props.targetProps)===null||r===void 0?void 0:r.onMouseEnter)===null||o===void 0||o.call(r,i)},t.handleMouseLeave=function(i){var r,o;t.isMouseInTargetOrPopover=!1,t.setTimeout(function(){t.isMouseInTargetOrPopover||t.setOpenState(!1,i,t.props.hoverCloseDelay)}),(o=(r=t.props.targetProps)===null||r===void 0?void 0:r.onMouseLeave)===null||o===void 0||o.call(r,i)},t.handlePopoverClick=function(i){var r=i.target,o=r.closest(".".concat(xt)),s=o===t.popoverRef.current,a=o==null?void 0:o.classList.contains(xs),l=r.closest(".".concat(qn,", .").concat(fm)),u=l!=null&&l.classList.contains(qn),c=r.closest(":disabled, .".concat(Fe))!=null;u&&!c&&(!a||s)&&t.setOpenState(!1,i)},t.handleOverlayClose=function(i){if(!(t.targetElement===null||i===void 0)){var r=i.target;(!Dm(t.targetElement,r)||i.nativeEvent instanceof KeyboardEvent)&&t.setOpenState(!1,i)}},t.handleTargetClick=function(i){var r,o;!t.props.disabled&&!t.isElementInPopover(i.target)&&(t.props.isOpen==null?t.setState(function(s){return{isOpen:!s.isOpen}}):t.setOpenState(!t.props.isOpen,i)),(o=(r=t.props.targetProps)===null||r===void 0?void 0:r.onClick)===null||o===void 0||o.call(r,i)},t.updatePopoverState=function(i){return t.setState({transformOrigin:fv(i)}),i},t}return e.prototype.render=function(){var t,i,r=this.props,o=r.className,s=r.disabled,a=r.fill,l=r.placement,u=r.position,c=u===void 0?"auto":u,h=r.shouldReturnFocusOnClose,d=this.state.isOpen,f=this.props.wrapperTagName;a&&(f="div");var m=xr(this.understandChildren().content)==null;m&&!s&&d!==!1&&!br("production")&&console.warn(Hm);var g=B(ym,o,(t={},t[Jt]=a,t)),E=this.isHoverInteractionKind()?!1:void 0,b=p.createElement(f,{className:g},p.createElement(Iu,{innerRef:this.handleTargetRef},this.renderTarget),p.createElement(dv,{autoFocus:(i=this.props.autoFocus)!==null&&i!==void 0?i:E,backdropClassName:dm,backdropProps:this.props.backdropProps,canEscapeKeyClose:this.props.canEscapeKeyClose,canOutsideClickClose:this.props.interactionKind===It.CLICK,className:this.props.portalClassName,enforceFocus:this.props.enforceFocus,hasBackdrop:this.props.hasBackdrop,isOpen:d&&!m,onClose:this.handleOverlayClose,onClosed:this.props.onClosed,onClosing:this.props.onClosing,onOpened:this.props.onOpened,onOpening:this.props.onOpening,transitionDuration:this.props.transitionDuration,transitionName:xt,usePortal:this.props.usePortal,portalContainer:this.props.portalContainer,shouldReturnFocusOnClose:this.isHoverInteractionKind()?!1:h},p.createElement(Mu,{innerRef:this.handlePopoverRef,placement:l??Ev(c),modifiers:this.getPopperModifiers()},this.renderPopover)));return p.createElement(Ou,null,b)},e.prototype.componentDidMount=function(){this.updateDarkParent()},e.prototype.componentDidUpdate=function(t,i){n.prototype.componentDidUpdate.call(this,t,i),t.popoverRef!==this.props.popoverRef&&(qt(t.popoverRef,null),this.handlePopoverRef=Vt(this,"popoverElement",this.props.popoverRef),qt(this.props.popoverRef,this.popoverElement)),this.updateDarkParent();var r=this.getIsOpen(this.props);this.props.isOpen!=null&&r!==this.state.isOpen?(this.setOpenState(r),this.setState({isOpen:r})):this.props.disabled&&this.state.isOpen&&this.props.isOpen==null&&this.setOpenState(!1)},e.prototype.validateProps=function(t){t.isOpen==null&&t.onInteraction!=null&&console.warn(Ym),t.hasBackdrop&&!t.usePortal&&console.warn(Bm),t.hasBackdrop&&t.interactionKind!==It.CLICK&&console.error(Am),t.placement!==void 0&&t.position!==void 0&&console.warn(Vm);var i=p.Children.count(t.children),r=t.content!==void 0,o=t.target!==void 0;i===0&&!o&&console.error(km),i>2&&console.warn(Lm),i>0&&o&&console.warn(Um),i===2&&r&&console.warn(Fm)},e.prototype.updateDarkParent=function(){if(this.props.usePortal&&this.state.isOpen){var t=this.targetElement!=null&&this.targetElement.closest(".".concat(Es))!=null;this.setState({hasDarkParent:t})}},e.prototype.understandChildren=function(){var t=this.props,i=t.children,r=t.content,o=t.target,s=p.Children.toArray(i),a=s[0],l=s[1];return{content:l??r,target:a??o}},e.prototype.getIsOpen=function(t){return t.disabled?!1:t.isOpen!=null?t.isOpen:t.defaultIsOpen},e.prototype.getPopperModifiers=function(){var t=this.props,i=t.boundary,r=t.modifiers,o=r,s=o.flip,a=s===void 0?{}:s,l=o.preventOverflow,u=l===void 0?{}:l;return k(k({},r),{arrowOffset:{enabled:this.isArrowEnabled(),fn:mv,order:510},flip:k({boundariesElement:i},a),preventOverflow:k({boundariesElement:i},u),updatePopoverState:{enabled:!0,fn:this.updatePopoverState,order:900}})},e.prototype.setOpenState=function(t,i,r){var o=this,s,a,l,u,c;(s=this.cancelOpenTimeout)===null||s===void 0||s.call(this),r!==void 0&&r>0?this.cancelOpenTimeout=this.setTimeout(function(){return o.setOpenState(t,i)},r):(this.props.isOpen==null?this.setState({isOpen:t}):(l=(a=this.props).onInteraction)===null||l===void 0||l.call(a,t,i),t||(c=(u=this.props).onClose)===null||c===void 0||c.call(u,i))},e.prototype.isArrowEnabled=function(){var t=this.props,i=t.minimal,r=t.modifiers;return!i&&((r==null?void 0:r.arrow)==null||r.arrow.enabled)},e.prototype.isElementInPopover=function(t){var i;return(i=this.popoverElement)===null||i===void 0?void 0:i.contains(t)},e.prototype.isHoverInteractionKind=function(){return this.props.interactionKind===It.HOVER||this.props.interactionKind===It.HOVER_TARGET_ONLY},e.displayName="".concat(J,".Popover"),e.defaultProps={boundary:"scrollParent",captureDismiss:!1,defaultIsOpen:!1,disabled:!1,fill:!1,hasBackdrop:!1,hoverCloseDelay:300,hoverOpenDelay:150,inheritDarkTheme:!0,interactionKind:It.CLICK,minimal:!1,modifiers:{},openOnTargetFocus:!0,shouldReturnFocusOnClose:!1,targetTagName:"span",transitionDuration:300,usePortal:!0,wrapperTagName:"span"},e}(et),Nt;(function(n){n[n.STANDARD=16]="STANDARD",n[n.LARGE=20]="LARGE"})(Nt||(Nt={}));var wt=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props.icon;if(t==null||typeof t=="boolean")return null;if(typeof t!="string")return t;var i=this.props,r=i.className,o=i.color,s=i.htmlTitle,a=i.iconSize,l=i.intent,u=i.size,c=u===void 0?a??Nt.STANDARD:u,h=i.svgProps,d=i.title,f=i.tagName,m=f===void 0?"span":f,g=vt(i,["className","color","htmlTitle","iconSize","intent","size","svgProps","title","tagName"]),E=c>=Nt.LARGE?Nt.LARGE:Nt.STANDARD,b=this.renderSvgPaths(E,t),x=B(Tm,Rm(t),gt(l),r),C="0 0 ".concat(E," ").concat(E),_=_e("iconTitle");return p.createElement(m,k(k({"aria-hidden":d?void 0:!0},g),{className:x,title:s}),p.createElement("svg",k({fill:o,"data-icon":t,width:c,height:c,viewBox:C,"aria-labelledby":d?_:void 0,role:"img"},h),d&&p.createElement("title",{id:_},d),b))},e.prototype.renderSvgPaths=function(t,i){var r=t===Nt.STANDARD?rc:oc,o=r[sc(i)];return o==null?null:o.map(function(s,a){return p.createElement("path",{key:a,d:s,fillRule:"evenodd"})})},e.displayName="".concat(J,".Icon"),e}(et),Ne;(function(n){n[n.SMALL=20]="SMALL",n[n.STANDARD=50]="STANDARD",n[n.LARGE=100]="LARGE"})(Ne||(Ne={}));var Qt=45,Os="M 50,50 m 0,-".concat(Qt," a ").concat(Qt,",").concat(Qt," 0 1 1 0,").concat(Qt*2," a ").concat(Qt,",").concat(Qt," 0 1 1 0,-").concat(Qt*2),$e=280,Cv=10,bv=4,xv=16,Fl=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.componentDidUpdate=function(t){t.value!==this.props.value&&this.forceUpdate()},e.prototype.render=function(){var t,i=this.props,r=i.className,o=i.intent,s=i.value,a=i.tagName,l=a===void 0?"div":a,u=vt(i,["className","intent","value","tagName"]),c=this.getSize(),h=B(mi,gt(o),(t={},t[xm]=s!=null,t),r),d=Math.min(xv,bv*Ne.LARGE/c),f=$e-$e*(s==null?.25:Gm(s,0,1));return p.createElement(l,k({"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s===void 0?void 0:s*100,className:h,role:"progressbar"},u),p.createElement(l,{className:Cm},p.createElement("svg",{width:c,height:c,strokeWidth:d.toFixed(2),viewBox:this.getViewBox(d)},p.createElement("path",{className:wm,d:Os}),p.createElement("path",{className:bm,d:Os,pathLength:$e,strokeDasharray:"".concat($e," ").concat($e),strokeDashoffset:f}))))},e.prototype.validateProps=function(t){var i=t.className,r=i===void 0?"":i,o=t.size;o!=null&&(r.indexOf($n)>=0||r.indexOf(zt)>=0)&&console.warn(zm)},e.prototype.getSize=function(){var t=this.props,i=t.className,r=i===void 0?"":i,o=t.size;return o==null?r.indexOf($n)>=0?Ne.SMALL:r.indexOf(zt)>=0?Ne.LARGE:Ne.STANDARD:Math.max(Cv,o)},e.prototype.getViewBox=function(t){var i=Qt+t/2,r=(50-i).toFixed(2),o=(i*2).toFixed(2);return"".concat(r," ").concat(r," ").concat(o," ").concat(o)},e.displayName="".concat(J,".Spinner"),e}(et),Ul=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isActive:!1},t.handleKeyDown=function(i){var r,o;Ts(i.which)&&(i.preventDefault(),i.which!==t.currentKeyDown&&t.setState({isActive:!0})),t.currentKeyDown=i.which,(o=(r=t.props).onKeyDown)===null||o===void 0||o.call(r,i)},t.handleKeyUp=function(i){var r,o,s;Ts(i.which)&&(t.setState({isActive:!1}),(r=t.buttonRef)===null||r===void 0||r.click()),t.currentKeyDown=void 0,(s=(o=t.props).onKeyUp)===null||s===void 0||s.call(o,i)},t.handleBlur=function(i){var r,o;t.state.isActive&&t.setState({isActive:!1}),(o=(r=t.props).onBlur)===null||o===void 0||o.call(r,i)},t}return e.prototype.getCommonButtonProps=function(){var t,i=this.props,r=i.active,o=r===void 0?!1:r,s=i.alignText,a=i.fill,l=i.large,u=i.loading,c=u===void 0?!1:u,h=i.outlined,d=i.minimal,f=i.small,m=i.tabIndex,g=this.props.disabled||c,E=B(pi,(t={},t[di]=!g&&(o||this.state.isActive),t[Fe]=g,t[Jt]=a,t[zt]=l,t[$f]=c,t[Ue]=d,t[zf]=h,t[$n]=f,t),Ol(s),gt(this.props.intent),this.props.className);return{className:E,disabled:g,onBlur:this.handleBlur,onClick:g?void 0:this.props.onClick,onFocus:g?void 0:this.props.onFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:g?-1:m}},e.prototype.renderChildren=function(){var t=this.props,i=t.children,r=t.icon,o=t.loading,s=t.rightIcon,a=t.text,l=!Gn(a)||!Gn(i);return[o&&p.createElement(Fl,{key:"loading",className:jf,size:Nt.LARGE}),p.createElement(wt,{key:"leftIcon",icon:r}),l&&p.createElement("span",{key:"text",className:Zf},a,i),p.createElement(wt,{key:"rightIcon",icon:s})]},e}(et),fe=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.buttonRef=null,t.handleRef=Vt(t,"buttonRef",t.props.elementRef),t}return e.prototype.render=function(){return p.createElement("button",k({type:"button",ref:this.handleRef},po(this.props),this.getCommonButtonProps()),this.renderChildren())},e.prototype.componentDidUpdate=function(t){t.elementRef!==this.props.elementRef&&(qt(t.elementRef,null),this.handleRef=Vt(this,"buttonRef",this.props.elementRef),qt(this.props.elementRef,this.buttonRef))},e.displayName="".concat(J,".Button"),e}(Ul);(function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.buttonRef=null,t.handleRef=Vt(t,"buttonRef",t.props.elementRef),t}return e.prototype.render=function(){var t=this.props,i=t.href,r=t.tabIndex,o=r===void 0?0:r,s=this.getCommonButtonProps();return p.createElement("a",k({role:"button",ref:this.handleRef},po(this.props),s,{href:s.disabled?void 0:i,tabIndex:s.disabled?-1:o}),this.renderChildren())},e.prototype.componentDidUpdate=function(t){t.elementRef!==this.props.elementRef&&(qt(t.elementRef,null),this.handleRef=Vt(this,"buttonRef",this.props.elementRef),qt(this.props.elementRef,this.buttonRef))},e.displayName="".concat(J,".AnchorButton"),e})(Ul);function Hl(n,e){return function(t){var i=t.className,r=t.elementRef,o=t.children,s=vt(t,["className","elementRef","children"]);return p.createElement(n,k(k({},s),{className:B(e,i),ref:r}),o)}}var wv=Hl("h4",Sl),Pv=Hl("h5",Sl),Bl=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t,i=this.props,r=i.className,o=i.children,s=i.large,a=i.ulRef,l=vt(i,["className","children","large","ulRef"]),u=B(Il,(t={},t[zt]=s,t),r);return p.createElement("ul",k({role:"menu"},l,{className:u,ref:a}),o)},e.displayName="".concat(J,".Menu"),e}(et),Vl=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={isContentOverflowing:!1,textContent:""},t.textRef=null,t}return e.prototype.componentDidMount=function(){this.update()},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.render=function(){var t,i=this,r=this.props,o=r.children,s=r.className,a=r.ellipsize,l=r.tagName,u=l===void 0?"div":l,c=r.title,h=vt(r,["children","className","ellipsize","tagName","title"]),d=B(s,(t={},t[Wf]=a,t));return p.createElement(u,k(k({},h),{className:d,ref:function(f){return i.textRef=f},title:c??(this.state.isContentOverflowing?this.state.textContent:void 0)}),o)},e.prototype.update=function(){var t;if(((t=this.textRef)===null||t===void 0?void 0:t.textContent)!=null){var i={isContentOverflowing:this.props.ellipsize&&this.textRef.scrollWidth>this.textRef.clientWidth,textContent:this.textRef.textContent};this.setState(i)}},e.displayName="".concat(J,".Text"),e.defaultProps={ellipsize:!1},e}(et),Nv=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t,i,r=this.props,o=r.active,s=r.className,a=r.children,l=r.disabled,u=r.elementRef,c=r.icon,h=r.intent;r.labelClassName;var d=r.labelElement,f=r.multiline;r.popoverProps;var m=r.roleStructure,g=m===void 0?"menuitem":m,E=r.selected,b=r.shouldDismissPopover;r.submenuProps;var x=r.text,C=r.textClassName,_=r.tagName,S=_===void 0?"a":_,I=r.htmlTitle,O=vt(r,["active","className","children","disabled","elementRef","icon","intent","labelClassName","labelElement","multiline","popoverProps","roleStructure","selected","shouldDismissPopover","submenuProps","text","textClassName","tagName","htmlTitle"]),F=c!=null,A=a!=null,V=gt(h),U=B(ho,V,(t={},t[di]=o,t[Fe]=l,t[qn]=b&&!l&&!A,t[Gf]=E||o&&V===void 0,t),s),v=g==="listoption"?["option",void 0,o||E]:g==="menuitem"?["none","menuitem",void 0]:g==="none"?["none",void 0,void 0]:[void 0,void 0,void 0],P=v[0],T=v[1],y=v[2],R=p.createElement(S,k(k(k({onKeyDown:Im(["Enter"," "]),role:A?"none":T,tabIndex:A?-1:0},O),l?Sv:{}),{className:U}),F?p.createElement("span",{className:om},p.createElement(wt,{icon:c,"aria-hidden":!0,tabIndex:-1})):void 0,p.createElement(Vl,{className:B(Jt,C),ellipsize:!f,title:I},x),this.maybeRenderLabel(d),A?p.createElement(wt,{className:am,icon:"caret-right"}):void 0),H=B((i={},i[Cr]=A,i));return p.createElement("li",{className:H,ref:u,role:P,"aria-selected":y},this.maybeRenderPopover(R,{role:T,tabIndex:0},a))},e.prototype.maybeRenderLabel=function(t){var i=this.props,r=i.label,o=i.labelClassName;return r==null&&t==null?null:p.createElement("span",{className:B(sm,o)},r,t)},e.prototype.maybeRenderPopover=function(t,i,r){if(r==null)return t;var o=this.props,s=o.disabled,a=o.popoverProps,l=o.submenuProps;return p.createElement(Eo,k({autoFocus:!1,captureDismiss:!1,disabled:s,enforceFocus:!1,hoverCloseDelay:0,interactionKind:It.HOVER,modifiers:Tv,targetProps:i,position:pt.RIGHT_TOP,usePortal:!1},a,{content:p.createElement(Bl,k({},l),r),minimal:!0,popoverClassName:B(Cr,a==null?void 0:a.popoverClassName),target:t}))},e.defaultProps={active:!1,disabled:!1,multiline:!1,popoverProps:{},selected:!1,shouldDismissPopover:!0,text:""},e.displayName="".concat(J,".MenuItem"),e}(et),Tv={flip:{boundariesElement:"viewport",padding:20},offset:{offset:-5},preventOverflow:{boundariesElement:"viewport",padding:20}},Sv={href:void 0,onClick:void 0,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0,tabIndex:-1},Rv=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t,i=this.props,r=i.alignText,o=i.className,s=i.elementRef,a=i.fill,l=i.minimal,u=i.large,c=i.vertical,h=vt(i,["alignText","className","elementRef","fill","minimal","large","vertical"]),d=B(Kf,(t={},t[Jt]=a,t[zt]=u,t[Ue]=l,t[Xf]=c,t),Ol(r),o);return p.createElement("div",k({},h,{className:d,ref:s}),this.props.children)},e.displayName="".concat(J,".ButtonGroup"),e}(et),Dv=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t,i=this.props,r=i.className,o=i.children,s=i.icon,a=i.intent,l=i.title,u=vt(i,["className","children","icon","intent","title"]),c=this.getIconName(s,a),h=B(Rl,gt(a),(t={},t[Qf]=c!=null,t),r);return p.createElement("div",k({className:h},u),c&&p.createElement(wt,{icon:c,"aria-hidden":!0,tabIndex:-1}),l&&p.createElement(Pv,null,l),o)},e.prototype.getIconName=function(t,i){if(t!==null){if(t!==void 0)return t;switch(i){case bt.DANGER:return"error";case bt.PRIMARY:return"info-sign";case bt.WARNING:return"warning-sign";case bt.SUCCESS:return"tick";default:return}}},e.displayName="".concat(J,".Callout"),e}(et),j;(function(n){n[n.OPEN_START=0]="OPEN_START",n[n.OPENING=1]="OPENING",n[n.OPEN=2]="OPEN",n[n.CLOSING_START=3]="CLOSING_START",n[n.CLOSING=4]="CLOSING",n[n.CLOSED=5]="CLOSED"})(j||(j={}));var Iv=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={animationState:t.props.isOpen?j.OPEN:j.CLOSED,height:void 0,heightWhenOpen:void 0},t.contents=null,t.contentsRefHandler=function(i){if(t.contents=i,t.contents!=null){var r=t.contents.clientHeight;t.setState({animationState:t.props.isOpen?j.OPEN:j.CLOSED,height:r===0?void 0:"".concat(r,"px"),heightWhenOpen:r===0?void 0:r})}},t}return e.getDerivedStateFromProps=function(t,i){var r=t.isOpen,o=i.animationState;if(r)switch(o){case j.OPEN:break;case j.OPENING:break;default:return{animationState:j.OPEN_START}}else switch(o){case j.CLOSED:break;case j.CLOSING:break;default:return{animationState:j.CLOSING_START,height:"".concat(i.heightWhenOpen,"px")}}return null},e.prototype.render=function(){var t=this.state.animationState!==j.CLOSED,i=t||this.props.keepChildrenMounted,r=t&&this.state.animationState!==j.CLOSING,o=this.state.height==="auto",s={height:t?this.state.height:void 0,overflowY:o?"visible":void 0,transition:o?"none":void 0},a={transform:r?"translateY(0)":"translateY(-".concat(this.state.heightWhenOpen,"px)"),transition:o?"none":void 0};return p.createElement(this.props.component,{className:B(Dl,this.props.className),style:s},p.createElement("div",{className:Jf,ref:this.contentsRefHandler,style:a,"aria-hidden":!t},i?this.props.children:null))},e.prototype.componentDidMount=function(){this.forceUpdate(),this.props.isOpen?this.setState({animationState:j.OPEN,height:"auto"}):this.setState({animationState:j.CLOSED,height:"0px"})},e.prototype.componentDidUpdate=function(){var t=this;if(this.contents!=null){var i=this.props.transitionDuration,r=this.state.animationState;if(r===j.OPEN_START){var o=this.contents.clientHeight;this.setState({animationState:j.OPENING,height:"".concat(o,"px"),heightWhenOpen:o}),this.setTimeout(function(){return t.onDelayedStateChange()},i)}else if(r===j.CLOSING_START){var s=this.contents.clientHeight;this.setTimeout(function(){return t.setState({animationState:j.CLOSING,height:"0px",heightWhenOpen:s})}),this.setTimeout(function(){return t.onDelayedStateChange()},i)}}},e.prototype.onDelayedStateChange=function(){switch(this.state.animationState){case j.OPENING:this.setState({animationState:j.OPEN,height:"auto"});break;case j.CLOSING:this.setState({animationState:j.CLOSED});break}},e.displayName="".concat(J,".Collapse"),e.defaultProps={component:"div",isOpen:!1,keepChildrenMounted:!1,transitionDuration:200},e}(et),Tr=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,i=t.className,r=t.tagName,o=r===void 0?"div":r,s=vt(t,["className","tagName"]),a=B(tm,i);return p.createElement(o,k(k({},s),{className:a}))},e.displayName="".concat(J,".Divider"),e}(et),Mv=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={hasPendingUpdate:!1,isComposing:!1,nextValue:t.props.value,value:t.props.value},t.cancelPendingCompositionEnd=null,t.handleCompositionStart=function(i){var r,o,s;(r=t.cancelPendingCompositionEnd)===null||r===void 0||r.call(t),t.setState({isComposing:!0}),(s=(o=t.props).onCompositionStart)===null||s===void 0||s.call(o,i)},t.handleCompositionEnd=function(i){var r,o;t.cancelPendingCompositionEnd=t.setTimeout(function(){return t.setState({isComposing:!1})},e.COMPOSITION_END_DELAY),(o=(r=t.props).onCompositionEnd)===null||o===void 0||o.call(r,i)},t.handleChange=function(i){var r,o,s=i.target.value;t.setState({nextValue:s}),(o=(r=t.props).onChange)===null||o===void 0||o.call(r,i)},t}return e.getDerivedStateFromProps=function(t,i){if(i.isComposing||t.value===void 0)return null;var r=i.nextValue!==i.value;return r?t.value===i.nextValue?i.hasPendingUpdate?{value:t.value,hasPendingUpdate:!1}:{value:i.nextValue}:t.value===i.value?{hasPendingUpdate:!0}:{value:t.value,nextValue:t.value,hasPendingUpdate:!1}:{value:t.value,nextValue:t.value,hasPendingUpdate:!1}},e.prototype.render=function(){var t=this.state,i=t.isComposing,r=t.hasPendingUpdate,o=t.value,s=t.nextValue,a=this.props,l=a.inputRef,u=vt(a,["inputRef"]);return p.createElement("input",k({},u,{ref:l,value:i||r?s:o,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onChange:this.handleChange}))},e.displayName="".concat(J,".AsyncControllableInput"),e.COMPOSITION_END_DELAY=10,e}(et),Ov=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={},t.leftElement=null,t.rightElement=null,t.refHandlers={leftElement:function(i){return t.leftElement=i},rightElement:function(i){return t.rightElement=i}},t}return e.prototype.render=function(){var t,i=this.props,r=i.asyncControl,o=r===void 0?!1:r,s=i.className,a=i.disabled,l=i.fill,u=i.inputClassName,c=i.inputRef,h=i.intent,d=i.large,f=i.readOnly,m=i.round,g=i.small,E=i.tagName,b=E===void 0?"div":E,x=B(nm,gt(h),(t={},t[Fe]=a,t[qf]=f,t[Jt]=l,t[zt]=d,t[$n]=g,t[Tl]=m,t),s),C=k(k({},this.props.style),{paddingLeft:this.state.leftElementWidth,paddingRight:this.state.rightElementWidth}),_=k(k({type:"text"},po(this.props)),{className:B(fi,u),style:C}),S=o?p.createElement(Mv,k({},_,{inputRef:c})):p.createElement("input",k({},_,{ref:c}));return p.createElement(b,{className:x},this.maybeRenderLeftElement(),S,this.maybeRenderRightElement())},e.prototype.componentDidMount=function(){this.updateInputWidth()},e.prototype.componentDidUpdate=function(t){var i=this.props,r=i.leftElement,o=i.rightElement;(t.leftElement!==r||t.rightElement!==o)&&this.updateInputWidth()},e.prototype.validateProps=function(t){t.leftElement!=null&&t.leftIcon!=null&&console.warn(Om)},e.prototype.maybeRenderLeftElement=function(){var t=this.props,i=t.leftElement,r=t.leftIcon;if(i!=null)return p.createElement("span",{className:im,ref:this.refHandlers.leftElement},i);if(r!=null)return p.createElement(wt,{icon:r,"aria-hidden":!0,tabIndex:-1})},e.prototype.maybeRenderRightElement=function(){var t=this.props.rightElement;if(t!=null)return p.createElement("span",{className:rm,ref:this.refHandlers.rightElement},t)},e.prototype.updateInputWidth=function(){var t=this.state,i=t.leftElementWidth,r=t.rightElementWidth;if(this.leftElement!=null){var o=this.leftElement.clientWidth;(i===void 0||Math.abs(o-i)>2)&&this.setState({leftElementWidth:o})}else this.setState({leftElementWidth:void 0});if(this.rightElement!=null){var o=this.rightElement.clientWidth;(r===void 0||Math.abs(o-r)>2)&&this.setState({rightElementWidth:o})}else this.setState({rightElementWidth:void 0})},e.displayName="".concat(J,".InputGroup"),e}(et),Sr=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t,i=this.props,r=i.className,o=i.disabled,s=i.elementRef,a=i.fill,l=i.iconName,u=l===void 0?"double-caret-vertical":l,c=i.iconProps,h=i.large,d=i.minimal,f=i.options,m=f===void 0?[]:f,g=vt(i,["className","disabled","elementRef","fill","iconName","iconProps","large","minimal","options"]),E=B(em,(t={},t[Fe]=o,t[Jt]=a,t[zt]=h,t[Ue]=d,t),r),b=m.map(function(x){var C=typeof x=="object"?x:{value:x};return p.createElement("option",k({},C,{key:C.value,children:C.label||C.value}))});return p.createElement("div",{className:E},p.createElement("select",k({disabled:o,ref:s,value:this.props.value},g,{multiple:!1}),b,g.children),p.createElement(wt,k({icon:u,title:"Open dropdown"},c)))},e}(et),Rr;(function(n){n[n.STANDARD=48]="STANDARD",n[n.SMALL=32]="SMALL",n[n.EXTRA_SMALL=20]="EXTRA_SMALL"})(Rr||(Rr={}));var kv=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,i=t.action,r=t.children,o=t.className,s=t.layout;return p.createElement("div",{className:B(zn,"".concat(zn,"-").concat(s),o)},this.maybeRenderVisual(),this.maybeRenderText(),i,r)},e.prototype.maybeRenderVisual=function(){var t=this.props,i=t.icon,r=t.iconSize;if(i!=null)return p.createElement("div",{className:lm,style:{fontSize:"".concat(r,"px"),lineHeight:"".concat(r,"px")}},p.createElement(wt,{icon:i,size:r,"aria-hidden":!0,tabIndex:-1}))},e.prototype.maybeRenderText=function(){var t=this.props,i=t.description,r=t.title;if(!(r==null&&i==null))return p.createElement("div",{className:um},r&&p.createElement(wv,null,r),i&&xr(i,"div"))},e.displayName="".concat(J,".NonIdealState"),e.defaultProps={iconSize:Rr.STANDARD,layout:"vertical"},e}(et),Av=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.onRemoveClick=function(i){var r,o;(o=(r=t.props).onRemove)===null||o===void 0||o.call(r,i,t.props)},t}return e.prototype.render=function(){var t,i=this.props,r=i.active,o=i.children,s=i.className,a=i.fill,l=i.icon,u=i.intent,c=i.interactive,h=i.large,d=i.minimal,f=i.multiline,m=i.onRemove,g=i.rightIcon,E=i.round,b=i.tabIndex,x=b===void 0?0:b,C=i.htmlTitle,_=i.elementRef,S=vt(i,["active","children","className","fill","icon","intent","interactive","large","minimal","multiline","onRemove","rightIcon","round","tabIndex","htmlTitle","elementRef"]),I=kl(m),O=B(Ml,gt(u),(t={},t[di]=r,t[Jt]=a,t[Yf]=c,t[zt]=h,t[Ue]=d,t[Tl]=E,t),s),F=h||O.indexOf(zt)>=0,A=I?p.createElement("button",{"aria-label":"Remove Tag",type:"button",className:Pm,onClick:this.onRemoveClick,tabIndex:x},p.createElement(wt,{icon:"small-cross",size:F?Nt.LARGE:Nt.STANDARD})):null;return p.createElement("span",k({},S,{className:O,tabIndex:c?x:void 0,ref:_}),p.createElement(wt,{icon:l}),!Gn(o)&&p.createElement(Vl,{className:Jt,ellipsize:!f,tagName:"span",title:C},o),p.createElement(wt,{icon:g}),A)},e.displayName="".concat(J,".Tag"),e}(et);const Lv=p.createContext(null);function Fv(n){const{children:e,...t}=n;return w(Lv.Provider,{value:t},e)}const Uv=n=>w("div.api-result-placeholder",[w(Fl)]),Zn=class Zn extends p.Component{constructor(e,t){super(e,t),this._didFetch=!1,this.getData=this.getData.bind(this),this._lazyGetData=Mo(this.getData,this.props.debounce),this.state={data:null,isLoading:!1},this.getData()}buildURL(e=null){const{route:t,params:i}=e??this.props,{buildURL:r}=Nl(this.context);return r(t,i)}componentDidUpdate(e){if(e.debounce!==this.props.debounce&&(this._lazyGetData=Mo(this.getData,this.props.debounce)),this.buildURL()!==this.buildURL(e))return this._lazyGetData()}async getData(){this._didFetch=!1;const{route:e,params:t,opts:i}=this.props;if(e==null)return;const{get:r}=Hf(this.context);this.setState({isLoading:!0});const o=await r(e,t,i);this._didFetch=!0,this.props.onSuccess(o),this.setState({data:o,isLoading:!1})}renderInner(){const{data:e,isLoading:t}=this.state,{children:i}=this.props;if(typeof i=="function")return i(e);if(p.isValidElement(i))return p.cloneElement(i,{data:e,isLoading:t});throw new Error("The APIResultView component must have a single child element or a function")}render(){const{data:e,isLoading:t}=this.state,{placeholder:i}=this.props;return e==null&&i!=null?w(i,{isLoading:t}):Array.isArray(e)?w(Fv,{totalCount:e.length,indexOffset:0},this.renderInner()):this.renderInner()}};Zn.contextType=Uf,Zn.defaultProps={route:null,params:{},opts:{},debug:!1,onSuccess:()=>{},primaryKey:"id",placeholder:Uv,debounce:300,children:e=>w(Mf,{data:e})};let Wn=Zn;Wn.__docgenInfo={description:"",methods:[{name:"buildURL",docblock:null,modifiers:[],params:[{name:"props",optional:!0,type:null}],returns:null},{name:"getData",docblock:null,modifiers:["async"],params:[],returns:null},{name:"renderInner",docblock:null,modifiers:[],params:[],returns:null}],displayName:"APIResultView",props:{children:{required:!1,tsType:{name:"union",raw:`| React.ReactElement<{ data: T; isLoading: boolean }>
| ChildFunction<T>`,elements:[{name:"ReactReactElement",raw:"React.ReactElement<{ data: T; isLoading: boolean }>",elements:[{name:"signature",type:"object",raw:"{ data: T; isLoading: boolean }",signature:{properties:[{key:"data",value:{name:"T",required:!0}},{key:"isLoading",value:{name:"boolean",required:!0}}]}}]},{name:"signature",type:"function",raw:"(d: T) => React.ReactNode",signature:{arguments:[{type:{name:"T"},name:"d"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}}]},description:"",defaultValue:{value:`data => {
  return h(JSONView, { data });
}`,computed:!1}},placeholder:{required:!1,tsType:{name:"ReactComponentType",raw:"React.ComponentType<APIPlaceholderProps>",elements:[{name:"APIPlaceholderProps"}]},description:"",defaultValue:{value:`(props: APIPlaceholderProps) => {
  return h("div.api-result-placeholder", [h(Spinner)]);
}`,computed:!1}},params:{required:!1,tsType:{name:"union",raw:`| string
| string[][]
| QueryArgs
| APIParams
| URLSearchParams
| null`,elements:[{name:"string"},{name:"Array",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"}],raw:"string[][]"},{name:"QueryArgs"},{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},{name:"URLSearchParams"},{name:"null"}]},description:"",defaultValue:{value:"{}",computed:!1}},route:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},isLoading:{required:!0,tsType:{name:"boolean"},description:""},data:{required:!0,tsType:{name:"T"},description:""},totalCount:{required:!1,tsType:{name:"number"},description:""},pageCount:{required:!1,tsType:{name:"number"},description:""},onSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"(d: T) => void",signature:{arguments:[{type:{name:"T"},name:"d"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => {}",computed:!1}},debounce:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"300",computed:!1}},opts:{required:!1,tsType:{name:"Partial",elements:[{name:"APIConfig"}],raw:"Partial<APIConfig>"},description:"",defaultValue:{value:"{}",computed:!1}},debug:{defaultValue:{value:"false",computed:!1},required:!1},primaryKey:{defaultValue:{value:'"id"',computed:!1},required:!1}}};const Hv=n=>{const{currentPage:e,nextDisabled:t,setPage:i}=n;return w(Rv,[w(fe,{onClick:i(e-1),icon:"arrow-left",disabled:e<=0},"Previous"),w(fe,{onClick:i(e+1),rightIcon:"arrow-right",disabled:t},"Next")])},wo=class wo extends p.Component{constructor(e){super(e),this.setPage=this.setPage.bind(this),this.params=this.params.bind(this),this.state={currentPage:0,count:null}}setPage(e){return()=>this.setState({currentPage:e})}renderPagination(){this.props;const{count:e}=this.state;let t=!1,i=null,r=this.currentPage();const o=this.lastPage();return o!=null&&(r>=o&&(r=o,t=!0),i=w("div",{disabled:!0},[`${r+1} of ${o+1} (${e} records)`])),w("div.pagination-controls",[w(Hv,{currentPage:r,nextDisabled:t,setPage:this.setPage}),this.props.extraPagination,i])}lastPage(){const{count:e}=this.state,{perPage:t}=this.props;if(e==null)return null;let i=Math.floor(e/t);return e%t===0&&(i-=1),i}currentPage(){let{currentPage:e}=this.state;const t=this.lastPage();return t!=null&&e>=t?t:(e<0&&(e=0),e)}params(){const{params:e,perPage:t}=this.props;let{offset:i,limit:r,...o}=e;const s=this.currentPage();return i==null&&(i=0),i+=s*t,i<0&&(i=0),(r==null||r>t)&&(r=t),{offset:i,limit:r,...o}}render(){let{route:e,perPage:t,children:i,getTotalCount:r,primaryKey:o,count:s,topPagination:a,bottomPagination:l,extraPagination:u,params:c,opts:h,...d}=this.props;c=this.params();const{onResponse:f}=h;h={...h,onResponse:E=>{if(s=r(E),this.setState({count:s}),f!=null)return f(E)}};const g=E=>this.state.count===0?w(kv,{icon:"search",title:"No results"}):i(E);return w("div.pagination-container",d,[a?this.renderPagination():void 0,w(Wn,{route:e,params:c,opts:h,primaryKey:o},g),l?this.renderPagination():void 0])}};wo.defaultProps={count:null,perPage:20,topPagination:!1,bottomPagination:!0,extraPagination:null,opts:{},params:{},getTotalCount(e){const{headers:t}=e;return parseInt(t["x-total-count"])}};let Dr=wo;Dr.__docgenInfo={description:"",methods:[{name:"setPage",docblock:null,modifiers:[],params:[{name:"i",optional:!1,type:null}],returns:null},{name:"renderPagination",docblock:null,modifiers:[],params:[],returns:null},{name:"lastPage",docblock:null,modifiers:[],params:[],returns:null},{name:"currentPage",docblock:null,modifiers:[],params:[],returns:null},{name:"params",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PagedAPIView",props:{count:{defaultValue:{value:"null",computed:!1},required:!1},perPage:{defaultValue:{value:"20",computed:!1},required:!1},topPagination:{defaultValue:{value:"false",computed:!1},required:!1},bottomPagination:{defaultValue:{value:"true",computed:!1},required:!1},extraPagination:{defaultValue:{value:"null",computed:!1},required:!1},opts:{defaultValue:{value:"{}",computed:!1},required:!1},params:{defaultValue:{value:"{}",computed:!1},required:!1}}};const Bv=Su(fe,"ms-header-button"),Po=class Po extends p.Component{constructor(e){super(e),this.state={isOpen:!1}}componentWillMount(){const{storageID:e}=this.props;if(e==null)return;const t=this.savedState()[e];if(t!=null)return this.setState({isOpen:t})}savedState(){try{const e=window.localStorage.getItem("collapse-panel-state");return JSON.parse(e)||{}}catch{return{}}}checkLocalStorage(){const{storageID:e}=this.props;if(e==null)return;let t=this.savedState()[e]||null;return t==null&&(t=!1),this.setState({isOpen:t})}componentDidUpdate(e,t){const{storageID:i}=this.props;if(i==null)return;const{isOpen:r}=this.state;if(r===t.isOpen)return;const o=this.savedState();o[i]=r;const s=JSON.stringify(o);return window.localStorage.setItem("collapse-panel-state",s)}render(){let{title:e,children:t,storageID:i,headerRight:r,...o}=this.props;const{isOpen:s}=this.state,a=s?"collapse-all":"expand-all",l=()=>this.setState({isOpen:!s});return r==null&&(r=null),w("div.collapse-panel",o,[w("div.panel-header",[w(Bv,{icon:a,minimal:!0,onClick:l,fill:!0},[w("h2",e),w("span.expander")]),r]),w(Iv,{isOpen:s},t)])}};Po.defaultProps={title:"Panel",storageID:null};let Ir=Po;Ir.__docgenInfo={description:"",methods:[{name:"savedState",docblock:null,modifiers:[],params:[],returns:null},{name:"checkLocalStorage",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CollapsePanel",props:{storageID:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"null",computed:!1}},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Panel"',computed:!1}},headerRight:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const Vv=function(n){const{file:e}=n;return w(Av,{icon:"document"},e.name)},Yv=function(n){let{files:e,placeholder:t}=n;return t==null&&(t="Choose file..."),e==null||!(e.length>0)?t:w("div.files",e.map(i=>w(Vv,{file:i})))},No=class No extends p.Component{constructor(e){super(e),this.renderDropzone=this.renderDropzone.bind(this)}renderDropzone({getRootProps:e,getInputProps:t,isDragActive:i}){const{files:r}=this.props,o=e(),s=B("file-upload",{"dropzone-active":i}),a=t();a.style={},a.className="bp4-large";let l="Drop files here";return i||(l+=", or click to upload"),w("div",{className:s,...o},[w("label.bp4-file-input.bp4-large",[w("input",a),w("div.bp4-file-upload-input",[w(Yv,{files:r,placeholder:l})])])])}render(){return w(ku,{onDrop:this.props.onAddFile,onFileDialogCancel:this.props.onCancel},this.renderDropzone)}};No.defaultProps={onAddFile(){},onCancel(){}};let Mr=No;Mr.__docgenInfo={description:"",methods:[{name:"renderDropzone",docblock:null,modifiers:[],params:[{name:"{ getRootProps, getInputProps, isDragActive }",optional:!1,type:null}],returns:null}],displayName:"FileUploadComponent",props:{files:{required:!0,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""}}};class $v extends p.Component{constructor(e){super(e),this.state={imageSize:null}}render(){let{maxHeight:e,maxWidth:t,src:i}=this.props;const{imageSize:r}=this.state;return e==null&&(e=200),t==null&&(t=200),r!=null&&(e>r.height&&(e=r.height),t>r.width&&(t=r.width)),w("div.image-container",{style:{maxHeight:e,maxWidth:t}},[w("img",{src:i,style:{maxHeight:e,maxWidth:t}})])}componentDidMount(){const t=ee.findDOMNode(this).querySelector("img");return t.onload=()=>{const i=t.naturalHeight/2,r=t.naturalWidth/2;return this.setState({imageSize:{height:i,width:r}})}}}$v.__docgenInfo={description:"",methods:[],displayName:"ConfinedImage",props:{maxHeight:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},maxWidth:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},src:{required:!0,tsType:{name:"string"},description:""}}};var vi=Sm(),zv="".concat(vi,"-dateinput"),qv="".concat(zv,"-popover"),jt="".concat(vi,"-datepicker"),Yl="".concat(jt,"-caption"),Gv="".concat(Yl,"-measure"),Xv="".concat(jt,"-content"),Wv="".concat(jt,"-day-wrapper"),Kv="".concat(jt,"-footer"),jv="".concat(jt,"-month-select"),Zv="".concat(jt,"-year-select"),Qv="".concat(jt,"-navbar"),Jv="".concat(jt,"-timepicker-wrapper"),tg="".concat(vi,"-daterangepicker"),eg="".concat(tg,"-shortcuts"),Rt="".concat(vi,"-timepicker"),ng="".concat(Rt,"-arrow-button"),ks="".concat(Rt,"-arrow-row"),ig="".concat(Rt,"-divider-text"),Or="".concat(Rt,"-hour"),rg="".concat(Rt,"-input"),og="".concat(Rt,"-input-row"),$l="".concat(Rt,"-millisecond"),zl="".concat(Rt,"-minute"),ql="".concat(Rt,"-second"),sg="".concat(Rt,"-ampm-select"),kr;(function(n){n[n.JANUARY=0]="JANUARY",n[n.FEBRUARY=1]="FEBRUARY",n[n.MARCH=2]="MARCH",n[n.APRIL=3]="APRIL",n[n.MAY=4]="MAY",n[n.JUNE=5]="JUNE",n[n.JULY=6]="JULY",n[n.AUGUST=7]="AUGUST",n[n.SEPTEMBER=8]="SEPTEMBER",n[n.OCTOBER=9]="OCTOBER",n[n.NOVEMBER=10]="NOVEMBER",n[n.DECEMBER=11]="DECEMBER"})(kr||(kr={}));function be(n){return n instanceof Date&&!isNaN(n.valueOf())}function Re(n,e){return Ar(n,e)&&n.getDate()===e.getDate()}function Ar(n,e){return n!=null&&e!=null&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()}function Lr(n,e){return n!=null&&e!=null&&n.getHours()===e.getHours()&&n.getMinutes()===e.getMinutes()&&n.getSeconds()===e.getSeconds()&&n.getMilliseconds()===e.getMilliseconds()}function At(n){return new Date(n.getTime())}function Yt(n,e,t){if(t===void 0&&(t=!1),n==null)return!1;var i=At(n),r=At(e[0]),o=At(e[1]);return i.setHours(0,0,0,0),r.setHours(0,0,0,0),o.setHours(0,0,0,0),r<=i&&i<=o&&(!t||!Re(r,i)&&!Re(i,o))}function ag(n,e){return(n[0]==null||Yt(n[0],e))&&(n[1]==null||Yt(n[1],e))}function lg(n,e){if(n==null)return!1;var t=At(n),i=At(e[0]),r=At(e[1]);return t.setDate(1),i.setDate(1),r.setDate(1),t.setHours(0,0,0,0),i.setHours(0,0,0,0),r.setHours(0,0,0,0),i<=t&&t<=r}var Gl=function(n,e){return n.getTime()>=e.getTime()},As=function(n,e){return n.getTime()<=e.getTime()};function Xl(n,e,t){var i=en(n),r=en(e),o=en(t),s=Gl(i,r),a=As(i,o);return As(o,r)?s||a:s&&a}function Ls(n,e,t){return Lr(e,t)?t:Xl(n,e,t)?n:ug(n,t)?t:e}function ug(n,e){var t=en(n),i=en(e);return Gl(t,i)}function cg(n){var e=n[0].getTime(),t=n[1].getTime(),i=e+(t-e)*.5;return new Date(i)}function wn(n,e){return n==null?null:e==null?new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0):new Date(n.getFullYear(),n.getMonth(),n.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function en(n){return new Date(0,0,0,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function hg(n,e){if(n<0||n>23)throw new Error("hour must be between [0,23] inclusive: got ".concat(n));return e?n%12+12:n%12}function dg(n){if(n<0||n>23)throw new Error("hour must be between [0,23] inclusive: got ".concat(n));return n>=12}function Wl(n){if(n<0||n>23)throw new Error("hour must be between [0,23] inclusive: got ".concat(n));var e=n%12;return e===0?12:e}function pg(n,e){if(n<1||n>12)throw new Error("hour must be between [1,12] inclusive: got ".concat(n));var t=n===12?0:n;return e?t+12:t}function fg(n){return Re(n,new Date)}var ie,L;(function(n){n.HOUR_24="hour24",n.HOUR_12="hour12",n.MINUTE="minute",n.SECOND="second",n.MS="ms"})(L||(L={}));function Fs(n){var e,t=(e={},e[L.HOUR_24]="hours (24hr clock)",e[L.HOUR_12]="hours (12hr clock)",e[L.MINUTE]="minutes",e[L.SECOND]="seconds",e[L.MS]="milliseconds",e);return t[n]}function mg(n,e){switch(n){case L.HOUR_24:return e.getHours();case L.HOUR_12:return Wl(e.getHours());case L.MINUTE:return e.getMinutes();case L.SECOND:return e.getSeconds();case L.MS:return e.getMilliseconds();default:throw Error("Invalid TimeUnit")}}function vg(n,e,t,i){switch(n){case L.HOUR_24:t.setHours(e);break;case L.HOUR_12:t.setHours(pg(e,i));break;case L.MINUTE:t.setMinutes(e);break;case L.SECOND:t.setSeconds(e);break;case L.MS:t.setMilliseconds(e);break;default:throw Error("Invalid TimeUnit")}return t}function Us(n,e){return e!=null&&!isNaN(e)&&Kl(n)<=e&&e<=_o(n)}function gg(n,e){var t=_o(n),i=Kl(n);return e>t?i:e<i?t:e}function yg(n){return Co[n].className}function _o(n){return Co[n].max}function Kl(n){return Co[n].min}function Eg(){return new Date(0,0,0,jl,Zl,Ql,Jl)}function _g(){return new Date(0,0,0,tu,eu,nu,iu)}var jl=0,Cg=1,Zl=0,Ql=0,Jl=0,tu=23,bg=12,eu=59,nu=59,iu=999,Co=(ie={},ie[L.HOUR_24]={className:Or,max:tu,min:jl},ie[L.HOUR_12]={className:Or,max:bg,min:Cg},ie[L.MINUTE]={className:zl,max:eu,min:Zl},ie[L.SECOND]={className:ql,max:nu,min:Ql},ie[L.MS]={className:$l,max:iu,min:Jl},ie);function Vi(n,e,t){return t===void 0&&(t=!1),n==null?"":be(n)?t||Yt(n,[e.minDate,e.maxDate])?e.formatDate(n,e.locale):e.outOfRangeMessage:e.invalidDateMessage}var gi="[Blueprint]",ru=gi+" <DatePicker> defaultValue must be within minDate and maxDate bounds.",ou=gi+" <DatePicker> initialMonth must be within minDate and maxDate bounds.",su=gi+" <DatePicker> maxDate must be later than minDate.",au=gi+" <DatePicker> value prop must be within minDate and maxDate bounds.";ru.replace("DatePicker","DateRangePicker");ou.replace("DatePicker","DateRangePicker");su.replace("DatePicker","DateRangePicker");au.replace("DatePicker","DateRangePicker");function xg(n,e,t){if(e===void 0&&(e=""),t===void 0&&(t=document.body),t==null)return 0;var i=document.createElement("span");i.classList.add(e),i.textContent=n,t.appendChild(i);var r=i.offsetWidth;return i.remove(),r}function Hs(n,e){return n.length<e?"".concat(wg("0",e-n.length)).concat(n):n}function wg(n,e){return new Array(e+1).join(n)}var Pg=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={monthRightOffset:0},t.handleMonthSelectChange=t.dateChangeHandler(function(i,r){return i.setMonth(r)},t.props.onMonthChange),t.handleYearSelectChange=t.dateChangeHandler(function(i,r){return i.setFullYear(r)},t.props.onYearChange),t}return e.prototype.render=function(){for(var t=this,i=this.props,r=i.date,o=i.locale,s=i.localeUtils,a=i.minDate,l=i.maxDate,u=i.months,c=u===void 0?s.getMonths(o):u,h=a.getFullYear(),d=l.getFullYear(),f=r.getMonth(),m=r.getFullYear(),g=m===h?a.getMonth():0,E=m===d?l.getMonth()+1:void 0,b=c.map(function(O,F){return{label:O,value:F}}).slice(g,E),x=[h],C=h+1;C<=d;++C)x.push(C);m>d&&x.push({value:m,disabled:!0}),this.displayedMonthText=c[f];var _=p.createElement(Sr,{"aria-label":"Month",iconProps:{style:{right:this.state.monthRightOffset}},className:jv,key:"month",minimal:!0,onChange:this.handleMonthSelectChange,value:f,options:b}),S=p.createElement(Sr,{"aria-label":"Year",className:Zv,key:"year",minimal:!0,onChange:this.handleYearSelectChange,value:m,options:x}),I=this.props.reverseMonthAndYearMenus?[S,_]:[_,S];return p.createElement("div",{className:this.props.classNames.caption},p.createElement("div",{className:Yl,ref:function(O){return t.containerElement=O}},I),p.createElement(Tr,null))},e.prototype.componentDidMount=function(){var t=this;this.requestAnimationFrame(function(){return t.positionArrows()})},e.prototype.componentDidUpdate=function(){this.positionArrows()},e.prototype.positionArrows=function(){var t=xg(this.displayedMonthText,Gv,this.containerElement),i=this.containerElement==null?0:this.containerElement.firstElementChild.clientWidth,r=Math.max(2,i-t-Nt.STANDARD-2);this.setState({monthRightOffset:r})},e.prototype.dateChangeHandler=function(t,i){var r=this;return function(o){var s,a,l=parseInt(o.target.value,10);if(!isNaN(l)){var u=At(r.props.date);t(u,l),(a=(s=r.props).onDateChange)===null||a===void 0||a.call(s,u),i==null||i(l)}}},e}(et);function lu(){var n=new Date;return n.setMonth(n.getMonth()+6),n}function uu(){var n=new Date;return n.setFullYear(n.getFullYear()-20),n.setMonth(kr.JANUARY,1),n}var Ng=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handleNextClick=function(){return t.props.onNextClick()},t.handlePreviousClick=function(){return t.props.onPreviousClick()},t}return e.prototype.render=function(){var t=this.props,i=t.classNames,r=t.month,o=t.maxDate,s=t.minDate;return p.createElement("div",{className:B(Qv,i.navBar)},this.props.hideLeftNavButton||p.createElement(fe,{"aria-label":"Go to previous month",className:i.navButtonPrev,disabled:Ar(r,s),icon:"chevron-left",minimal:!0,onClick:this.handlePreviousClick}),this.props.hideRightNavButton||p.createElement(fe,{"aria-label":"Go to next month",className:i.navButtonNext,disabled:Ar(r,o),icon:"chevron-right",minimal:!0,onClick:this.handleNextClick}))},e}(p.PureComponent),Tg=function(n){W(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.getShorcutClickHandler=function(i,r){return function(){var o=t.props.onShortcutClick;o(i,r)}},t.isShortcutInRange=function(i){var r=t.props,o=r.minDate,s=r.maxDate;return ag(i,[o,s])},t}return e.prototype.render=function(){var t=this,i=this.props.shortcuts===!0?Sg(this.props.allowSingleDayRange,this.props.timePrecision!==void 0,this.props.useSingleDateShortcuts===!0):this.props.shortcuts,r=i.map(function(o,s){return p.createElement(Nv,{active:t.props.selectedShortcutIndex===s,disabled:!t.isShortcutInRange(o.dateRange),key:s,onClick:t.getShorcutClickHandler(o,s),shouldDismissPopover:!1,text:o.label})});return p.createElement(Bl,{"aria-label":"Date picker shortcuts",className:eg,tabIndex:0},r)},e.defaultProps={selectedShortcutIndex:-1},e}(p.PureComponent);function Zt(n,e){return{dateRange:e,label:n}}function Sg(n,e,t){var i=new Date,r=function(m){var g=At(i);return m(g),g.setDate(g.getDate()+1),g},o=r(function(){return null}),s=r(function(m){return m.setDate(m.getDate()-2)}),a=r(function(m){return m.setDate(m.getDate()-7)}),l=r(function(m){return m.setMonth(m.getMonth()-1)}),u=r(function(m){return m.setMonth(m.getMonth()-3)}),c=r(function(m){return m.setMonth(m.getMonth()-6)}),h=r(function(m){return m.setFullYear(m.getFullYear()-1)}),d=r(function(m){return m.setFullYear(m.getFullYear()-2)}),f=n||t?[Zt("Today",[i,e?o:i]),Zt("Yesterday",[s,e?i:s])]:[];return ye(ye(ye(ye(ye([],f,!0),[Zt(t?"1 week ago":"Past week",[a,i]),Zt(t?"1 month ago":"Past month",[l,i]),Zt(t?"3 months ago":"Past 3 months",[u,i])],!1),t?[]:[Zt("Past 6 months",[c,i])],!0),[Zt(t?"1 year ago":"Past year",[h,i])],!1),t?[]:[Zt("Past 2 years",[d,i])],!0)}var Yi={MILLISECOND:"millisecond",MINUTE:"minute",SECOND:"second"},Rg=function(n){W(e,n);function e(t,i){var r,o=n.call(this,t,i)||this;return o.timeInputIds=(r={},r[L.HOUR_24]=_e(L.HOUR_24+"-input"),r[L.HOUR_12]=_e(L.HOUR_12+"-input"),r[L.MINUTE]=_e(L.MINUTE+"-input"),r[L.SECOND]=_e(L.SECOND+"-input"),r[L.MS]=_e(L.MS+"-input"),r),o.getInputChangeHandler=function(s){return function(a){var l=Bs(a);switch(s){case L.HOUR_12:case L.HOUR_24:o.setState({hourText:l});break;case L.MINUTE:o.setState({minuteText:l});break;case L.SECOND:o.setState({secondText:l});break;case L.MS:o.setState({millisecondText:l});break}}},o.getInputBlurHandler=function(s){return function(a){var l,u,c=Bs(a);o.updateTime(parseInt(c,10),s),(u=(l=o.props).onBlur)===null||u===void 0||u.call(l,a,s)}},o.getInputFocusHandler=function(s){return function(a){var l,u;o.props.selectAllOnFocus&&a.currentTarget.select(),(u=(l=o.props).onFocus)===null||u===void 0||u.call(l,a,s)}},o.getInputKeyDownHandler=function(s){return function(a){var l,u,c;Dg(a,(l={},l[Jm]=function(){return o.incrementTime(s)},l[tv]=function(){return o.decrementTime(s)},l[fo]=function(){a.currentTarget.blur()},l)),(c=(u=o.props).onKeyDown)===null||c===void 0||c.call(u,a,s)}},o.getInputKeyUpHandler=function(s){return function(a){var l,u;(u=(l=o.props).onKeyUp)===null||u===void 0||u.call(l,a,s)}},o.handleAmPmChange=function(s){var a=s.currentTarget.value==="pm";if(a!==o.state.isPm){var l=hg(o.state.value.getHours(),a);o.setState({isPm:a},function(){return o.updateTime(l,L.HOUR_24)})}},o.incrementTime=function(s){return o.shiftTime(s,1)},o.decrementTime=function(s){return o.shiftTime(s,-1)},o.state=o.getFullStateFromValue(o.getInitialValue(),t.useAmPm),o}return e.prototype.render=function(){var t,i=this.props.precision===Yi.MILLISECOND,r=i||this.props.precision===Yi.SECOND,o=this.props.useAmPm?L.HOUR_12:L.HOUR_24,s=B(Rt,this.props.className,(t={},t[Fe]=this.props.disabled,t));return p.createElement("div",{className:s},p.createElement("div",{className:ks},this.maybeRenderArrowButton(!0,o),this.maybeRenderArrowButton(!0,L.MINUTE),r&&this.maybeRenderArrowButton(!0,L.SECOND),i&&this.maybeRenderArrowButton(!0,L.MS)),p.createElement("div",{className:og},this.renderInput(Or,o,this.state.hourText),this.renderDivider(),this.renderInput(zl,L.MINUTE,this.state.minuteText),r&&this.renderDivider(),r&&this.renderInput(ql,L.SECOND,this.state.secondText),i&&this.renderDivider("."),i&&this.renderInput($l,L.MS,this.state.millisecondText)),this.maybeRenderAmPm(),p.createElement("div",{className:ks},this.maybeRenderArrowButton(!1,o),this.maybeRenderArrowButton(!1,L.MINUTE),r&&this.maybeRenderArrowButton(!1,L.SECOND),i&&this.maybeRenderArrowButton(!1,L.MS)))},e.prototype.componentDidUpdate=function(t){var i=t.minTime!==this.props.minTime,r=t.maxTime!==this.props.maxTime,o=i||r,s=t.value!==this.props.value,a=o||s,l=this.state.value;this.props.value==null&&(l=this.getInitialValue()),o&&(l=Ls(this.state.value,this.props.minTime,this.props.maxTime)),this.props.value!=null&&!Lr(this.props.value,t.value)&&(l=this.props.value),a&&this.setState(this.getFullStateFromValue(l,this.props.useAmPm))},e.prototype.maybeRenderArrowButton=function(t,i){var r=this;if(!this.props.showArrowButtons)return null;var o=B(ng,yg(i)),s=function(){return(t?r.incrementTime:r.decrementTime)(i)},a="".concat(t?"Increase":"Decrease"," ").concat(Fs(i));return p.createElement("span",{"aria-controls":this.timeInputIds[i],"aria-label":a,tabIndex:-1,className:o,onClick:s},p.createElement(wt,{icon:t?"chevron-up":"chevron-down",title:a}))},e.prototype.renderDivider=function(t){return t===void 0&&(t=":"),p.createElement("span",{className:ig},t)},e.prototype.renderInput=function(t,i,r){var o,s=parseInt(r,10),a=Us(i,s),l=i===L.HOUR_12||i===L.HOUR_24;return p.createElement("input",{"aria-label":Fs(i),"aria-valuemin":0,"aria-valuenow":s,"aria-valuemax":_o(i),className:B(rg,(o={},o[gt(bt.DANGER)]=!a,o),t),id:this.timeInputIds[i],onBlur:this.getInputBlurHandler(i),onChange:this.getInputChangeHandler(i),onFocus:this.getInputFocusHandler(i),onKeyDown:this.getInputKeyDownHandler(i),onKeyUp:this.getInputKeyUpHandler(i),role:this.props.showArrowButtons?"spinbutton":void 0,value:r,disabled:this.props.disabled,autoFocus:l&&this.props.autoFocus})},e.prototype.maybeRenderAmPm=function(){return this.props.useAmPm?p.createElement(Sr,{className:sg,disabled:this.props.disabled,onChange:this.handleAmPmChange,value:this.state.isPm?"pm":"am"},p.createElement("option",{value:"am"},"AM"),p.createElement("option",{value:"pm"},"PM")):null},e.prototype.getFullStateFromValue=function(t,i){var r=Ls(t,this.props.minTime,this.props.maxTime),o=i?L.HOUR_12:L.HOUR_24;return{hourText:Pn(r.getHours(),o),minuteText:Pn(r.getMinutes(),L.MINUTE),secondText:Pn(r.getSeconds(),L.SECOND),millisecondText:Pn(r.getMilliseconds(),L.MS),value:r,isPm:dg(r.getHours())}},e.prototype.shiftTime=function(t,i){if(!this.props.disabled){var r=mg(t,this.state.value)+i;this.updateTime(gg(t,r),t)}},e.prototype.updateTime=function(t,i){var r=At(this.state.value);Us(i,t)?(vg(i,t,r,this.state.isPm),Xl(r,this.props.minTime,this.props.maxTime)?this.updateState({value:r}):this.updateState(this.getFullStateFromValue(this.state.value,this.props.useAmPm))):this.updateState(this.getFullStateFromValue(this.state.value,this.props.useAmPm))},e.prototype.updateState=function(t){var i,r,o=t,s=o.value!=null&&!Lr(o.value,this.state.value);this.props.value==null?(s&&(o=this.getFullStateFromValue(o.value,this.props.useAmPm)),this.setState(o)):s?this.setState(this.getFullStateFromValue(this.state.value,this.props.useAmPm)):this.setState(k(k({},o),{value:At(this.state.value)})),s&&((r=(i=this.props).onChange)===null||r===void 0||r.call(i,o.value))},e.prototype.getInitialValue=function(){var t=this.props.minTime;return this.props.value!=null?t=this.props.value:this.props.defaultValue!=null&&(t=this.props.defaultValue),t},e.defaultProps={autoFocus:!1,disabled:!1,maxTime:_g(),minTime:Eg(),precision:Yi.MINUTE,selectAllOnFocus:!1,showArrowButtons:!1,useAmPm:!1},e.displayName="".concat(J,".TimePicker"),e}(p.Component);function Pn(n,e){switch(e){case L.HOUR_24:return n.toString();case L.HOUR_12:return Wl(n).toString();case L.MINUTE:case L.SECOND:return Hs(n.toString(),2);case L.MS:return Hs(n.toString(),3);default:throw Error("Invalid TimeUnit")}}function Bs(n){return n.target.value}function Dg(n,e,t){t===void 0&&(t=!0);for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i],s=Number(o);n.which===s&&(t&&n.preventDefault(),e[s]())}}var Ig=function(n){W(e,n);function e(t,i){var r=n.call(this,t,i)||this;r.ignoreNextMonthChange=!1,r.shouldHighlightCurrentDay=function(a){var l=r.props.highlightCurrentDay;return l&&fg(a)},r.getDatePickerModifiers=function(){var a=r.props.modifiers;return k({isToday:r.shouldHighlightCurrentDay},a)},r.renderDay=function(a){var l=a.getDate();return p.createElement("div",{className:Wv},l)},r.disabledDays=function(a){return!Yt(a,[r.props.minDate,r.props.maxDate])},r.getDisabledDaysModifier=function(){var a=r.props.dayPickerProps.disabledDays;return Array.isArray(a)?ye([r.disabledDays],a,!0):[r.disabledDays,a]},r.renderCaption=function(a){return p.createElement(Pg,k({},a,{maxDate:r.props.maxDate,minDate:r.props.minDate,onDateChange:r.handleMonthChange,reverseMonthAndYearMenus:r.props.reverseMonthAndYearMenus}))},r.renderNavbar=function(a){return p.createElement(Ng,k({},a,{maxDate:r.props.maxDate,minDate:r.props.minDate}))},r.handleDayClick=function(a,l,u){var c,h;if((h=(c=r.props.dayPickerProps).onDayClick)===null||h===void 0||h.call(c,a,l,u),!l.disabled){r.updateDay(a);var d=r.props.canClearSelection&&l.selected?null:wn(a,r.state.value);r.updateValue(d,!0)}},r.handleShortcutClick=function(a,l){var u=r.props,c=u.onShortcutChange,h=u.selectedShortcutIndex,d=a.dateRange,f=a.includeTime,m=d[0],g=f?m:wn(m,r.state.value);r.updateDay(m),r.updateValue(g,!0),h===void 0&&r.setState({selectedShortcutIndex:l});var E=k(k({},a),{date:a.dateRange[0]});c==null||c(E,l)},r.updateDay=function(a){r.props.value===void 0&&r.setState({displayMonth:a.getMonth(),displayYear:a.getFullYear(),selectedDay:a.getDate()}),r.state.value!=null&&r.state.value.getMonth()!==a.getMonth()&&(r.ignoreNextMonthChange=!0)},r.handleClearClick=function(){return r.updateValue(null,!0)},r.handleMonthChange=function(a){var l,u,c=r.computeValidDateInSpecifiedMonthYear(a.getFullYear(),a.getMonth());r.setState({displayMonth:c.getMonth(),displayYear:c.getFullYear()}),r.state.value!==null&&(r.updateValue(c,!1,r.ignoreNextMonthChange),r.ignoreNextMonthChange=!1),(u=(l=r.props.dayPickerProps).onMonthChange)===null||u===void 0||u.call(l,c)},r.handleTodayClick=function(){var a=new Date,l=a.getMonth(),u=a.getFullYear(),c=a.getDate();r.setState({displayMonth:l,displayYear:u,selectedDay:c}),r.updateValue(a,!0)},r.handleTimeChange=function(a){var l,u;(u=(l=r.props.timePickerProps)===null||l===void 0?void 0:l.onChange)===null||u===void 0||u.call(l,a);var c=r.state.value,h=wn(c??new Date,a);r.updateValue(h,!0)};var o=Mg(t),s=Og(t,o);return r.state={displayMonth:s.getMonth(),displayYear:s.getFullYear(),selectedDay:o==null?null:o.getDate(),selectedShortcutIndex:r.props.selectedShortcutIndex!==void 0?r.props.selectedShortcutIndex:-1,value:o},r}return e.prototype.render=function(){var t,i=this.props,r=i.className,o=i.dayPickerProps,s=i.footerElement,a=i.locale,l=i.localeUtils,u=i.maxDate,c=i.minDate,h=i.showActionsBar,d=this.state,f=d.displayMonth,m=d.displayYear;return p.createElement("div",{className:B(jt,r)},this.maybeRenderShortcuts(),p.createElement("div",{className:Xv},p.createElement(Au,k({showOutsideDays:!0,locale:a,localeUtils:l,modifiers:this.getDatePickerModifiers()},o,{canChangeMonth:!0,captionElement:this.renderCaption,navbarElement:this.renderNavbar,disabledDays:this.getDisabledDaysModifier(),fromMonth:c,month:new Date(m,f),onDayClick:this.handleDayClick,onMonthChange:this.handleMonthChange,selectedDays:this.state.value,toMonth:u,renderDay:(t=o==null?void 0:o.renderDay)!==null&&t!==void 0?t:this.renderDay})),this.maybeRenderTimePicker(),h&&this.renderOptionsBar(),s))},e.prototype.componentDidUpdate=function(t,i){n.prototype.componentDidUpdate.call(this,t,i);var r=this.props.value;r!==t.value&&(r==null?this.setState({value:r}):this.setState({displayMonth:r.getMonth(),displayYear:r.getFullYear(),selectedDay:r.getDate(),value:r}),this.props.selectedShortcutIndex!==t.selectedShortcutIndex&&this.setState({selectedShortcutIndex:this.props.selectedShortcutIndex}))},e.prototype.validateProps=function(t){var i=t.defaultValue,r=t.initialMonth,o=t.maxDate,s=t.minDate,a=t.value;i!=null&&!Yt(i,[s,o])&&console.error(ru),r!=null&&!lg(r,[s,o])&&console.error(ou),o!=null&&s!=null&&o<s&&!Re(o,s)&&console.error(su),a!=null&&!Yt(a,[s,o])&&console.error(au)},e.prototype.renderOptionsBar=function(){var t=this.props,i=t.clearButtonText,r=t.todayButtonText,o=t.minDate,s=t.maxDate,a=t.canClearSelection,l=kg(o,s);return[p.createElement(Tr,{key:"div"}),p.createElement("div",{className:Kv,key:"footer"},p.createElement(fe,{minimal:!0,disabled:!l,onClick:this.handleTodayClick,text:r}),p.createElement(fe,{disabled:!a,minimal:!0,onClick:this.handleClearClick,text:i}))]},e.prototype.maybeRenderTimePicker=function(){var t=this.props,i=t.timePrecision,r=t.timePickerProps,o=t.minDate,s=t.maxDate;if(i==null&&r===void 0)return null;var a=Re(this.state.value,o),l=Re(this.state.value,s);return p.createElement("div",{className:Jv},p.createElement(Rg,k({precision:i,minTime:a?o:void 0,maxTime:l?s:void 0},r,{onChange:this.handleTimeChange,value:this.state.value})))},e.prototype.maybeRenderShortcuts=function(){var t=this.props.shortcuts;if(t==null||t===!1)return null;var i=this.state.selectedShortcutIndex,r=this.props,o=r.maxDate,s=r.minDate,a=r.timePrecision,l=t===!0?!0:t.map(function(u){return k(k({},u),{dateRange:[u.date,void 0]})});return[p.createElement(Tg,k({key:"shortcuts"},{allowSingleDayRange:!0,maxDate:o,minDate:s,selectedShortcutIndex:i,shortcuts:l,timePrecision:a},{onShortcutClick:this.handleShortcutClick,useSingleDateShortcuts:!0})),p.createElement(Tr,{key:"div"})]},e.prototype.computeValidDateInSpecifiedMonthYear=function(t,i){var r=this.props,o=r.minDate,s=r.maxDate,a=this.state.selectedDay,l=new Date(t,i+1,0).getDate(),u=a==null?1:Math.min(a,l),c=wn(new Date(t,i,u,12),this.state.value);return c<o?o:c>s?s:c},e.prototype.updateValue=function(t,i,r){var o,s;r===void 0&&(r=!1),r||(s=(o=this.props).onChange)===null||s===void 0||s.call(o,t,i),this.props.value===void 0&&this.setState({value:t})},e.defaultProps={canClearSelection:!0,clearButtonText:"Clear",dayPickerProps:{},highlightCurrentDay:!1,maxDate:lu(),minDate:uu(),reverseMonthAndYearMenus:!1,shortcuts:!1,showActionsBar:!1,todayButtonText:"Today"},e.displayName="".concat(J,".DatePicker"),e}(et);function Mg(n){return n.value!==void 0?n.value:n.defaultValue!==void 0?n.defaultValue:null}function Og(n,e){var t=new Date;return n.initialMonth!=null?n.initialMonth:e??(Yt(t,[n.minDate,n.maxDate])?t:cg([n.minDate,n.maxDate]))}function kg(n,e){var t=new Date;return Yt(t,[n,e])}var Ag=function(n){W(e,n);function e(){var t=this,i;return t=n.apply(this,arguments)||this,t.state={isInputFocused:!1,isOpen:!1,value:t.props.value!==void 0?t.props.value:t.props.defaultValue,valueString:null},t.inputElement=null,t.popoverContentElement=null,t.handleInputRef=Vt(t,"inputElement",(i=t.props.inputProps)===null||i===void 0?void 0:i.inputRef),t.handlePopoverContentRef=Vt(t,"popoverContentElement"),t.handleClosePopover=function(r){var o,s=t.props.popoverProps,a=s===void 0?{}:s;(o=a.onClose)===null||o===void 0||o.call(a,r),t.setState({isOpen:!1})},t.handleDateChange=function(r,o,s){var a,l;s===void 0&&(s=!1);var u=t.state.value,c=!o||!t.props.closeOnSelection||u!=null&&(t.hasMonthChanged(u,r)||t.hasTimeChanged(u,r)),h=!!s;if(t.props.value===void 0){var d=Vi(r,t.props);t.setState({isInputFocused:h,isOpen:c,value:r,valueString:d})}else t.setState({isInputFocused:h,isOpen:c});(l=(a=t.props).onChange)===null||l===void 0||l.call(a,r,o)},t.handleInputFocus=function(r){var o=t.state.value==null?"":t.formatDate(t.state.value);t.setState({isInputFocused:!0,isOpen:!0,valueString:o}),t.safeInvokeInputProp("onFocus",r)},t.handleInputClick=function(r){r.stopPropagation(),t.safeInvokeInputProp("onClick",r)},t.handleInputChange=function(r){var o,s,a,l,u=r.target.value,c=t.parseDate(u);be(c)&&t.isDateInRange(c)?(t.props.value===void 0?t.setState({value:c,valueString:u}):t.setState({valueString:u}),(s=(o=t.props).onChange)===null||s===void 0||s.call(o,c,!0)):(u.length===0&&((l=(a=t.props).onChange)===null||l===void 0||l.call(a,null,!0)),t.setState({valueString:u})),t.safeInvokeInputProp("onChange",r)},t.handleInputBlur=function(r){var o,s,a,l,u,c,h=t.state.valueString,d=t.parseDate(h);h.length>0&&h!==Vi(t.state.value,t.props)&&(!be(d)||!t.isDateInRange(d))?(t.props.value===void 0?t.setState({isInputFocused:!1,value:d,valueString:null}):t.setState({isInputFocused:!1}),isNaN(d.valueOf())?(s=(o=t.props).onError)===null||s===void 0||s.call(o,new Date(void 0)):t.isDateInRange(d)?(c=(u=t.props).onChange)===null||c===void 0||c.call(u,d,!0):(l=(a=t.props).onError)===null||l===void 0||l.call(a,d)):h.length===0?t.setState({isInputFocused:!1,value:null,valueString:null}):t.setState({isInputFocused:!1}),t.safeInvokeInputProp("onBlur",r)},t.handleInputKeyDown=function(r){var o,s;if(r.which===fo){var a=t.parseDate(t.state.valueString);t.handleDateChange(a,!0,!0)}else r.which===wr&&r.shiftKey?t.handleClosePopover():r.which===wr&&t.state.isOpen?((o=t.getKeyboardFocusableElements().shift())===null||o===void 0||o.focus(),r.preventDefault()):r.which===Zm&&(t.setState({isOpen:!1}),(s=t.inputElement)===null||s===void 0||s.blur());t.safeInvokeInputProp("onKeyDown",r)},t.getKeyboardFocusableElements=function(){var r,o=Array.from((r=t.popoverContentElement)===null||r===void 0?void 0:r.querySelectorAll("button:not([disabled]),input,[tabindex]:not([tabindex='-1'])"));return o.pop(),o.shift(),o},t.handleStartFocusBoundaryFocusIn=function(r){var o,s;t.popoverContentElement.contains(t.getRelatedTarget(r))?(o=t.inputElement)===null||o===void 0||o.focus():(s=t.getKeyboardFocusableElements().shift())===null||s===void 0||s.focus()},t.handleEndFocusBoundaryFocusIn=function(r){var o,s;t.popoverContentElement.contains(t.getRelatedTarget(r))?((o=t.inputElement)===null||o===void 0||o.focus(),t.handleClosePopover()):(s=t.getKeyboardFocusableElements().pop())===null||s===void 0||s.focus()},t.handleShortcutChange=function(r,o){t.setState({selectedShortcutIndex:o})},t}return e.prototype.render=function(){var t=this,i=this.state,r=i.value,o=i.valueString,s=this.state.isInputFocused?o:Vi(r,this.props),a=be(r)?r:null,l=k(k({},this.props.dayPickerProps),{onDayKeyDown:function(E,b,x){var C,_;(_=(C=t.props.dayPickerProps).onDayKeyDown)===null||_===void 0||_.call(C,E,b,x)},onMonthChange:function(E){var b,x;(x=(b=t.props.dayPickerProps).onMonthChange)===null||x===void 0||x.call(b,E)}}),u=p.createElement("div",{ref:this.handlePopoverContentRef},p.createElement("div",{onFocus:this.handleStartFocusBoundaryFocusIn,tabIndex:0}),p.createElement(Ig,k({},this.props,{dayPickerProps:l,onChange:this.handleDateChange,value:a,onShortcutChange:this.handleShortcutChange,selectedShortcutIndex:this.state.selectedShortcutIndex})),p.createElement("div",{onFocus:this.handleEndFocusBoundaryFocusIn,tabIndex:0})),c=this.props,h=c.inputProps,d=h===void 0?{}:h,f=c.popoverProps,m=f===void 0?{}:f,g=r!=null&&(!be(r)||!this.isDateInRange(r));return p.createElement(Eo,k({isOpen:this.state.isOpen&&!this.props.disabled,fill:this.props.fill},m,{autoFocus:!1,className:B(m.className,this.props.className),content:u,enforceFocus:!1,onClose:this.handleClosePopover,popoverClassName:B(qv,m.popoverClassName)}),p.createElement(Ov,k({autoComplete:"off",intent:g?bt.DANGER:bt.NONE,placeholder:this.props.placeholder,rightElement:this.props.rightElement,type:"text"},d,{disabled:this.props.disabled,inputRef:this.handleInputRef,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onClick:this.handleInputClick,onFocus:this.handleInputFocus,onKeyDown:this.handleInputKeyDown,value:s})))},e.prototype.componentDidUpdate=function(t,i){var r,o,s,a,l;n.prototype.componentDidUpdate.call(this,t,i),((r=t.inputProps)===null||r===void 0?void 0:r.inputRef)!==((o=this.props.inputProps)===null||o===void 0?void 0:o.inputRef)&&(qt((s=t.inputProps)===null||s===void 0?void 0:s.inputRef,null),this.handleInputRef=Vt(this,"inputElement",(a=this.props.inputProps)===null||a===void 0?void 0:a.inputRef),qt((l=this.props.inputProps)===null||l===void 0?void 0:l.inputRef,this.inputElement)),t.value!==this.props.value&&this.setState({value:this.props.value})},e.prototype.isDateInRange=function(t){return Yt(t,[this.props.minDate,this.props.maxDate])},e.prototype.hasMonthChanged=function(t,i){return t==null!=(i==null)||i.getMonth()!==t.getMonth()},e.prototype.hasTimeChanged=function(t,i){return this.props.timePrecision==null?!1:t==null!=(i==null)||i.getHours()!==t.getHours()||i.getMinutes()!==t.getMinutes()||i.getSeconds()!==t.getSeconds()||i.getMilliseconds()!==t.getMilliseconds()},e.prototype.getRelatedTarget=function(t){var i;return(i=t.relatedTarget)!==null&&i!==void 0?i:document.activeElement},e.prototype.safeInvokeInputProp=function(t,i){var r,o=this.props.inputProps,s=o===void 0?{}:o;(r=s[t])===null||r===void 0||r.call(s,i)},e.prototype.parseDate=function(t){if(t===this.props.outOfRangeMessage||t===this.props.invalidDateMessage)return null;var i=this.props,r=i.locale,o=i.parseDate,s=o(t,r);return s===!1?new Date(void 0):s},e.prototype.formatDate=function(t){if(!be(t)||!this.isDateInRange(t))return"";var i=this.props,r=i.locale,o=i.formatDate;return o(t,r)},e.displayName="".concat(J,".DateInput"),e.defaultProps={closeOnSelection:!0,dayPickerProps:{},disabled:!1,invalidDateMessage:"Invalid date",maxDate:lu(),minDate:uu(),outOfRangeMessage:"Out of range",reverseMonthAndYearMenus:!1},e}(et);const cu=p.createContext({}),To=class To extends xl{constructor(e){super(e),this.getValue=this.getValue.bind(this),this.hasChanges=this.hasChanges.bind(this),this.onChange=this.onChange.bind(this),this.toggleEditing=this.toggleEditing.bind(this),this.persistChanges=this.persistChanges.bind(this),this.onPersistChanges=this.onPersistChanges.bind(this),this.state={isEditing:e.isEditing||!1,isPersisting:null,error:null,model:e.model,initialModel:e.model}}render(){const{model:e}=this.state,{canEdit:t}=this.props,i=this.state.isEditing&&t,o={actions:this,model:e,isEditing:i,canEdit:t,hasChanges:this.hasChanges};return w(cu.Provider,{value:o},this.props.children)}getValue(e){return this.state.model[e]}hasChanges(e){return e==null?this.state.initialModel!==this.state.model:this.state.initialModel[e]!==this.state.model[e]}onChange(e){return t=>this.updateState({model:{[e]:{$set:t}}})}toggleEditing(){const e={$toggle:["isEditing"]};return this.state.isEditing&&(e.model={$set:this.state.initialModel}),this.updateState(e)}onPersistChanges(){return this.persistChanges(null)}async persistChanges(e){const{persistChanges:t}=this.props;let i=this.state.model;e!=null&&(console.log(e),i=De(this.state.model,e)),console.log(i);let r=null;if(t==null)return null;try{this.updateState({isPersisting:{$set:!0}});const o={};for(let s in i){const a=i[s];a!==this.state.initialModel[s]&&(o[s]=a)}r=await t(i,o)}catch(o){console.error(o)}finally{if(e={isPersisting:{$set:!1}},r!=null){const o=De(this.state.initialModel,{$merge:r});console.log(o),e.model={$set:o},e.initialModel={$set:o}}this.updateState(e)}}componentDidUpdate(e){if(e==null||e===this.props)return;const t={};return this.props.isEditing!==e.isEditing&&this.props.isEditing!==this.state.isEditing&&(t.isEditing={$set:this.props.isEditing}),this.props.model!==e.model&&(t.initialModel={$set:this.props.model},this.props.isEditing||(t.model={$set:this.props.model})),this.updateState(t)}};To.defaultProps={canEdit:!0};let Fr=To;const So=class So extends p.Component{render(){const{field:e}=this.props,{actions:t,model:i,isEditing:r}=this.context,o=i[e];return r?w(Ag,{className:"date-input",value:new Date(o),formatDate:s=>s.toLocaleDateString(),placeholder:"MM/DD/YYYY",showActionsBar:!0,onChange:t.onChange(e),parseDate(s){return new Date(s)}}):w("div.date-input.disabled",o)}};So.contextType=cu;let Ur=So;Fr.__docgenInfo={description:"",methods:[{name:"getValue",docblock:null,modifiers:[],params:[{name:"field",optional:!1,type:null}],returns:null},{name:"hasChanges",docblock:null,modifiers:[],params:[{name:"field",optional:!1,type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"field",optional:!1,type:null}],returns:null},{name:"toggleEditing",docblock:null,modifiers:[],params:[],returns:null},{name:"onPersistChanges",docblock:null,modifiers:[],params:[],returns:null},{name:"persistChanges",docblock:null,modifiers:["async"],params:[{name:"spec",optional:!1,type:{name:"union",raw:"any | undefined",elements:[{name:"any"},{name:"undefined"}]}}],returns:null}],displayName:"ModelEditor",props:{model:{required:!0,tsType:{name:"T"},description:""},canEdit:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},isEditing:{required:!0,tsType:{name:"boolean"},description:""}}};Ur.__docgenInfo={description:"",methods:[],displayName:"EditableDateField"};p.createContext(null);p.createContext({isSystemPreferred:null,isEnabled:!1,isAutoset:!1});p.createContext(null);const Lg="_controls_1a2k9_15",Fg={"mui-slider-disabled":"_mui-slider-disabled_1a2k9_1","bp4-slider-handle":"_bp4-slider-handle_1a2k9_1","nullable-slider":"_nullable-slider_1a2k9_5","bp4-slider":"_bp4-slider_1a2k9_1",controls:Lg};Gt(Fg);function Ug(n){const e=p.createContext(n),t=p.createContext(null);return[function(s){let{storageID:a,children:l,...u}=s,c=null;if(console.log("Setting up SettingsProvider [ui-components]"),a!=null){c=new Df(a);const m=c.get()||{};console.log("Loading from local storage",m),u=De(u,{$merge:m})}const[h,d]=p.useState(u),f=function(m){const g=De(h,m);if(d(g),c!=null)return c.set(g)};return w(e.Provider,{value:h},[w(t.Provider,{value:f},l)])},()=>p.useContext(e),s=>{const a=p.useContext(t);return s==null?a:l=>a({[s]:l})}]}Ug({});function Hg(n){const{error:e,title:t="Unknown error"}=n;return w(Dv,{title:t,icon:"error",intent:"danger"},w("p",null,n.description??(e==null?void 0:e.toString())??"No description available"))}class Bg extends p.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){var i,r;console.log(e),(r=(i=this.props).onCatch)==null||r.call(i,e,t)}render(){const{error:e}=this.state,{override:t=!1}=this.props;return e!=null||t?this.props.fallback!=null?this.props.fallback:w(Hg,{error:e,description:this.props.description??(e==null?void 0:e.toString())??"No description available",title:this.props.title??"A rendering error has occured"}):this.props.children}}Bg.__docgenInfo={description:"",methods:[],displayName:"ErrorBoundary",props:{description:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""},fallback:{required:!1,tsType:{name:"ReactNode"},description:""},override:{required:!1,tsType:{name:"boolean"},description:""}}};const Vg="_panel_c4722_1",Yg="_expander_c4722_25",$g="_minimal_c4722_52",zg={"panel-header":"_panel-header_c4722_1","overflow-hidden":"_overflow-hidden_c4722_15",panel:Vg,"content-panel":"_content-panel_c4722_21",expander:Yg,"panel-column":"_panel-column_c4722_29",minimal:$g,"panel-content":"_panel-content_c4722_55","panel-outer":"_panel-outer_c4722_69","panel-container-inner":"_panel-container-inner_c4722_76","extra-space":"_extra-space_c4722_89","panel-container":"_panel-container_c4722_76"};Gt(zg);const qg="_spacer_187rs_11",Gg="_expanded_187rs_34",Xg={"user-interface":"_user-interface_187rs_1",spacer:qg,"three-column":"_three-column_187rs_15","main-column":"_main-column_187rs_30","context-column":"_context-column_187rs_34",expanded:Gg};w.styled(Xg);p.createContext(n=>n);class Bt{constructor(e=0,t=0){this.x=e,this.y=t}clone(){return new this.constructor(this.x,this.y)}add(e){return new this.constructor(this.x+e.x,this.y+e.y)}subtract(e){return new this.constructor(this.x-e.x,this.y-e.y)}multiply(e){return new this.constructor(this.x*e,this.y*e)}divide(e){return new this.constructor(this.x/e,this.y/e)}equals(e){return this.x===e.x&&this.y===e.y}precisionEquals(e,t){return Math.abs(this.x-e.x)<t&&Math.abs(this.y-e.y)<t}lerp(e,t){const i=1-t;return new this.constructor(this.x*i+e.x*t,this.y*i+e.y*t)}distanceFrom(e){const t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)}min(e){return new this.constructor(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new this.constructor(Math.max(this.x,e.x),Math.max(this.y,e.y))}transform(e){return new this.constructor(e.a*this.x+e.c*this.y+e.e,e.b*this.x+e.d*this.y+e.f)}toString(){return`point(${this.x},${this.y})`}}class Te{constructor(e=0,t=0){this.x=e,this.y=t}static fromPoints(e,t){return new Te(t.x-e.x,t.y-e.y)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}magnitude(){return this.x*this.x+this.y*this.y}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}determinant(e){return this.x*e.y-this.y*e.x}unit(){return this.divide(this.length())}add(e){return new this.constructor(this.x+e.x,this.y+e.y)}subtract(e){return new this.constructor(this.x-e.x,this.y-e.y)}multiply(e){return new this.constructor(this.x*e,this.y*e)}divide(e){return new this.constructor(this.x/e,this.y/e)}angleBetween(e){let t=this.dot(e)/(this.length()*e.length());t=Math.max(-1,Math.min(t,1));const i=Math.acos(t);return this.cross(e)<0?-i:i}perp(){return new this.constructor(-this.y,this.x)}perpendicular(e){return this.subtract(this.project(e))}project(e){const t=this.dot(e)/e.dot(e);return e.multiply(t)}transform(e){return new this.constructor(e.a*this.x+e.c*this.y,e.b*this.x+e.d*this.y)}equals(e){return this.x===e.x&&this.y===e.y}precisionEquals(e,t){return Math.abs(this.x-e.x)<t&&Math.abs(this.y-e.y)<t}toString(){return`vector(${this.x},${this.y})`}}class ut{constructor(e=1,t=0,i=0,r=1,o=0,s=0){this.a=e,this.b=t,this.c=i,this.d=r,this.e=o,this.f=s}static translation(e,t){return new ut(1,0,0,1,e,t)}static scaling(e){return new ut(e,0,0,e,0,0)}static scalingAt(e,t){return new ut(e,0,0,e,t.x-t.x*e,t.y-t.y*e)}static nonUniformScaling(e,t){return new ut(e,0,0,t,0,0)}static nonUniformScalingAt(e,t,i){return new ut(e,0,0,t,i.x-i.x*e,i.y-i.y*t)}static rotation(e){const t=Math.cos(e),i=Math.sin(e);return new ut(t,i,-i,t,0,0)}static rotationAt(e,t){const i=Math.cos(e),r=Math.sin(e);return new ut(i,r,-r,i,t.x-t.x*i+t.y*r,t.y-t.y*i-t.x*r)}static rotationFromVector(e){const t=e.unit(),i=t.x,r=t.y;return new ut(i,r,-r,i,0,0)}static xFlip(){return new ut(-1,0,0,1,0,0)}static yFlip(){return new ut(1,0,0,-1,0,0)}static xSkew(e){const t=Math.tan(e);return new ut(1,0,t,1,0,0)}static ySkew(e){const t=Math.tan(e);return new ut(1,t,0,1,0,0)}multiply(e){return this.isIdentity()?e:e.isIdentity()?this:new this.constructor(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}inverse(){if(this.isIdentity())return this;const e=this.a*this.d-this.b*this.c;if(e===0)throw new Error("Matrix is not invertible");const t=1/e,i=this.f*this.c-this.e*this.d,r=this.e*this.b-this.f*this.a;return new this.constructor(this.d*t,-this.b*t,-this.c*t,this.a*t,i*t,r*t)}translate(e,t){return new this.constructor(this.a,this.b,this.c,this.d,this.a*e+this.c*t+this.e,this.b*e+this.d*t+this.f)}scale(e){return new this.constructor(this.a*e,this.b*e,this.c*e,this.d*e,this.e,this.f)}scaleAt(e,t){const i=t.x-e*t.x,r=t.y-e*t.y;return new this.constructor(this.a*e,this.b*e,this.c*e,this.d*e,this.a*i+this.c*r+this.e,this.b*i+this.d*r+this.f)}scaleNonUniform(e,t){return new this.constructor(this.a*e,this.b*e,this.c*t,this.d*t,this.e,this.f)}scaleNonUniformAt(e,t,i){const r=i.x-e*i.x,o=i.y-t*i.y;return new this.constructor(this.a*e,this.b*e,this.c*t,this.d*t,this.a*r+this.c*o+this.e,this.b*r+this.d*o+this.f)}rotate(e){const t=Math.cos(e),i=Math.sin(e);return new this.constructor(this.a*t+this.c*i,this.b*t+this.d*i,this.a*-i+this.c*t,this.b*-i+this.d*t,this.e,this.f)}rotateAt(e,t){const i=Math.cos(e),r=Math.sin(e),o=t.x,s=t.y,a=this.a*i+this.c*r,l=this.b*i+this.d*r,u=this.c*i-this.a*r,c=this.d*i-this.b*r;return new this.constructor(a,l,u,c,(this.a-a)*o+(this.c-u)*s+this.e,(this.b-l)*o+(this.d-c)*s+this.f)}rotateFromVector(e){const t=e.unit(),i=t.x,r=t.y;return new this.constructor(this.a*i+this.c*r,this.b*i+this.d*r,this.a*-r+this.c*i,this.b*-r+this.d*i,this.e,this.f)}flipX(){return new this.constructor(-this.a,-this.b,this.c,this.d,this.e,this.f)}flipY(){return new this.constructor(this.a,this.b,-this.c,-this.d,this.e,this.f)}skewX(e){const t=Math.tan(e);return new this.constructor(this.a,this.b,this.c+this.a*t,this.d+this.b*t,this.e,this.f)}skewY(e){const t=Math.tan(e);return new this.constructor(this.a+this.c*t,this.b+this.d*t,this.c,this.d,this.e,this.f)}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.e===0&&this.f===0}isInvertible(){return this.a*this.d-this.b*this.c!==0}getScale(){return{scaleX:Math.sqrt(this.a*this.a+this.c*this.c),scaleY:Math.sqrt(this.b*this.b+this.d*this.d)}}getDecomposition(){const e=(this.a+this.d)*.5,t=(this.a-this.d)*.5,i=(this.b+this.c)*.5,r=(this.b-this.c)*.5,o=Math.sqrt(e*e+r*r),s=Math.sqrt(t*t+i*i),a=o+s,l=o-s,u=Math.atan2(i,t),c=Math.atan2(r,e),h=(c-u)*.5,d=(c+u)*.5;return{translation:this.constructor.translation(this.e,this.f),rotation:this.constructor.rotation(d),scale:this.constructor.nonUniformScaling(a,l),rotation0:this.constructor.rotation(h)}}equals(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}precisionEquals(e,t){return Math.abs(this.a-e.a)<t&&Math.abs(this.b-e.b)<t&&Math.abs(this.c-e.c)<t&&Math.abs(this.d-e.d)<t&&Math.abs(this.e-e.e)<t&&Math.abs(this.f-e.f)<t}toString(){return`matrix(${this.a},${this.b},${this.c},${this.d},${this.e},${this.f})`}}ut.IDENTITY=new ut;ut.IDENTITY.isIdentity=()=>!0;class ct{constructor(e,t){this.type=e,this.text=t}typeis(e){return this.type===e}}ct.UNDEFINED=0;ct.COMMAND=1;ct.NUMBER=2;ct.EOD=3;class Wg{constructor(e){e==null&&(e=""),this.setPathData(e)}setPathData(e){if(typeof e!="string")throw new TypeError("The first parameter must be a string");this._pathData=e}getNextToken(){let e=null,t=this._pathData;for(;e===null;)if(t===null||t==="")e=new ct(ct.EOD,"");else if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([AaCcHhLlMmQqSsTtVvZz])/))e=new ct(ct.COMMAND,RegExp.$1),t=t.substr(RegExp.$1.length);else if(t.match(/^(([-+]?\d+(\.\d*)?|[-+]?\.\d+)([eE][-+]?\d+)?)/))e=new ct(ct.NUMBER,RegExp.$1),t=t.substr(RegExp.$1.length);else throw new SyntaxError(`Unrecognized path data: ${t}`);return this._pathData=t,e}}const $i="BOP";class ue{constructor(){this._lexer=new Wg,this._handler=null}parseData(e){if(typeof e!="string")throw new TypeError(`The first parameter must be a string: ${e}`);this._handler!==null&&typeof this._handler.beginParse=="function"&&this._handler.beginParse();const t=this._lexer;t.setPathData(e);let i=$i,r=null,o=t.getNextToken();for(;o.typeis(ct.EOD)===!1;){let s;const a=[];switch(o.type){case ct.COMMAND:if(i===$i&&o.text!=="M"&&o.text!=="m")throw new SyntaxError(`New paths must begin with a moveto command. Found '${o.text}'`);i=o.text,s=ue.PARAMCOUNT[o.text.toUpperCase()],o=t.getNextToken();break;case ct.NUMBER:if(i===$i)throw new SyntaxError(`New paths must begin with a moveto command. Found '${o.text}'`);s=ue.PARAMCOUNT[i.toUpperCase()];break;default:throw new SyntaxError(`Unrecognized command type: ${o.type}`)}for(let l=0;l<s;l++){switch(o.type){case ct.COMMAND:throw new SyntaxError(`Parameter must be a number. Found '${o.text}'`);case ct.NUMBER:a[l]=parseFloat(o.text);break;case ct.EOD:throw new SyntaxError("Unexpected end of string");default:throw new SyntaxError(`Unrecognized parameter type. Found type '${o.type}'`)}o=t.getNextToken()}if(this._handler!==null){const l=this._handler,u=ue.METHODNAME[i];(i==="a"||i==="A")&&(a[3]=a[3]!==0,a[4]=a[4]!==0),l!==null&&typeof l[u]=="function"&&l[u](...a)}switch(i){case"M":i="L";break;case"m":i="l";break;case"Z":case"z":i="BOP";break}if(o===r)throw new SyntaxError(`Parser stalled on '${o.text}'`);r=o}this._handler!==null&&typeof this._handler.endParse=="function"&&this._handler.endParse()}setHandler(e){this._handler=e}}ue.PARAMCOUNT={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0};ue.METHODNAME={A:"arcAbs",a:"arcRel",C:"curvetoCubicAbs",c:"curvetoCubicRel",H:"linetoHorizontalAbs",h:"linetoHorizontalRel",L:"linetoAbs",l:"linetoRel",M:"movetoAbs",m:"movetoRel",Q:"curvetoQuadraticAbs",q:"curvetoQuadraticRel",S:"curvetoCubicSmoothAbs",s:"curvetoCubicSmoothRel",T:"curvetoQuadraticSmoothAbs",t:"curvetoQuadraticSmoothRel",V:"linetoVerticalAbs",v:"linetoVerticalRel",Z:"closePath",z:"closePath"};const Kg=2*Math.PI;function Vs(n,e,t,i,r,o,s){r=r*Math.PI/180;const a=Math.cos(r),l=Math.sin(r),u=1e-6,c=n.subtract(e).multiply(.5),h=c.x*a+c.y*l,d=c.x*-l+c.y*a;t=Math.abs(t),i=Math.abs(i);const f=h*h,m=d*d,g=f/(t*t)+m/(i*i);if(g>1){const y=Math.sqrt(g);t*=y,i*=y}const E=t*t,b=i*i,x=E*m,C=b*f;let _=(E*b-x-C)/(x+C);Math.abs(_)<u&&(_=0);let S=Math.sqrt(_);o===s&&(S=-S);const I=n.add(e).multiply(.5),O=S*t*d/i,F=S*-i*h/t,A=(h-O)/t,V=(h+O)/t,U=(d-F)/i,v=(d+F)/i,P=new Te(1,0).angleBetween(new Te(A,U));let T=new Te(A,U).angleBetween(new Te(-V,-v));return s===!1&&(T-=Kg),[O*a-F*l+I.x,O*l+F*a+I.y,t,i,P,P+T]}class jg{constructor(e){this.shapeCreator=e,this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}beginParse(){this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}addShape(e){this.shapes.push(e)}arcAbs(e,t,i,r,o,s,a){if(e===0||t===0)this.addShape(this.shapeCreator.line(this.lastX,this.lastY,s,a));else{const l=Vs(new Bt(this.lastX,this.lastY),new Bt(s,a),e,t,i,r,o);this.addShape(this.shapeCreator.arc(...l))}this.lastCommand="A",this.lastX=s,this.lastY=a}arcRel(e,t,i,r,o,s,a){if(e===0||t===0)this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+s,this.lastY+a));else{const l=Vs(new Bt(this.lastX,this.lastY),new Bt(this.lastX+s,this.lastY+a),e,t,i,r,o);this.addShape(this.shapeCreator.arc(...l))}this.lastCommand="a",this.lastX+=s,this.lastY+=a}curvetoCubicAbs(e,t,i,r,o,s){this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,e,t,i,r,o,s)),this.lastX=o,this.lastY=s,this.lastCommand="C"}curvetoCubicRel(e,t,i,r,o,s){this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,this.lastX+e,this.lastY+t,this.lastX+i,this.lastY+r,this.lastX+o,this.lastY+s)),this.lastX+=o,this.lastY+=s,this.lastCommand="c"}linetoHorizontalAbs(e){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,e,this.lastY)),this.lastX=e,this.lastCommand="H"}linetoHorizontalRel(e){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+e,this.lastY)),this.lastX+=e,this.lastCommand="h"}linetoAbs(e,t){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,e,t)),this.lastX=e,this.lastY=t,this.lastCommand="L"}linetoRel(e,t){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+e,this.lastY+t)),this.lastX+=e,this.lastY+=t,this.lastCommand="l"}movetoAbs(e,t){this.firstX=e,this.firstY=t,this.lastX=e,this.lastY=t,this.lastCommand="M"}movetoRel(e,t){this.firstX+=e,this.firstY+=t,this.lastX+=e,this.lastY+=t,this.lastCommand="m"}curvetoQuadraticAbs(e,t,i,r){this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,e,t,i,r)),this.lastX=i,this.lastY=r,this.lastCommand="Q"}curvetoQuadraticRel(e,t,i,r){this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,this.lastX+e,this.lastY+t,this.lastX+i,this.lastY+r)),this.lastX+=i,this.lastY+=r,this.lastCommand="q"}curvetoCubicSmoothAbs(e,t,i,r){let o,s;if(this.lastCommand.match(/^[SsCc]$/)){const a=this.shapes[this.shapes.length-1].args[2];o=2*this.lastX-a.x,s=2*this.lastY-a.y}else o=this.lastX,s=this.lastY;this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,o,s,e,t,i,r)),this.lastX=i,this.lastY=r,this.lastCommand="S"}curvetoCubicSmoothRel(e,t,i,r){let o,s;if(this.lastCommand.match(/^[SsCc]$/)){const a=this.shapes[this.shapes.length-1].args[2];o=2*this.lastX-a.x,s=2*this.lastY-a.y}else o=this.lastX,s=this.lastY;this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,o,s,this.lastX+e,this.lastY+t,this.lastX+i,this.lastY+r)),this.lastX+=i,this.lastY+=r,this.lastCommand="s"}curvetoQuadraticSmoothAbs(e,t){let i,r;if(this.lastCommand.match(/^[QqTt]$/)){const o=this.shapes[this.shapes.length-1].args[1];i=2*this.lastX-o.x,r=2*this.lastY-o.y}else i=this.lastX,r=this.lastY;this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,i,r,e,t)),this.lastX=e,this.lastY=t,this.lastCommand="T"}curvetoQuadraticSmoothRel(e,t){let i,r;if(this.lastCommand.match(/^[QqTt]$/)){const o=this.shapes[this.shapes.length-1].args[1];i=2*this.lastX-o.x,r=2*this.lastY-o.y}else i=this.lastX,r=this.lastY;this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,i,r,this.lastX+e,this.lastY+t)),this.lastX+=e,this.lastY+=t,this.lastCommand="t"}linetoVerticalAbs(e){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX,e)),this.lastY=e,this.lastCommand="V"}linetoVerticalRel(e){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX,this.lastY+e)),this.lastY+=e,this.lastCommand="v"}closePath(){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.firstX,this.firstY)),this.lastX=this.firstX,this.lastY=this.firstY,this.lastCommand="z"}}const re=Math.PI*.5,hu=new ue;function Ft(n,e){const t=[];for(const[i,r]of n){let o=null;if(r==="Point2D")o=Hr(i,e);else if(r==="Number")o=Ys(i,e);else if(r==="Array<Point2D>"||r==="Point2D[]"){const s=[];for(;e.length>0;)s.push(Hr(i,e));s.length>0&&(o=s)}else if(r==="Optional<Number>"||r==="Number?")o=Ys(i,e),o===null&&(o=void 0);else throw new TypeError(`Unrecognized value type: ${r}`);if(o!==null)t.push(o);else throw new TypeError(`Unable to extract value for ${i}`)}return t}function Ys(n,e){let t=null;if(e.length>0){const i=e[0],r=typeof i;if(r==="number")return e.shift();if(r==="object"){for(const o of n)if(o in i&&typeof i[o]=="number"){t=i[o];break}}}return t}function Hr(n,e){let t=null;if(e.length>0){const i=e[0],r=typeof i;if(r==="number"){if(e.length>1){const o=e.shift(),s=e.shift();t=new Bt(o,s)}}else if(Array.isArray(i)&&i.length>1)if(i.length===2){const[o,s]=e.shift();t=new Bt(o,s)}else throw new TypeError(`Unhandled array of length ${i.length}`);else if(r==="object"){if("x"in i&&"y"in i)t=new Bt(i.x,i.y),e.shift();else for(const o of n)if(Array.isArray(o)){if(o.every(s=>s in i)){t=new Bt(i[o[0]],i[o[1]]);break}}else if(o in i){t=Hr([],[i[o]]);break}}}return t}class Y{constructor(e,t){this.name=e,this.args=t}static arc(...e){const i=Ft([[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radiusX","rx"],"Number"],[["radiusY","ry"],"Number"],[["startRadians"],"Number"],[["endRadians"],"Number"]],e);return new Y(Y.ARC,i)}static quadraticBezier(...e){const i=Ft([[["p1",["p1x","p1y"]],"Point2D"],[["p2",["p2x","p2y"]],"Point2D"],[["p3",["p3x","p3y"]],"Point2D"]],e);return new Y(Y.QUADRATIC_BEZIER,i)}static cubicBezier(...e){const i=Ft([[["p1",["p1x","p1y"]],"Point2D"],[["p2",["p2x","p2y"]],"Point2D"],[["p3",["p3x","p3y"]],"Point2D"],[["p4",["p4x","p4y"]],"Point2D"]],e);return new Y(Y.CUBIC_BEZIER,i)}static circle(...e){const i=Ft([[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radius","r"],"Number"]],e);return new Y(Y.CIRCLE,i)}static ellipse(...e){const i=Ft([[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radiusX","rx"],"Number"],[["radiusY","ry"],"Number"]],e);return new Y(Y.ELLIPSE,i)}static line(...e){const i=Ft([[["p1",["p1x","p1y"],["x1","y1"]],"Point2D"],[["p2",["p2x","p2y"],["x2","y2"]],"Point2D"]],e);return new Y(Y.LINE,i)}static path(...e){return hu.parseData(e[0]),new Y(Y.PATH,du.shapes)}static polygon(...e){const i=Ft([[[],"Array<Point2D>"]],e.length===1&&Array.isArray(e[0])?e[0]:e);return new Y(Y.POLYGON,i)}static polyline(...e){const i=Ft([[[],"Array<Point2D>"]],e.length===1&&Array.isArray(e[0])?e[0]:e);return new Y(Y.POLYLINE,i)}static rectangle(...e){const i=Ft([[["topLeft",["x","y"],["left","top"]],"Point2D"],[["size",["width","height"],["w","h"]],"Point2D"],[["radiusX","rx"],"Optional<Number>"],[["radiusY","ry"],"Optional<Number>"]],e),r=i[0],o=i[1];i[1]=new Bt(r.x+o.x,r.y+o.y);const s=new Y(Y.RECTANGLE,i);let a=s.args.pop(),l=s.args.pop();if(l=l===void 0?0:l,a=a===void 0?0:a,l===0&&a===0)return s;const{x:u,y:c}=s.args[0],{x:h,y:d}=s.args[1],f=h-u,m=d-c;l===0&&(l=a),a===0&&(a=l),l>f*.5&&(l=f*.5),a>m*.5&&(a=m*.5);const g=u,E=c,b=u+l,x=c+a,C=h-l,_=d-a,S=h,I=d,O=[Y.arc(b,x,l,a,2*re,3*re),Y.line(b,E,C,E),Y.arc(C,x,l,a,3*re,4*re),Y.line(S,x,S,_),Y.arc(C,_,l,a,0,re),Y.line(C,I,b,I),Y.arc(b,_,l,a,re,2*re),Y.line(g,_,g,x)];return new Y(Y.PATH,O)}}Y.ARC="Arc";Y.QUADRATIC_BEZIER="Bezier2";Y.CUBIC_BEZIER="Bezier3";Y.CIRCLE="Circle";Y.ELLIPSE="Ellipse";Y.LINE="Line";Y.PATH="Path";Y.POLYGON="Polygon";Y.POLYLINE="Polyline";Y.RECTANGLE="Rectangle";const du=new jg(Y);hu.setHandler(du);const bo=p.createContext({context:null,inCanvas:!1,renderPath:null}),Ro=class Ro extends p.Component{constructor(e,t){super(e,t),this.canvas=p.createRef(),this.state={context:null,isLoaded:!1}}render(){const{width:e,height:t}=this.context;let{children:i,style:r}=this.props;this.state;let o=null;const{current:s}=this.canvas;s!=null&&(o=s.getContext("2d"));const a={context:o,inCanvas:!0,renderPath:null},l=window.devicePixelRatio||1;if(o!=null){a.renderPath=oo(this.context.projection,o),r==null&&(r={});let{fill:c,stroke:h,strokeWidth:d}=r;c==null&&(c="rgba(200,200,200,0.5)"),h==null&&(h="#444"),o.lineWidth=d||1,o.strokeStyle=h,o.fillStyle=c,o.setTransform(l,0,0,l,0,0),o.lineJoin="round",o.lineCap="round"}return r={width:e,height:t,pointerEvents:"none"},ht(bo.Provider,{value:a},p.createElement("foreignObject",{width:e,height:t},[p.createElement("canvas",{xmlns:"http://www.w3.org/1999/xhtml",width:e*l,height:t*l,style:r,ref:this.canvas}),i]))}componentWillUpdate(){const{height:e,width:t}=this.context,{current:i}=this.canvas;if(i==null)return;const r=i.getContext("2d");return r.clearRect(0,0,t,e),r.beginPath()}componentDidMount(){return this.componentDidUpdate(),this.setState({isLoaded:!0})}componentDidUpdate(){const{current:e}=this.canvas;if(e==null)return;const t=e.getContext("2d");return t.fill(),t.stroke()}};Ro.contextType=Le;let Kn=Ro;Kn.__docgenInfo={description:"",methods:[],displayName:"CanvasLayer"};function Zg({geometry:n,style:e}){const{projection:t}=p.useContext(Le),{context:i}=p.useContext(bo);return i!=null&&((e==null?void 0:e.fill)!=null&&(i.fillColor=e.fill),(e==null?void 0:e.stroke)!=null&&(i.strokeColor=e.stroke),oo(t,i)(n)),null}function $s(n){const{feature:e,onClick:t,id:i,style:r,...o}=n,{inCanvas:s}=p.useContext(bo),{geometry:a,properties:l}=e,u=i??e.id,{projection:c,renderPath:h}=p.useContext(Le);if(s)return w(Zg,{geometry:a,style:r});{const d=h(a);return w("path.feature",{className:`feature-${u}`,style:r,...o,d,onClick:()=>{if(t!=null)return t(e)}})}}const Qg=n=>{const{useCanvas:e,features:t,geometry:i,children:r,...o}=n;let s=null;return t!=null?s=t.map((l,u)=>w($s,{feature:l,key:u})):i!=null&&(s=w($s,{feature:{id:0,geometry:i}})),w(e?Kn:"g",o,[r,s])};Qg.defaultProps={useCanvas:!1};function Jg(n){return ht(lo,{geometry:{type:"Sphere"},className:"background",...n})}function ty(n){const e=Ru(n,"neatline");return ht(lo,{geometry:{type:"Sphere"},...e})}const ey={keepNorthUp:!1,allowDrag:!0,allowZoom:!1,center:[0,0],graticule:Jd,projection:ul().clipAngle(90).precision(.5)};function Ry(n){const e={...ey,...n};let{children:t,keepNorthUp:i,allowDrag:r,allowZoom:o,scale:s,center:a,graticule:l,onRotate:u,zoomScaleExtent:c,graticuleSpacing:h=10}=e;const{width:d,height:f,margin:m=80,translate:g,...E}=e,[b,x]=p.useReducer(dl,{projection:e.projection,zoom:1,canvasContexts:new Set([]),updateCount:0}),C=p.useCallback(y=>{y.type==="rotate"&&(u==null||u(y.rotation)),x(y)},[x,u]),{projection:_}=b,S=s||_.scale()||500,I=p.useRef(null),O=p.useRef(null),F=d-2*m,A=f-2*m,V=Rf(a);p.useEffect(()=>{const y=[-V[0],-V[1]];x({type:"rotate",rotation:y})},[V]),p.useEffect(()=>{const y=g??[F/2,A/2],R=_.translate(y).scale(s).clipExtent([[0,0],[F,A]]);x({type:"update",projection:R})},[e.projection,F,A,m,g,s]);const U=p.useMemo(()=>oo(b.projection),[b.projection]),v={projection:_,renderPath:U,width:F,height:A,margin:m},P="http://www.w3.org/2000/svg",T=`0 0 ${d} ${f}`;return p.useEffect(()=>{const y=_.scale(s);x({type:"update",projection:y})},[s]),ht(Le.Provider,{value:v},ht(cl.Provider,{value:C},p.createElement("svg",{className:"macrostrat-map globe",ref:I,xmlns:P,width:d,height:d,viewBox:T},[ht("g.map",{ref:O,transform:`translate(${m} ${m})`},[ht(Jg),ht(l,{stepSize:h}),t,ht(ty)]),ht.if(r)(Sf,{keepNorthUp:i,initialScale:S,dragSensitivity:.1,allowZoom:o,scaleExtent:c})])))}const it=Gt(Yh);function ny(n){return it(Tc,{axisType:Jn.AGE,...n})}const iy=[2,5],ry=n=>{const{data:e,range:t,pixelScale:i,unitComponent:r,showLabels:o=!0,targetUnitHeight:s=20,width:a=300,columnWidth:l=150,unitComponentProps:u}=n,c=e[e.length-1].b_age,h=e[0].t_age,d=p.useMemo(()=>t??[c,h],[t,c,h]),f=p.useMemo(()=>d[0]-d[1],[d]),m=p.useMemo(()=>{if(i!=null)return i;const b=s*e.length;return Math.ceil(b/f)},[i,s,e.length,f]),g=p.useMemo(()=>f*m,[f,m]),E=p.useMemo(()=>({...u,nColumns:Math.min(Math.max(...e.map(b=>b.column))+1,(u==null?void 0:u.nColumns)??2)}),[e,u]);return it(ny,{divisions:e,range:d,pixelsPerMeter:m},[it(Bh,{width:20,padding:0,paddingV:10,showLabel:!1}),it("div.timescale-container",{style:{marginTop:"10px"}},[it(Nu,{orientation:Tu.VERTICAL,length:g,levels:iy,absoluteAgeScale:!0,showAgeAxis:!1,ageRange:d})]),it(da,{innerWidth:o?a:l,paddingRight:1,paddingLeft:1,paddingV:10,innerHeight:g},it(od,{width:o?a:l,columnWidth:l,gutterWidth:5,showLabels:o,unitComponent:r,unitComponentProps:E}))])};function oy({division:n,nColumns:e=2,...t}){const{width:i}=p.useContext(Xt);return it(Ga,{division:n,...t,width:n.overlappingUnits.length>0?i/e:i,x:n.column*i/e})}function sy({upperUnits:n=[],lowerUnits:e=[],style:t}){if(n.length==0||e.length==0)return null;const i=e[0].t_age-n[n.length-1].b_age;return it("div.unconformity",{style:t},it("div.unconformity-text",`${i.toFixed(1)} Ma`))}function Dy(n){const{data:e,unitComponent:t=oy,unconformityLabels:i=!1,showLabels:r=!0,width:o=300,columnWidth:s=150,className:a,...l}=n,u=Lu();let c=p.useMemo(()=>{let d=Array.from(hc(e,f=>f.section_id));return d.sort((f,m)=>f.t_age-m.t_age),d},[e]);const h=B(a,{"dark-mode":(u==null?void 0:u.isEnabled)??!1});return it("div.column-container",{className:h},it("div.column",[it("div.age-axis-label","Age (Ma)"),it("div.main-column",c.map(([d,f],m)=>{var E;const g=(E=c[m-1])==null?void 0:E[1];return it([it.if(i)(sy,{upperUnits:g,lowerUnits:f,style:{width:r?s:o}}),it(`div.section.section-${d}`,[it(ry,{data:f,unitComponent:t,showLabels:r,width:o,columnWidth:s,...l})])])}))]))}export{Dy as C,Qg as F,Ry as G,Le as M,Ie as a,he as b,G as c,Lt as d,Sy as e,tt as f,Ee as g,Z as h,$s as i,Ct as n,ft as r,ne as s};
