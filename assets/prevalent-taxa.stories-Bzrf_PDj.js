import{b as x,m as d}from"./index.modern-CvnqY6Qc.js";import{r as l}from"./index-BBkUAzwr.js";import{a as p}from"./index-DwtI8WR9.js";import{S as f}from"./spinner-CC0I4b9P.js";import"./index-DtBkkNk_.js";import"./axios-Bqepj0vs.js";import"./tslib.es6-ChmHIYM0.js";const _="_row_1f5o2_18",g={"prevalent-taxa-row":"_prevalent-taxa-row_1f5o2_1","prevalent-taxa-container":"_prevalent-taxa-container_1f5o2_8",row:_,"prevalent-taxa":"_prevalent-taxa_1f5o2_1","prevalent-taxa-title":"_prevalent-taxa-title_1f5o2_1","normalize-link":"_normalize-link_1f5o2_52"},t=x(g),u="https://paleobiodb.org/data1.2/occs/prevalence.json",b="https://macrostrat.org/api/v2/fossils";async function h(e){const s=(await p.get(b,{params:{strat_name_id:e}})).data.success.data.map(a=>a.cltn_id);if(s.length>0){const a=await p.get(u,{params:{limit:5,coll_id:s.join(",")}});return a.data.records.forEach(r=>{var i=r.nam.split(" ");r.nam=i[0]+(i.length>1?"*":"")}),a.data.records}return[]}function w({strat_name_id:e}){const[n,s]=l.useState();return console.log(n),l.useEffect(()=>{async function a(){const r=await h(e);s(r)}a()},[e]),typeof n>"u"?t(f):t("div.row .prevalent-taxa-row",[t("div.prevalent-taxa-container",[t("div.prevalent-taxa",[t("p",{id:"prevalent-taxa-title"},["Prevalent taxa"]),t("p",[t("small",["via ",t("a.normalize-link",{href:"https://paleobiodb.org",target:"_blank"},["PaleoBioDB"])])])])]),n.map((a,r)=>t("div.prevalent-taxa-container",{key:r},[t("div.prevalent-taxa",[t("img",{src:a.img?"https://paleobiodb.org/data1.2/taxa/thumb.png?id="+a.img:"",title:a.nam+" ("+a.noc+" occurrences)"}),t("p",[t("a.normalize-link",{href:"https://paleobiodb.org/cgi-bin/bridge.pl?a=basicTaxonInfo&taxon_no="+a.oid,target:"_blank"},[a.nam])])])]))])}const D={title:"Data components/Prevalent taxa (PBDB integration)",args:{}},P=e=>d(w,{...e}),o=P.bind();o.args={strat_name_id:1415};var c,m,v;o.parameters={...o.parameters,docs:{...(c=o.parameters)==null?void 0:c.docs,source:{originalSource:`args => h(PrevalentTaxa, {
  ...args
})`,...(v=(m=o.parameters)==null?void 0:m.docs)==null?void 0:v.source}}};const j=["PrevalentTaxaExample"];export{o as PrevalentTaxaExample,j as __namedExportsOrder,D as default};
